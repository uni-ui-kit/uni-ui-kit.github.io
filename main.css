div.code-toolbar{position:relative}div.code-toolbar>.toolbar{opacity:0;position:absolute;right:.2em;top:.3em;transition:opacity .3s ease-in-out;z-index:10}div.code-toolbar:hover>.toolbar{opacity:1}div.code-toolbar:focus-within>.toolbar{opacity:1}div.code-toolbar>.toolbar>.toolbar-item{display:inline-block}div.code-toolbar>.toolbar>.toolbar-item>a{cursor:pointer}div.code-toolbar>.toolbar>.toolbar-item>button{background:none;border:0;color:inherit;font:inherit;line-height:normal;overflow:visible;padding:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}div.code-toolbar>.toolbar>.toolbar-item>a,div.code-toolbar>.toolbar>.toolbar-item>button,div.code-toolbar>.toolbar>.toolbar-item>span{background:#f5f2f0;background:hsla(0,0%,88%,.2);border-radius:.5em;box-shadow:0 2px 0 0 rgba(0,0,0,.2);color:#bbb;font-size:.8em;padding:0 .5em}div.code-toolbar>.toolbar>.toolbar-item>a:focus,div.code-toolbar>.toolbar>.toolbar-item>a:hover,div.code-toolbar>.toolbar>.toolbar-item>button:focus,div.code-toolbar>.toolbar>.toolbar-item>button:hover,div.code-toolbar>.toolbar>.toolbar-item>span:focus,div.code-toolbar>.toolbar>.toolbar-item>span:hover{color:inherit;text-decoration:none}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#f9f9f9;border:1px solid #f3f3f4;border-radius:4px;margin:20px 0;padding:20px}div.code-toolbar>.toolbar{align-items:center;background-color:#333948;border-radius:0 4px;display:flex;height:26px;opacity:1!important;right:0;top:0;width:70px}div.code-toolbar>.toolbar .toolbar-item{box-sizing:border-box;display:block;height:100%;width:100%}div.code-toolbar>.toolbar .toolbar-item>button{background-color:transparent;box-shadow:none;display:block;height:100%;padding:0;width:100%}div.code-toolbar>.toolbar .toolbar-item>button span{color:#fff!important;display:block;text-align:center;width:100%}.retina-1x-profile{background-position:-54px -54px;background-position:-18px -18px;background-size:54px 36px;height:54px;height:18px;width:54px;width:18px}.retina-1x-profile,.retina-2x-profile{background-image:url(392571c8da8bc9845836.png);display:inline-block}.retina-2x-profile{background-position:-54px -54px;background-position:-27px -27px;background-size:81px 54px;height:54px;height:27px;width:54px;width:27px}.retina-3x-profile{background-position:-54px -54px;background-size:162px 108px}.retina-1x-favorite,.retina-3x-profile{background-image:url(392571c8da8bc9845836.png);display:inline-block;height:54px;width:54px}.retina-1x-favorite{background-position:0 0;background-size:54px 36px;height:18px;width:18px}.retina-2x-favorite{background-size:81px 54px;height:54px;height:27px;width:54px;width:27px}.retina-2x-favorite,.retina-3x-favorite{background-image:url(392571c8da8bc9845836.png);background-position:0 0;display:inline-block}.retina-3x-favorite{background-size:162px 108px;height:54px;width:54px}.retina-1x-warning{background-position:-108px -54px;background-position:-36px -18px;background-size:54px 36px;height:54px;height:18px;width:54px;width:18px}.retina-1x-warning,.retina-2x-warning{background-image:url(392571c8da8bc9845836.png);display:inline-block}.retina-2x-warning{background-position:-108px -54px;background-position:-54px -27px;background-size:81px 54px;height:54px;height:27px;width:54px;width:27px}.retina-3x-warning{background-position:-108px -54px;background-size:162px 108px}.retina-1x-vip,.retina-3x-warning{background-image:url(392571c8da8bc9845836.png);display:inline-block;height:54px;width:54px}.retina-1x-vip{background-position:-108px 0;background-position:-36px 0;background-size:54px 36px;height:18px;width:18px}.retina-2x-vip{background-position:-108px 0;background-position:-54px 0;background-size:81px 54px;height:54px;height:27px;width:54px;width:27px}.retina-2x-vip,.retina-3x-vip{background-image:url(392571c8da8bc9845836.png);display:inline-block}.retina-3x-vip{background-position:-108px 0;background-size:162px 108px;height:54px;width:54px}.retina-1x-money{background-position:0 -54px;background-position:0 -18px;background-size:54px 36px;height:54px;height:18px;width:54px;width:18px}.retina-1x-money,.retina-2x-money{background-image:url(392571c8da8bc9845836.png);display:inline-block}.retina-2x-money{background-position:0 -54px;background-position:0 -27px;background-size:81px 54px;height:54px;height:27px;width:54px;width:27px}.retina-3x-money{background-position:0 -54px;background-size:162px 108px}.retina-1x-memo,.retina-3x-money{background-image:url(392571c8da8bc9845836.png);display:inline-block;height:54px;width:54px}.retina-1x-memo{background-position:-54px 0;background-position:-18px 0;background-size:54px 36px;height:18px;width:18px}.retina-2x-memo{background-position:-54px 0;background-position:-27px 0;background-size:81px 54px;height:54px;height:27px;width:54px;width:27px}.retina-2x-memo,.retina-3x-memo{background-image:url(392571c8da8bc9845836.png);display:inline-block}.retina-3x-memo{background-position:-54px 0;background-size:162px 108px;height:54px;width:54px}.react-grid-layout{position:relative;transition:height .2s ease}.react-grid-item{transition:all .2s ease;transition-property:left,top}.react-grid-item img{pointer-events:none;user-select:none}.react-grid-item.cssTransforms{transition-property:transform}.react-grid-item.resizing{will-change:width,height;z-index:1}.react-grid-item.react-draggable-dragging{transition:none;will-change:transform;z-index:3}.react-grid-item.dropping{visibility:hidden}.react-grid-item.react-grid-placeholder{background:red;opacity:.2;transition-duration:.1s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;z-index:2}.react-grid-item>.react-resizable-handle{height:20px;position:absolute;width:20px}.react-grid-item>.react-resizable-handle:after{border-bottom:2px solid rgba(0,0,0,.4);border-right:2px solid rgba(0,0,0,.4);bottom:3px;content:"";height:5px;position:absolute;right:3px;width:5px}.react-resizable-hide>.react-resizable-handle{display:none}.react-grid-item>.react-resizable-handle.react-resizable-handle-sw{bottom:0;cursor:sw-resize;left:0;transform:rotate(90deg)}.react-grid-item>.react-resizable-handle.react-resizable-handle-se{bottom:0;cursor:se-resize;right:0}.react-grid-item>.react-resizable-handle.react-resizable-handle-nw{cursor:nw-resize;left:0;top:0;transform:rotate(180deg)}.react-grid-item>.react-resizable-handle.react-resizable-handle-ne{cursor:ne-resize;right:0;top:0;transform:rotate(270deg)}.react-grid-item>.react-resizable-handle.react-resizable-handle-e,.react-grid-item>.react-resizable-handle.react-resizable-handle-w{cursor:ew-resize;margin-top:-10px;top:50%}.react-grid-item>.react-resizable-handle.react-resizable-handle-w{left:0;transform:rotate(135deg)}.react-grid-item>.react-resizable-handle.react-resizable-handle-e{right:0;transform:rotate(315deg)}.react-grid-item>.react-resizable-handle.react-resizable-handle-n,.react-grid-item>.react-resizable-handle.react-resizable-handle-s{cursor:ns-resize;left:50%;margin-left:-10px}.react-grid-item>.react-resizable-handle.react-resizable-handle-n{top:0;transform:rotate(225deg)}.react-grid-item>.react-resizable-handle.react-resizable-handle-s{bottom:0;transform:rotate(45deg)}.react-resizable{position:relative}.react-resizable-handle{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2IiBoZWlnaHQ9IjYiIHN0eWxlPSJiYWNrZ3JvdW5kLWNvbG9yOiNmZmZmZmYwMCI+PHBhdGggZD0iTTYgNkgwVjQuMmg0LjJWMEg2djZaIiBvcGFjaXR5PSIuMzAyIi8+PC9zdmc+);background-origin:content-box;background-position:100% 100%;background-repeat:no-repeat;box-sizing:border-box;height:20px;padding:0 3px 3px 0;position:absolute;width:20px}.react-resizable-handle-sw{bottom:0;cursor:sw-resize;left:0;transform:rotate(90deg)}.react-resizable-handle-se{bottom:0;cursor:se-resize;right:0}.react-resizable-handle-nw{cursor:nw-resize;left:0;top:0;transform:rotate(180deg)}.react-resizable-handle-ne{cursor:ne-resize;right:0;top:0;transform:rotate(270deg)}.react-resizable-handle-e,.react-resizable-handle-w{cursor:ew-resize;margin-top:-10px;top:50%}.react-resizable-handle-w{left:0;transform:rotate(135deg)}.react-resizable-handle-e{right:0;transform:rotate(315deg)}.react-resizable-handle-n,.react-resizable-handle-s{cursor:ns-resize;left:50%;margin-left:-10px}.react-resizable-handle-n{top:0;transform:rotate(225deg)}.react-resizable-handle-s{bottom:0;transform:rotate(45deg)}.component-wrap{background-color:#fff;box-sizing:border-box;margin:10px auto 0}html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}abbr,blockquote,body,button,dd,dl,dt,fieldset,figure,form,h1,h2,h3,h4,h5,h6,hgroup,html,input,legend,li,ol,p,pre,ul{margin:0;padding:0}@font-face{font-family:Pretendard;font-weight:100;src:url(770619bf32e0cae375cb.woff2) format("woff2"),url(66aaf0fb2444fb89310d.woff) format("woff")}@font-face{font-family:Pretendard;font-weight:200;src:url(4521676833c412121f84.woff2) format("woff2"),url(fb3afdcc48b659aff8e8.woff) format("woff")}@font-face{font-family:Pretendard;font-weight:300;src:url(b69f43166ece4630a580.woff2) format("woff2"),url(9a32e172da833d90574d.woff) format("woff")}@font-face{font-family:Pretendard;font-weight:400;src:url(876e22b04ee52b4523d3.woff2) format("woff2"),url(e17e49fe3a695af33609.woff) format("woff")}@font-face{font-family:Pretendard;font-weight:500;src:url(c6c0fe2bdcca8667919c.woff2) format("woff2"),url(2216ab02fe5bd3b7d8af.woff) format("woff")}@font-face{font-family:Pretendard;font-weight:600;src:url(d27c10f7eeb621b3ab87.woff2) format("woff2"),url(993fdcffb91f91dd9176.woff) format("woff")}@font-face{font-family:Pretendard;font-weight:700;src:url(125418445ca859f0e053.woff2) format("woff2"),url(fd82943b2c9a8209851b.woff) format("woff")}@font-face{font-family:Pretendard;font-weight:800;src:url(035ee0b7755958832160.woff2) format("woff2"),url(819ba6b8b367336d9572.woff) format("woff")}@font-face{font-family:Pretendard;font-weight:900;src:url(f3fa2b26c97b3e87b979.woff2) format("woff2"),url(9748a4898931104fb46b.woff) format("woff")}body,html{font-family:Pretendard,-apple-system,BlinkMacSystemFont,system-ui,Roboto,Helvetica Neue,Segoe UI,Apple SD Gothic Neo,Noto Sans KR,Malgun Gothic,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,sans-serif;font-size:10px;line-height:1.5}button{background:none;border:0;box-sizing:initial;color:inherit;cursor:pointer;font:inherit;line-height:inherit;overflow:visible;vertical-align:inherit}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}fieldset,iframe{border:0}label{cursor:pointer;font-family:inherit}input{appearance:none;box-sizing:border-box}input:focus-visible{outline:unset}input:disabled{box-shadow:none!important}input:disabled,input:disabled+label{cursor:not-allowed}input[type=text]{border:0}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}textarea{overflow:auto}ol,ul{list-style:none}img{border-style:none}audio,canvas,progress,video{vertical-align:initial}address,caption,figcaption,pre,th{font-size:1em;font-style:normal;font-weight:400}caption,th{text-align:left}table{border-collapse:collapse;border-spacing:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}code,kbd,samp{font-family:inherit;font-size:1em}details,main,summary{display:block}h1,h2,h3,h4,h5,h6{font-weight:400}hr{box-sizing:initial;height:0;overflow:visible}p{font-size:12px;line-height:1.5}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:initial}sub{bottom:-.25em}sup{top:-.5em}template{display:none}.app-container{padding-bottom:100px}.quick-link{margin:0 auto;width:1000px}.quick-link ul{align-items:center;display:flex;justify-content:flex-start}.quick-link ul li{margin-right:20px}.quick-link ul li a{color:#000;display:block;font-size:18px;list-style:none;text-decoration:none}.component-wrap .component-table td:not(:first-child),.component-wrap .component-table th:not(:first-child){text-align:center;width:150px}.guide-wrap{display:flex;width:100%}.guide-wrap header{background-color:#1c90fa;color:#fff;font-size:20px;font-weight:500;height:40px;left:200px;letter-spacing:-.01em;line-height:40px;padding-left:20px;position:fixed;top:0;width:calc(100% - 200px);z-index:33}.guide-wrap .gnb{background-color:#333948;height:100vh;left:0;min-width:200px;position:fixed;top:0;width:200px}.guide-wrap .gnb h1.title{border-bottom:1px solid #222;color:#1c90fa;font-size:18px;font-weight:700;line-height:40px;padding-left:20px}.guide-wrap .gnb>ul>li{padding-bottom:12px;position:relative}.guide-wrap .gnb>ul>li h2.title{color:#ebebeb;font-size:16px;line-height:36px;margin-top:12px;padding-left:20px}.guide-wrap .gnb>ul>li>ul>li>button{box-sizing:border-box;color:#1c90fa;font-size:16px;line-height:36px;padding-left:20px;position:relative;text-align:left;width:100%}.guide-wrap .gnb>ul>li>ul>li>button:after{background:url(9a1a6d1d0467022607a5.svg) no-repeat 50%/cover;content:"";display:block;height:11px;position:absolute;right:12px;top:50%;transform:translateY(-50%);transition:all .3s;width:11px}.guide-wrap .gnb>ul>li>ul>li>button.active:after{top:11px;transform:rotate(180deg)}.guide-wrap .gnb>ul>li>ul>li>button.active+ul{display:block}.guide-wrap .gnb>ul>li>ul>li ul{display:none}.guide-wrap .gnb>ul>li>ul>li ul li{padding-left:30px}.guide-wrap .gnb>ul>li>ul>li ul li a{color:#858891;display:block;font-size:13px;line-height:26px}.guide-wrap .gnb>ul>li>ul>li ul li a.active{color:#1c90fa}.guide-wrap .gnb>ul>li:after{background-color:#707070;bottom:0;content:"";display:block;height:1px;left:50%;position:absolute;transform:translateX(-50%);width:calc(100% - 20px)}.guide-wrap .contents{margin-left:200px;margin-top:40px;padding:40px;width:calc(100% - 200px)}.guide-wrap .contents .guide-title{border-bottom:1px solid #ebebeb;padding-bottom:7px}.guide-wrap .contents .guide-title span{color:#1c90fa;display:inline-block;font-size:22px;font-weight:700;letter-spacing:-.01em;line-height:30px;position:relative}.guide-wrap .contents .guide-title span:after{background-color:#1c90fa;bottom:-9px;content:"";display:block;height:2px;left:0;position:absolute;width:100%}.guide-wrap .contents .guide-box{border-bottom:1px solid #ebebeb;margin-top:40px;padding-bottom:40px}.guide-wrap .contents .guide-box>h3{font-size:18px;font-weight:700;letter-spacing:-.03em;line-height:24px;padding-left:20px;position:relative}.guide-wrap .contents .guide-box>h3:focus,.guide-wrap .contents .guide-box>h3:hover{cursor:pointer;text-decoration:underline}.guide-wrap .contents .guide-box>h3:before{background:url(43f0582afdc631d619da.svg) no-repeat 50%/cover;content:"";display:block;height:16px;left:0;position:absolute;top:3px;width:16px}.guide-wrap .contents .guide-box>h4{color:#213158;font-size:16px;font-weight:700;letter-spacing:-.03em;margin-top:40px}.guide-wrap .contents .guide-box>p{color:#666;font-size:14px;font-weight:400;letter-spacing:-.03em;line-height:24px;margin-top:10px}.guide-wrap .contents .guide-box>p .tag{background-color:#ebf6f8;border-radius:4px;color:#338d9d;font-weight:500;margin:0 2px;padding:1px 8px 2px;position:relative;top:-1px}.guide-wrap .contents .guide-box>p .link{color:#136ad5;cursor:pointer;text-decoration:underline}.component-wrap dl{margin-top:30px}.component-wrap dl dt{color:#444;font-size:12px;font-weight:100;letter-spacing:-.03em;line-height:21px}.component-wrap dl dd{background-color:hsla(0,0%,90%,.3);margin-top:7px}.component-wrap .component-table{display:block;letter-spacing:-.36px;margin-bottom:21px}.component-wrap .component-table thead{border-top:1px solid #000;display:inline-block}.component-wrap .component-table thead>tr>th:first-child{font-weight:700}.component-wrap .component-table tr{border-bottom:1px solid #e6e6e6}.component-wrap .component-table th:not(:last-child){border-right:1px solid #e6e6e6}.component-wrap .component-table th{background-color:#fafafa}.component-wrap .component-table td{border-left:1px solid #e6e6e6}.component-wrap .component-table th:first-child{padding:16px 16px 17px 0;text-align:right;white-space:nowrap;width:120px}*{list-style:none;margin:0;padding:0}.grid-container{margin:0 auto;max-width:1360px;padding:0 30px}.grid-container-fluid{padding:0 30px;width:100%}.row{align-items:flex-start;display:flex;flex-wrap:wrap;font-size:24px;justify-content:flex-start}.row [class*=col]{border:1px solid #000;box-sizing:border-box;flex:1 0;padding:10px;text-align:center;width:100%}.row [class*=col-0]{display:none}.row .col-1{flex:0 0 auto;width:8.3333333333%}.row .col-2{flex:0 0 auto;width:16.6666666667%}.row .col-3{flex:0 0 auto;width:25%}.row .col-4{flex:0 0 auto;width:33.3333333333%}.row .col-5{flex:0 0 auto;width:41.6666666667%}.row .col-6{flex:0 0 auto;width:50%}.row .col-7{flex:0 0 auto;width:58.3333333333%}.row .col-8{flex:0 0 auto;width:66.6666666667%}.row .col-9{flex:0 0 auto;width:75%}.row .col-10{flex:0 0 auto;width:83.3333333333%}.row .col-11{flex:0 0 auto;width:91.6666666667%}.row .col-12{flex:0 0 auto;width:100%}.row .suffix-1{margin-right:8.3333333333%}.row .suffix-2{margin-right:16.6666666667%}.row .suffix-3{margin-right:25%}.row .suffix-4{margin-right:33.3333333333%}.row .suffix-5{margin-right:41.6666666667%}.row .suffix-6{margin-right:50%}.row .suffix-7{margin-right:58.3333333333%}.row .suffix-8{margin-right:66.6666666667%}.row .suffix-9{margin-right:75%}.row .suffix-10{margin-right:83.3333333333%}.row .suffix-11{margin-right:91.6666666667%}.row .suffix-12{margin-right:100%}.row .prefix-1{margin-left:8.3333333333%}.row .prefix-2{margin-left:16.6666666667%}.row .prefix-3{margin-left:25%}.row .prefix-4{margin-left:33.3333333333%}.row .prefix-5{margin-left:41.6666666667%}.row .prefix-6{margin-left:50%}.row .prefix-7{margin-left:58.3333333333%}.row .prefix-8{margin-left:66.6666666667%}.row .prefix-9{margin-left:75%}.row .prefix-10{margin-left:83.3333333333%}.row .prefix-11{margin-left:91.6666666667%}.row .prefix-12{margin-left:100%}.row .gutter-no{padding-left:0!important}.row .gutter-no,.row .gutter-suffix-no{padding-right:0!important}.row .gutter-prefix-no{padding-left:0!important}.after-no:after,.before-no:before{display:none!important}.row [class*=col-]{position:relative}.row [class*=col-]:after,.row [class*=col-]:before{background-color:rgba(255,165,0,.471);content:"";display:block;height:100%;position:absolute;top:0;width:10px}.row [class*=col-]:before{left:0}.row [class*=col-]:after{right:0}.info-text{padding:30px 0 15px}h1{font-size:48px;font-weight:500;margin-bottom:10px}h1 b{color:#c61b1b}h2.guide{margin-bottom:4px;padding-left:10px;position:relative}h2.guide:before{background-color:#000;border-radius:50%;content:"";display:block;height:4px;left:2px;position:absolute;top:11px;width:4px}p.sub{font-size:18px;font-weight:400;line-height:1.5;padding-bottom:30px;padding-left:20px}.row strong{font-size:28px}.color-guide ul{padding:10px}.color-guide ul,.color-guide ul li{align-items:center;display:flex;justify-content:flex-start}.color-guide ul li{font-size:18px;margin-right:20px}.color-guide ul li span{background-color:#000;border:1px solid #e1e1e1;box-sizing:border-box;height:15px;margin-right:5px;width:25px}.color-guide ul li span.column{background-color:rgba(255,20,25,.1)}.color-guide ul li span.margin{background-color:rgba(0,128,16,.2)}.color-guide ul li span.gutter{background-color:rgba(0,20,150,.1)}.color-guide ul li span.gutter2{background-color:rgba(255,165,0,.471)}.show-grid{min-height:1400px;position:relative;z-index:3}.show-grid:after,.show-grid:before{content:"";display:block;height:100%;left:0;left:50%;position:absolute;top:0;transform:translateX(-50%);width:100%;z-index:-2}.show-grid:before{background:linear-gradient(90deg,rgba(0,20,150,.1) 10px,rgba(255,20,25,.1) 0,rgba(255,20,25,.1) calc(100% - 10px),rgba(0,20,150,.1) calc(100% - 10px),rgba(0,20,150,.1));background-size:8.33333%;margin:0 auto;width:calc(100% - 60px)}.show-grid .grid-background{height:100%;position:absolute;width:100%;z-index:-1}.show-grid .grid-background:after,.show-grid .grid-background:before{background-color:rgba(0,128,16,.2);content:"";display:block;height:100%;position:absolute;top:0;width:30px}.show-grid .grid-background:before{left:0}.show-grid .grid-background:after{right:0}@media(min-width:1px)and (max-width:860px){.row .col-m-1{flex:0 0 auto;width:25%}.row .col-m-2{flex:0 0 auto;width:50%}.row .col-m-3{flex:0 0 auto;width:75%}.row .col-m-4{flex:0 0 auto;width:100%}.row .suffix-m-1{margin-right:8.3333333333%}.row .suffix-m-2{margin-right:16.6666666667%}.row .suffix-m-3{margin-right:25%}.row .suffix-m-4{margin-right:33.3333333333%}.row .suffix-m-5{margin-right:41.6666666667%}.row .suffix-m-6{margin-right:50%}.row .suffix-m-7{margin-right:58.3333333333%}.row .suffix-m-8{margin-right:66.6666666667%}.row .suffix-m-9{margin-right:75%}.row .suffix-m-10{margin-right:83.3333333333%}.row .suffix-m-11{margin-right:91.6666666667%}.row .suffix-m-12{margin-right:100%}.row .prefix-m-1{margin-left:8.3333333333%}.row .prefix-m-2{margin-left:16.6666666667%}.row .prefix-m-3{margin-left:25%}.row .prefix-m-4{margin-left:33.3333333333%}.row .prefix-m-5{margin-left:41.6666666667%}.row .prefix-m-6{margin-left:50%}.row .prefix-m-7{margin-left:58.3333333333%}.row .prefix-m-8{margin-left:66.6666666667%}.row .prefix-m-9{margin-left:75%}.row .prefix-m-10{margin-left:83.3333333333%}.row .prefix-m-11{margin-left:91.6666666667%}.row .prefix-m-12{margin-left:100%}.row [class*=col]{padding:6px}.show-grid:before{background:linear-gradient(90deg,rgba(0,20,150,.1) 6px,rgba(255,20,25,.1) 0,rgba(255,20,25,.1) calc(100% - 6px),rgba(0,20,150,.1) calc(100% - 6px),rgba(0,20,150,.1));background-size:25%;margin:0 auto;width:calc(100% - 30px)}.show-grid .grid-background:after,.show-grid .grid-background:before{background-color:rgba(0,128,16,.2);width:15px}.grid-container,.grid-container-fluid{padding:15px}[class*=col-]:after,[class*=col-]:before{width:6px}}@media(min-width:861px)and (max-width:1360px){.row .col-t-1{flex:0 0 auto;width:12.5%}.row .col-t-2{flex:0 0 auto;width:25%}.row .col-t-3{flex:0 0 auto;width:37.5%}.row .col-t-4{flex:0 0 auto;width:50%}.row .col-t-5{flex:0 0 auto;width:62.5%}.row .col-t-6{flex:0 0 auto;width:75%}.row .col-t-7{flex:0 0 auto;width:87.5%}.row .col-t-8{flex:0 0 auto;width:100%}.row .suffix-t-1{margin-right:8.3333333333%}.row .suffix-t-2{margin-right:16.6666666667%}.row .suffix-t-3{margin-right:25%}.row .suffix-t-4{margin-right:33.3333333333%}.row .suffix-t-5{margin-right:41.6666666667%}.row .suffix-t-6{margin-right:50%}.row .suffix-t-7{margin-right:58.3333333333%}.row .suffix-t-8{margin-right:66.6666666667%}.row .suffix-t-9{margin-right:75%}.row .suffix-t-10{margin-right:83.3333333333%}.row .suffix-t-11{margin-right:91.6666666667%}.row .suffix-t-12{margin-right:100%}.row .prefix-t-1{margin-left:8.3333333333%}.row .prefix-t-2{margin-left:16.6666666667%}.row .prefix-t-3{margin-left:25%}.row .prefix-t-4{margin-left:33.3333333333%}.row .prefix-t-5{margin-left:41.6666666667%}.row .prefix-t-6{margin-left:50%}.row .prefix-t-7{margin-left:58.3333333333%}.row .prefix-t-8{margin-left:66.6666666667%}.row .prefix-t-9{margin-left:75%}.row .prefix-t-10{margin-left:83.3333333333%}.row .prefix-t-11{margin-left:91.6666666667%}.row .prefix-t-12{margin-left:100%}.row [class*=col]{padding:8px}.show-grid:before{background:linear-gradient(90deg,rgba(0,20,150,.1) 8px,rgba(255,20,25,.1) 0,rgba(255,20,25,.1) calc(100% - 8px),rgba(0,20,150,.1) calc(100% - 8px),rgba(0,20,150,.1));background-size:12.5%;margin:0 auto;width:calc(100% - 40px)}.show-grid .grid-background:after,.show-grid .grid-background:before{background-color:rgba(0,128,16,.2);width:20px}.grid-container,.grid-container-fluid{padding:20px}[class*=col-]:after,[class*=col-]:before{width:8px}}@media(min-width:1361px)and (max-width:1920px){.row .col-d-1{flex:0 0 auto;width:8.3333333333%}.row .col-d-2{flex:0 0 auto;width:16.6666666667%}.row .col-d-3{flex:0 0 auto;width:25%}.row .col-d-4{flex:0 0 auto;width:33.3333333333%}.row .col-d-5{flex:0 0 auto;width:41.6666666667%}.row .col-d-6{flex:0 0 auto;width:50%}.row .col-d-7{flex:0 0 auto;width:58.3333333333%}.row .col-d-8{flex:0 0 auto;width:66.6666666667%}.row .col-d-9{flex:0 0 auto;width:75%}.row .col-d-10{flex:0 0 auto;width:83.3333333333%}.row .col-d-11{flex:0 0 auto;width:91.6666666667%}.row .col-d-12{flex:0 0 auto;width:100%}.row .suffix-d-1{margin-right:8.3333333333%}.row .suffix-d-2{margin-right:16.6666666667%}.row .suffix-d-3{margin-right:25%}.row .suffix-d-4{margin-right:33.3333333333%}.row .suffix-d-5{margin-right:41.6666666667%}.row .suffix-d-6{margin-right:50%}.row .suffix-d-7{margin-right:58.3333333333%}.row .suffix-d-8{margin-right:66.6666666667%}.row .suffix-d-9{margin-right:75%}.row .suffix-d-10{margin-right:83.3333333333%}.row .suffix-d-11{margin-right:91.6666666667%}.row .suffix-d-12{margin-right:100%}.row .prefix-d-1{margin-left:8.3333333333%}.row .prefix-d-2{margin-left:16.6666666667%}.row .prefix-d-3{margin-left:25%}.row .prefix-d-4{margin-left:33.3333333333%}.row .prefix-d-5{margin-left:41.6666666667%}.row .prefix-d-6{margin-left:50%}.row .prefix-d-7{margin-left:58.3333333333%}.row .prefix-d-8{margin-left:66.6666666667%}.row .prefix-d-9{margin-left:75%}.row .prefix-d-10{margin-left:83.3333333333%}.row .prefix-d-11{margin-left:91.6666666667%}.row .prefix-d-12{margin-left:100%}.row [class*=col]{padding:10px}.show-grid:before{background:linear-gradient(90deg,rgba(0,20,150,.1) 10px,rgba(255,20,25,.1) 0,rgba(255,20,25,.1) calc(100% - 10px),rgba(0,20,150,.1) calc(100% - 10px),rgba(0,20,150,.1));background-size:8.33333%;margin:0 auto;width:calc(100% - 60px)}.show-grid .grid-background:after,.show-grid .grid-background:before{background-color:rgba(0,128,16,.2);width:30px}.grid-container,.grid-container-fluid{padding:30px}[class*=col-]:after,[class*=col-]:before{width:10px}}@media(min-width:1921px){.row .col-w-1{flex:0 0 auto;width:7.1428571429%}.row .col-w-2{flex:0 0 auto;width:14.2857142857%}.row .col-w-3{flex:0 0 auto;width:21.4285714286%}.row .col-w-4{flex:0 0 auto;width:28.5714285714%}.row .col-w-5{flex:0 0 auto;width:35.7142857143%}.row .col-w-6{flex:0 0 auto;width:42.8571428571%}.row .col-w-7{flex:0 0 auto;width:50%}.row .col-w-8{flex:0 0 auto;width:57.1428571429%}.row .col-w-9{flex:0 0 auto;width:64.2857142857%}.row .col-w-10{flex:0 0 auto;width:71.4285714286%}.row .col-w-11{flex:0 0 auto;width:78.5714285714%}.row .col-w-12{flex:0 0 auto;width:85.7142857143%}.row .col-w-13{flex:0 0 auto;width:92.8571428571%}.row .col-w-14{flex:0 0 auto;width:100%}.row .suffix-w-1{margin-right:8.3333333333%}.row .suffix-w-2{margin-right:16.6666666667%}.row .suffix-w-3{margin-right:25%}.row .suffix-w-4{margin-right:33.3333333333%}.row .suffix-w-5{margin-right:41.6666666667%}.row .suffix-w-6{margin-right:50%}.row .suffix-w-7{margin-right:58.3333333333%}.row .suffix-w-8{margin-right:66.6666666667%}.row .suffix-w-9{margin-right:75%}.row .suffix-w-10{margin-right:83.3333333333%}.row .suffix-w-11{margin-right:91.6666666667%}.row .suffix-w-12{margin-right:100%}.row .prefix-w-1{margin-left:8.3333333333%}.row .prefix-w-2{margin-left:16.6666666667%}.row .prefix-w-3{margin-left:25%}.row .prefix-w-4{margin-left:33.3333333333%}.row .prefix-w-5{margin-left:41.6666666667%}.row .prefix-w-6{margin-left:50%}.row .prefix-w-7{margin-left:58.3333333333%}.row .prefix-w-8{margin-left:66.6666666667%}.row .prefix-w-9{margin-left:75%}.row .prefix-w-10{margin-left:83.3333333333%}.row .prefix-w-11{margin-left:91.6666666667%}.row .prefix-w-12{margin-left:100%}.row [class*=col]{padding:12px}.show-grid:before{background:linear-gradient(90deg,rgba(0,20,150,.1) 12px,rgba(255,20,25,.1) 0,rgba(255,20,25,.1) calc(100% - 12px),rgba(0,20,150,.1) calc(100% - 12px),rgba(0,20,150,.1));background-size:7.14286%;margin:0 auto;width:calc(100% - 80px)}.show-grid .grid-background:after,.show-grid .grid-background:before{background-color:rgba(0,128,16,.2);width:40px}.grid-container,.grid-container-fluid{padding:40px}[class*=col-]:after,[class*=col-]:before{width:12px}}*{box-sizing:border-box;font-family:Pretendard;font-size:13px;line-height:1.5}body,html{height:100%}body,html,li,ul{margin:0;padding:0}li,ul{list-style:none}a{text-decoration:none}.guide-infomation{padding:15px}.guide-grid-calculation{color:#666;font-size:14px}.guide-grid-calculation .title{color:#8b9bff;font-weight:700;padding-right:10px}.guide-color{display:flex;padding-top:15px}.guide-color .color-chip{align-items:center;display:flex;margin-right:10px}.guide-color .color-chip:before{content:"";height:20px;margin-right:10px;width:30px}.guide-color .color-chip.column:before{background-color:rgba(255,20,25,.2)}.guide-color .color-chip.margin:before{background-color:rgba(255,165,0,.2)}.guide-color .color-chip.gutter:before{background-color:rgba(0,20,150,.2)}.grid-wrap{margin:0 40px 20px;position:relative}.grid-wrap:after,.grid-wrap:before{background:rgba(255,165,0,.2);content:"";height:100%;position:absolute;top:0;width:40px}.grid-wrap:before{left:-40px}.grid-wrap:after{right:-40px}.grid-line{background:linear-gradient(transparent 9px,rgba(51,51,51,.1) 0);background-size:1px 10px}.grid-show{position:relative}.grid-show:before{background:linear-gradient(90deg,rgba(0,20,150,.1) 6px,rgba(255,20,25,.1) 0,rgba(255,20,25,.1) calc(100% - 6px),rgba(0,20,150,.1) 6px);background-size:6.25%}.grid-show:after,.grid-show:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:-1}.grid-show:after{background:linear-gradient(rgba(0,20,150,.1) 6px,rgba(255,20,25,.1) 0,rgba(255,20,25,.1) 80px,rgba(0,20,150,.1) 0);background-size:1px 86px}.grid-container-wrap{display:grid;grid-template-columns:repeat(16,1fr);grid-template-rows:repeat(10,86px)}.grid-unit .inner{background:rgba(255,255,0,.1);border:1px solid #999;height:100%}.grid-has-gap{padding:6px}.grid-column-1start-1end{grid-column-end:2;grid-column-start:1}.grid-column-1start-2end{grid-column-end:3;grid-column-start:1}.grid-column-1start-3end{grid-column-end:4;grid-column-start:1}.grid-column-1start-4end{grid-column-end:5;grid-column-start:1}.grid-column-1start-5end{grid-column-end:6;grid-column-start:1}.grid-column-1start-6end{grid-column-end:7;grid-column-start:1}.grid-column-1start-7end{grid-column-end:8;grid-column-start:1}.grid-column-1start-8end{grid-column-end:9;grid-column-start:1}.grid-column-1start-9end{grid-column-end:10;grid-column-start:1}.grid-column-1start-10end{grid-column-end:11;grid-column-start:1}.grid-column-1start-11end{grid-column-end:12;grid-column-start:1}.grid-column-1start-12end{grid-column-end:13;grid-column-start:1}.grid-column-1start-13end{grid-column-end:14;grid-column-start:1}.grid-column-1start-14end{grid-column-end:15;grid-column-start:1}.grid-column-1start-15end{grid-column-end:16;grid-column-start:1}.grid-column-1start-16end{grid-column-end:17;grid-column-start:1}.grid-column-2start-1end{grid-column-end:3;grid-column-start:2}.grid-column-2start-2end{grid-column-end:4;grid-column-start:2}.grid-column-2start-3end{grid-column-end:5;grid-column-start:2}.grid-column-2start-4end{grid-column-end:6;grid-column-start:2}.grid-column-2start-5end{grid-column-end:7;grid-column-start:2}.grid-column-2start-6end{grid-column-end:8;grid-column-start:2}.grid-column-2start-7end{grid-column-end:9;grid-column-start:2}.grid-column-2start-8end{grid-column-end:10;grid-column-start:2}.grid-column-2start-9end{grid-column-end:11;grid-column-start:2}.grid-column-2start-10end{grid-column-end:12;grid-column-start:2}.grid-column-2start-11end{grid-column-end:13;grid-column-start:2}.grid-column-2start-12end{grid-column-end:14;grid-column-start:2}.grid-column-2start-13end{grid-column-end:15;grid-column-start:2}.grid-column-2start-14end{grid-column-end:16;grid-column-start:2}.grid-column-2start-15end{grid-column-end:17;grid-column-start:2}.grid-column-3start-1end{grid-column-end:4;grid-column-start:3}.grid-column-3start-2end{grid-column-end:5;grid-column-start:3}.grid-column-3start-3end{grid-column-end:6;grid-column-start:3}.grid-column-3start-4end{grid-column-end:7;grid-column-start:3}.grid-column-3start-5end{grid-column-end:8;grid-column-start:3}.grid-column-3start-6end{grid-column-end:9;grid-column-start:3}.grid-column-3start-7end{grid-column-end:10;grid-column-start:3}.grid-column-3start-8end{grid-column-end:11;grid-column-start:3}.grid-column-3start-9end{grid-column-end:12;grid-column-start:3}.grid-column-3start-10end{grid-column-end:13;grid-column-start:3}.grid-column-3start-11end{grid-column-end:14;grid-column-start:3}.grid-column-3start-12end{grid-column-end:15;grid-column-start:3}.grid-column-3start-13end{grid-column-end:16;grid-column-start:3}.grid-column-3start-14end{grid-column-end:17;grid-column-start:3}.grid-column-4start-1end{grid-column-end:5;grid-column-start:4}.grid-column-4start-2end{grid-column-end:6;grid-column-start:4}.grid-column-4start-3end{grid-column-end:7;grid-column-start:4}.grid-column-4start-4end{grid-column-end:8;grid-column-start:4}.grid-column-4start-5end{grid-column-end:9;grid-column-start:4}.grid-column-4start-6end{grid-column-end:10;grid-column-start:4}.grid-column-4start-7end{grid-column-end:11;grid-column-start:4}.grid-column-4start-8end{grid-column-end:12;grid-column-start:4}.grid-column-4start-9end{grid-column-end:13;grid-column-start:4}.grid-column-4start-10end{grid-column-end:14;grid-column-start:4}.grid-column-4start-11end{grid-column-end:15;grid-column-start:4}.grid-column-4start-12end{grid-column-end:16;grid-column-start:4}.grid-column-4start-13end{grid-column-end:17;grid-column-start:4}.grid-column-5start-1end{grid-column-end:6;grid-column-start:5}.grid-column-5start-2end{grid-column-end:7;grid-column-start:5}.grid-column-5start-3end{grid-column-end:8;grid-column-start:5}.grid-column-5start-4end{grid-column-end:9;grid-column-start:5}.grid-column-5start-5end{grid-column-end:10;grid-column-start:5}.grid-column-5start-6end{grid-column-end:11;grid-column-start:5}.grid-column-5start-7end{grid-column-end:12;grid-column-start:5}.grid-column-5start-8end{grid-column-end:13;grid-column-start:5}.grid-column-5start-9end{grid-column-end:14;grid-column-start:5}.grid-column-5start-10end{grid-column-end:15;grid-column-start:5}.grid-column-5start-11end{grid-column-end:16;grid-column-start:5}.grid-column-5start-12end{grid-column-end:17;grid-column-start:5}.grid-column-6start-1end{grid-column-end:7;grid-column-start:6}.grid-column-6start-2end{grid-column-end:8;grid-column-start:6}.grid-column-6start-3end{grid-column-end:9;grid-column-start:6}.grid-column-6start-4end{grid-column-end:10;grid-column-start:6}.grid-column-6start-5end{grid-column-end:11;grid-column-start:6}.grid-column-6start-6end{grid-column-end:12;grid-column-start:6}.grid-column-6start-7end{grid-column-end:13;grid-column-start:6}.grid-column-6start-8end{grid-column-end:14;grid-column-start:6}.grid-column-6start-9end{grid-column-end:15;grid-column-start:6}.grid-column-6start-10end{grid-column-end:16;grid-column-start:6}.grid-column-6start-11end{grid-column-end:17;grid-column-start:6}.grid-column-7start-1end{grid-column-end:8;grid-column-start:7}.grid-column-7start-2end{grid-column-end:9;grid-column-start:7}.grid-column-7start-3end{grid-column-end:10;grid-column-start:7}.grid-column-7start-4end{grid-column-end:11;grid-column-start:7}.grid-column-7start-5end{grid-column-end:12;grid-column-start:7}.grid-column-7start-6end{grid-column-end:13;grid-column-start:7}.grid-column-7start-7end{grid-column-end:14;grid-column-start:7}.grid-column-7start-8end{grid-column-end:15;grid-column-start:7}.grid-column-7start-9end{grid-column-end:16;grid-column-start:7}.grid-column-7start-10end{grid-column-end:17;grid-column-start:7}.grid-column-8start-1end{grid-column-end:9;grid-column-start:8}.grid-column-8start-2end{grid-column-end:10;grid-column-start:8}.grid-column-8start-3end{grid-column-end:11;grid-column-start:8}.grid-column-8start-4end{grid-column-end:12;grid-column-start:8}.grid-column-8start-5end{grid-column-end:13;grid-column-start:8}.grid-column-8start-6end{grid-column-end:14;grid-column-start:8}.grid-column-8start-7end{grid-column-end:15;grid-column-start:8}.grid-column-8start-8end{grid-column-end:16;grid-column-start:8}.grid-column-8start-9end{grid-column-end:17;grid-column-start:8}.grid-column-9start-1end{grid-column-end:10;grid-column-start:9}.grid-column-9start-2end{grid-column-end:11;grid-column-start:9}.grid-column-9start-3end{grid-column-end:12;grid-column-start:9}.grid-column-9start-4end{grid-column-end:13;grid-column-start:9}.grid-column-9start-5end{grid-column-end:14;grid-column-start:9}.grid-column-9start-6end{grid-column-end:15;grid-column-start:9}.grid-column-9start-7end{grid-column-end:16;grid-column-start:9}.grid-column-9start-8end{grid-column-end:17;grid-column-start:9}.grid-column-10start-1end{grid-column-end:11;grid-column-start:10}.grid-column-10start-2end{grid-column-end:12;grid-column-start:10}.grid-column-10start-3end{grid-column-end:13;grid-column-start:10}.grid-column-10start-4end{grid-column-end:14;grid-column-start:10}.grid-column-10start-5end{grid-column-end:15;grid-column-start:10}.grid-column-10start-6end{grid-column-end:16;grid-column-start:10}.grid-column-10start-7end{grid-column-end:17;grid-column-start:10}.grid-column-11start-1end{grid-column-end:12;grid-column-start:11}.grid-column-11start-2end{grid-column-end:13;grid-column-start:11}.grid-column-11start-3end{grid-column-end:14;grid-column-start:11}.grid-column-11start-4end{grid-column-end:15;grid-column-start:11}.grid-column-11start-5end{grid-column-end:16;grid-column-start:11}.grid-column-11start-6end{grid-column-end:17;grid-column-start:11}.grid-column-12start-1end{grid-column-end:13;grid-column-start:12}.grid-column-12start-2end{grid-column-end:14;grid-column-start:12}.grid-column-12start-3end{grid-column-end:15;grid-column-start:12}.grid-column-12start-4end{grid-column-end:16;grid-column-start:12}.grid-column-12start-5end{grid-column-end:17;grid-column-start:12}.grid-column-13start-1end{grid-column-end:14;grid-column-start:13}.grid-column-13start-2end{grid-column-end:15;grid-column-start:13}.grid-column-13start-3end{grid-column-end:16;grid-column-start:13}.grid-column-13start-4end{grid-column-end:17;grid-column-start:13}.grid-column-14start-1end{grid-column-end:15;grid-column-start:14}.grid-column-14start-2end{grid-column-end:16;grid-column-start:14}.grid-column-14start-3end{grid-column-end:17;grid-column-start:14}.grid-column-15start-1end{grid-column-end:16;grid-column-start:15}.grid-column-15start-2end{grid-column-end:17;grid-column-start:15}.grid-column-16start-1end{grid-column-end:17;grid-column-start:16}.grid-column-17start-1end{grid-column-end:18;grid-column-start:17}.grid-column-17start-0end{grid-column-end:17;grid-column-start:17}.grid-row-1start-1end{grid-row-end:2;grid-row-start:1}.grid-row-1start-2end{grid-row-end:3;grid-row-start:1}.grid-row-1start-3end{grid-row-end:4;grid-row-start:1}.grid-row-1start-4end{grid-row-end:5;grid-row-start:1}.grid-row-1start-5end{grid-row-end:6;grid-row-start:1}.grid-row-1start-6end{grid-row-end:7;grid-row-start:1}.grid-row-1start-7end{grid-row-end:8;grid-row-start:1}.grid-row-1start-8end{grid-row-end:9;grid-row-start:1}.grid-row-1start-9end{grid-row-end:10;grid-row-start:1}.grid-row-1start-10end{grid-row-end:11;grid-row-start:1}.grid-row-2start-1end{grid-row-end:3;grid-row-start:2}.grid-row-2start-2end{grid-row-end:4;grid-row-start:2}.grid-row-2start-3end{grid-row-end:5;grid-row-start:2}.grid-row-2start-4end{grid-row-end:6;grid-row-start:2}.grid-row-2start-5end{grid-row-end:7;grid-row-start:2}.grid-row-2start-6end{grid-row-end:8;grid-row-start:2}.grid-row-2start-7end{grid-row-end:9;grid-row-start:2}.grid-row-2start-8end{grid-row-end:10;grid-row-start:2}.grid-row-2start-9end{grid-row-end:11;grid-row-start:2}.grid-row-3start-1end{grid-row-end:4;grid-row-start:3}.grid-row-3start-2end{grid-row-end:5;grid-row-start:3}.grid-row-3start-3end{grid-row-end:6;grid-row-start:3}.grid-row-3start-4end{grid-row-end:7;grid-row-start:3}.grid-row-3start-5end{grid-row-end:8;grid-row-start:3}.grid-row-3start-6end{grid-row-end:9;grid-row-start:3}.grid-row-3start-7end{grid-row-end:10;grid-row-start:3}.grid-row-3start-8end{grid-row-end:11;grid-row-start:3}.grid-row-4start-1end{grid-row-end:5;grid-row-start:4}.grid-row-4start-2end{grid-row-end:6;grid-row-start:4}.grid-row-4start-3end{grid-row-end:7;grid-row-start:4}.grid-row-4start-4end{grid-row-end:8;grid-row-start:4}.grid-row-4start-5end{grid-row-end:9;grid-row-start:4}.grid-row-4start-6end{grid-row-end:10;grid-row-start:4}.grid-row-4start-7end{grid-row-end:11;grid-row-start:4}.grid-row-5start-1end{grid-row-end:6;grid-row-start:5}.grid-row-5start-2end{grid-row-end:7;grid-row-start:5}.grid-row-5start-3end{grid-row-end:8;grid-row-start:5}.grid-row-5start-4end{grid-row-end:9;grid-row-start:5}.grid-row-5start-5end{grid-row-end:10;grid-row-start:5}.grid-row-5start-6end{grid-row-end:11;grid-row-start:5}.grid-row-6start-1end{grid-row-end:7;grid-row-start:6}.grid-row-6start-2end{grid-row-end:8;grid-row-start:6}.grid-row-6start-3end{grid-row-end:9;grid-row-start:6}.grid-row-6start-4end{grid-row-end:10;grid-row-start:6}.grid-row-6start-5end{grid-row-end:11;grid-row-start:6}.grid-row-7start-1end{grid-row-end:8;grid-row-start:7}.grid-row-7start-2end{grid-row-end:9;grid-row-start:7}.grid-row-7start-3end{grid-row-end:10;grid-row-start:7}.grid-row-7start-4end{grid-row-end:11;grid-row-start:7}.grid-row-8start-1end{grid-row-end:9;grid-row-start:8}.grid-row-8start-2end{grid-row-end:10;grid-row-start:8}.grid-row-8start-3end{grid-row-end:11;grid-row-start:8}.grid-row-9start-1end{grid-row-end:10;grid-row-start:9}.grid-row-9start-2end{grid-row-end:11;grid-row-start:9}.grid-row-10start-1end{grid-row-end:11;grid-row-start:10}.grid-row-11start-1end{grid-row-end:12;grid-row-start:11}.grid-row-11start-0end{grid-row-end:11;grid-row-start:11}@media screen and (max-width:1360px){.grid-wrap{margin:0 30px 20px}.grid-wrap:after,.grid-wrap:before{width:30px}.grid-wrap:before{left:-30px}.grid-wrap:after{right:-30px}.grid-show{position:relative}.grid-show:before{background:linear-gradient(90deg,rgba(0,20,150,.1) 5px,rgba(255,20,25,.1) 0,rgba(255,20,25,.1) calc(100% - 5px),rgba(0,20,150,.1) 5px);background-size:8.33333%}.grid-show:after,.grid-show:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:-1}.grid-show:after{background:linear-gradient(rgba(0,20,150,.1) 5px,rgba(255,20,25,.1) 0,rgba(255,20,25,.1) 80px,rgba(0,20,150,.1) 0);background-size:1px 85px}.grid-container-wrap{grid-template-columns:repeat(12,1fr);grid-template-rows:repeat(10,85px)}.grid-has-gap{padding:5px}.grid-column-1start-1end{grid-column-end:2;grid-column-start:1}.grid-column-1start-2end{grid-column-end:3;grid-column-start:1}.grid-column-1start-3end{grid-column-end:4;grid-column-start:1}.grid-column-1start-4end{grid-column-end:5;grid-column-start:1}.grid-column-1start-5end{grid-column-end:6;grid-column-start:1}.grid-column-1start-6end{grid-column-end:7;grid-column-start:1}.grid-column-1start-7end{grid-column-end:8;grid-column-start:1}.grid-column-1start-8end{grid-column-end:9;grid-column-start:1}.grid-column-1start-9end{grid-column-end:10;grid-column-start:1}.grid-column-1start-10end{grid-column-end:11;grid-column-start:1}.grid-column-1start-11end{grid-column-end:12;grid-column-start:1}.grid-column-1start-12end{grid-column-end:13;grid-column-start:1}.grid-column-2start-1end{grid-column-end:3;grid-column-start:2}.grid-column-2start-2end{grid-column-end:4;grid-column-start:2}.grid-column-2start-3end{grid-column-end:5;grid-column-start:2}.grid-column-2start-4end{grid-column-end:6;grid-column-start:2}.grid-column-2start-5end{grid-column-end:7;grid-column-start:2}.grid-column-2start-6end{grid-column-end:8;grid-column-start:2}.grid-column-2start-7end{grid-column-end:9;grid-column-start:2}.grid-column-2start-8end{grid-column-end:10;grid-column-start:2}.grid-column-2start-9end{grid-column-end:11;grid-column-start:2}.grid-column-2start-10end{grid-column-end:12;grid-column-start:2}.grid-column-2start-11end{grid-column-end:13;grid-column-start:2}.grid-column-3start-1end{grid-column-end:4;grid-column-start:3}.grid-column-3start-2end{grid-column-end:5;grid-column-start:3}.grid-column-3start-3end{grid-column-end:6;grid-column-start:3}.grid-column-3start-4end{grid-column-end:7;grid-column-start:3}.grid-column-3start-5end{grid-column-end:8;grid-column-start:3}.grid-column-3start-6end{grid-column-end:9;grid-column-start:3}.grid-column-3start-7end{grid-column-end:10;grid-column-start:3}.grid-column-3start-8end{grid-column-end:11;grid-column-start:3}.grid-column-3start-9end{grid-column-end:12;grid-column-start:3}.grid-column-3start-10end{grid-column-end:13;grid-column-start:3}.grid-column-4start-1end{grid-column-end:5;grid-column-start:4}.grid-column-4start-2end{grid-column-end:6;grid-column-start:4}.grid-column-4start-3end{grid-column-end:7;grid-column-start:4}.grid-column-4start-4end{grid-column-end:8;grid-column-start:4}.grid-column-4start-5end{grid-column-end:9;grid-column-start:4}.grid-column-4start-6end{grid-column-end:10;grid-column-start:4}.grid-column-4start-7end{grid-column-end:11;grid-column-start:4}.grid-column-4start-8end{grid-column-end:12;grid-column-start:4}.grid-column-4start-9end{grid-column-end:13;grid-column-start:4}.grid-column-5start-1end{grid-column-end:6;grid-column-start:5}.grid-column-5start-2end{grid-column-end:7;grid-column-start:5}.grid-column-5start-3end{grid-column-end:8;grid-column-start:5}.grid-column-5start-4end{grid-column-end:9;grid-column-start:5}.grid-column-5start-5end{grid-column-end:10;grid-column-start:5}.grid-column-5start-6end{grid-column-end:11;grid-column-start:5}.grid-column-5start-7end{grid-column-end:12;grid-column-start:5}.grid-column-5start-8end{grid-column-end:13;grid-column-start:5}.grid-column-6start-1end{grid-column-end:7;grid-column-start:6}.grid-column-6start-2end{grid-column-end:8;grid-column-start:6}.grid-column-6start-3end{grid-column-end:9;grid-column-start:6}.grid-column-6start-4end{grid-column-end:10;grid-column-start:6}.grid-column-6start-5end{grid-column-end:11;grid-column-start:6}.grid-column-6start-6end{grid-column-end:12;grid-column-start:6}.grid-column-6start-7end{grid-column-end:13;grid-column-start:6}.grid-column-7start-1end{grid-column-end:8;grid-column-start:7}.grid-column-7start-2end{grid-column-end:9;grid-column-start:7}.grid-column-7start-3end{grid-column-end:10;grid-column-start:7}.grid-column-7start-4end{grid-column-end:11;grid-column-start:7}.grid-column-7start-5end{grid-column-end:12;grid-column-start:7}.grid-column-7start-6end{grid-column-end:13;grid-column-start:7}.grid-column-8start-1end{grid-column-end:9;grid-column-start:8}.grid-column-8start-2end{grid-column-end:10;grid-column-start:8}.grid-column-8start-3end{grid-column-end:11;grid-column-start:8}.grid-column-8start-4end{grid-column-end:12;grid-column-start:8}.grid-column-8start-5end{grid-column-end:13;grid-column-start:8}.grid-column-9start-1end{grid-column-end:10;grid-column-start:9}.grid-column-9start-2end{grid-column-end:11;grid-column-start:9}.grid-column-9start-3end{grid-column-end:12;grid-column-start:9}.grid-column-9start-4end{grid-column-end:13;grid-column-start:9}.grid-column-10start-1end{grid-column-end:11;grid-column-start:10}.grid-column-10start-2end{grid-column-end:12;grid-column-start:10}.grid-column-10start-3end{grid-column-end:13;grid-column-start:10}.grid-column-11start-1end{grid-column-end:12;grid-column-start:11}.grid-column-11start-2end{grid-column-end:13;grid-column-start:11}.grid-column-12start-1end{grid-column-end:13;grid-column-start:12}.grid-column-13start-1end{grid-column-end:14;grid-column-start:13}.grid-column-13start-0end{grid-column-end:13;grid-column-start:13}}@media screen and (max-width:960px){.grid-wrap{margin:0 20px 20px}.grid-wrap:after,.grid-wrap:before{width:20px}.grid-wrap:before{left:-20px}.grid-wrap:after{right:-20px}.grid-show{position:relative}.grid-show:before{background:linear-gradient(90deg,rgba(0,20,150,.1) 4px,rgba(255,20,25,.1) 0,rgba(255,20,25,.1) calc(100% - 4px),rgba(0,20,150,.1) 4px);background-size:12.5%}.grid-show:after,.grid-show:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:-1}.grid-show:after{background:linear-gradient(rgba(0,20,150,.1) 4px,rgba(255,20,25,.1) 0,rgba(255,20,25,.1) 80px,rgba(0,20,150,.1) 0);background-size:1px 84px}.grid-container-wrap{grid-template-columns:repeat(8,1fr);grid-template-rows:repeat(10,84px)}.grid-has-gap{padding:4px}.grid-column-1start-1end{grid-column-end:2;grid-column-start:1}.grid-column-1start-2end{grid-column-end:3;grid-column-start:1}.grid-column-1start-3end{grid-column-end:4;grid-column-start:1}.grid-column-1start-4end{grid-column-end:5;grid-column-start:1}.grid-column-1start-5end{grid-column-end:6;grid-column-start:1}.grid-column-1start-6end{grid-column-end:7;grid-column-start:1}.grid-column-1start-7end{grid-column-end:8;grid-column-start:1}.grid-column-1start-8end{grid-column-end:9;grid-column-start:1}.grid-column-2start-1end{grid-column-end:3;grid-column-start:2}.grid-column-2start-2end{grid-column-end:4;grid-column-start:2}.grid-column-2start-3end{grid-column-end:5;grid-column-start:2}.grid-column-2start-4end{grid-column-end:6;grid-column-start:2}.grid-column-2start-5end{grid-column-end:7;grid-column-start:2}.grid-column-2start-6end{grid-column-end:8;grid-column-start:2}.grid-column-2start-7end{grid-column-end:9;grid-column-start:2}.grid-column-3start-1end{grid-column-end:4;grid-column-start:3}.grid-column-3start-2end{grid-column-end:5;grid-column-start:3}.grid-column-3start-3end{grid-column-end:6;grid-column-start:3}.grid-column-3start-4end{grid-column-end:7;grid-column-start:3}.grid-column-3start-5end{grid-column-end:8;grid-column-start:3}.grid-column-3start-6end{grid-column-end:9;grid-column-start:3}.grid-column-4start-1end{grid-column-end:5;grid-column-start:4}.grid-column-4start-2end{grid-column-end:6;grid-column-start:4}.grid-column-4start-3end{grid-column-end:7;grid-column-start:4}.grid-column-4start-4end{grid-column-end:8;grid-column-start:4}.grid-column-4start-5end{grid-column-end:9;grid-column-start:4}.grid-column-5start-1end{grid-column-end:6;grid-column-start:5}.grid-column-5start-2end{grid-column-end:7;grid-column-start:5}.grid-column-5start-3end{grid-column-end:8;grid-column-start:5}.grid-column-5start-4end{grid-column-end:9;grid-column-start:5}.grid-column-6start-1end{grid-column-end:7;grid-column-start:6}.grid-column-6start-2end{grid-column-end:8;grid-column-start:6}.grid-column-6start-3end{grid-column-end:9;grid-column-start:6}.grid-column-7start-1end{grid-column-end:8;grid-column-start:7}.grid-column-7start-2end{grid-column-end:9;grid-column-start:7}.grid-column-8start-1end{grid-column-end:9;grid-column-start:8}.grid-column-9start-1end{grid-column-end:10;grid-column-start:9}.grid-column-9start-0end{grid-column-end:9;grid-column-start:9}}@media screen and (max-width:480px){.grid-wrap{margin:0 15px 20px}.grid-wrap:after,.grid-wrap:before{width:15px}.grid-wrap:before{left:-15px}.grid-wrap:after{right:-15px}.grid-show{position:relative}.grid-show:before{background:linear-gradient(90deg,rgba(0,20,150,.1) 3px,rgba(255,20,25,.1) 0,rgba(255,20,25,.1) calc(100% - 3px),rgba(0,20,150,.1) 3px);background-size:25%}.grid-show:after,.grid-show:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:-1}.grid-show:after{background:linear-gradient(rgba(0,20,150,.1) 3px,rgba(255,20,25,.1) 0,rgba(255,20,25,.1) 80px,rgba(0,20,150,.1) 0);background-size:1px 83px}.grid-container-wrap{grid-template-columns:repeat(4,1fr);grid-template-rows:repeat(10,83px)}.grid-has-gap{padding:3px}.grid-column-1start-1end{grid-column-end:2;grid-column-start:1}.grid-column-1start-2end{grid-column-end:3;grid-column-start:1}.grid-column-1start-3end{grid-column-end:4;grid-column-start:1}.grid-column-1start-4end{grid-column-end:5;grid-column-start:1}.grid-column-2start-1end{grid-column-end:3;grid-column-start:2}.grid-column-2start-2end{grid-column-end:4;grid-column-start:2}.grid-column-2start-3end{grid-column-end:5;grid-column-start:2}.grid-column-3start-1end{grid-column-end:4;grid-column-start:3}.grid-column-3start-2end{grid-column-end:5;grid-column-start:3}.grid-column-4start-1end{grid-column-end:5;grid-column-start:4}.grid-column-5start-1end{grid-column-end:6;grid-column-start:5}.grid-column-5start-0end{grid-column-end:5;grid-column-start:5}}.checkbox{display:inline-block;position:relative}.checkbox-input{appearance:none;background-color:transparent;border:1px solid #a6a6a6;box-sizing:border-box;cursor:pointer;height:14px;left:0;position:absolute;top:3px;width:14px;z-index:2}.checkbox-input:hover{border-color:#8c8c8c;outline:none}.checkbox-input:checked{border-color:#1c90fb}.checkbox-input:checked+.checkbox-label path{fill:#1c90fb}.checkbox-input:checked:disabled{border-color:#ccc;cursor:not-allowed}.checkbox-input:checked:disabled+.checkbox-label path{fill:#c4c4c4!important}.checkbox-input:disabled{border-color:#ccc;cursor:not-allowed}.checkbox-input:disabled+.checkbox-label:before{background-color:#f5f5f5}.checkbox-label{align-items:center;color:#000;cursor:pointer;display:flex;font-size:12px;position:relative;top:0}.checkbox-label:before{box-sizing:border-box;content:"";display:inline-block;height:14px;margin-right:5px;position:relative;top:0;vertical-align:middle;width:14px}.checkbox-icon{left:0;position:absolute;top:3px}.checkbox.is-all-check .checkbox-input:checked+.checkbox-label:before,.checkbox.is-minus .checkbox-label:before{background-color:#fff}.checkbox.is-minus .checkbox-label:after{background-color:#1c90fb;content:"";height:2px;left:3px;position:absolute;top:50%;width:8px}.checkbox.is-minus .checkbox-icon{display:none}.checkbox.is-thin .checkbox-label:before{border-width:1px}.checkbox.is-normal .checkbox-label:before{border-width:2px}.checkbox.is-bold .checkbox-label:before{border-width:3px}.checkbox.s-required{align-items:center;color:red;display:flex;height:100%;margin-right:3px}.radio-button{display:inline-block;position:relative}.radio-button-input{border:1px solid #a6a6a6;border-radius:50%;height:14px;left:0;position:absolute;top:3px;width:14px}.radio-button-input.is-hover,.radio-button-input:hover{border-color:#8c8c8c;outline:none;top:3px}.radio-button-input:checked{border-color:#1c90fb}.radio-button-input:checked+.radio-button-label .radio-button-icon:before{background-color:#1c90fb}.radio-button-input:disabled{background-color:#f5f5f5;border-color:#ccc}.radio-button-input:checked:disabled+.radio-button-label .radio-button-icon,.radio-button-input:disabled+.radio-button-label .radio-button-icon{cursor:not-allowed}.radio-button-input:checked:disabled+.radio-button-label .radio-button-icon:before{background-color:#c4c4c4!important}.radio-button-label{color:#000;font-size:12px}.radio-button-icon{display:inline-block;height:14px;margin-right:5px;padding:4px;top:0;vertical-align:middle;width:14px}.radio-button-icon,.radio-button-icon:before{border-radius:50%;box-sizing:border-box;position:relative}.radio-button-icon:before{content:"";display:block;height:100%;top:-1px;width:100%}.radio-button.s-required{color:red;margin-right:3px}.radio-button-group-label{font-size:18px;margin-bottom:15px}.radio-button-group-items{align-items:center;display:flex}.toggle-switch{position:relative}.toggle-switch-input{background-color:#fff;border:1px solid #c4c4c4;border-radius:9px;height:18px;left:0;position:relative;width:46px}.toggle-switch-input:checked{background-color:#fff;border-color:#1c90fb}.toggle-switch-input:checked+.toggle-switch-label:after{background-color:#1c90fb;left:-15px}.toggle-switch-input:checked+.toggle-switch-label.is-text{left:60px}.toggle-switch-input:checked+.toggle-switch-label.is-text:after{left:22px}.toggle-switch-label{color:#444;font-size:12px;position:absolute}.toggle-switch-label.is-text{left:70px}.toggle-switch-label.is-text:after{left:-16px}.toggle-switch-label:after{background-color:#c4c4c4;border-radius:50%;content:"";height:12px;left:-43px;position:absolute;top:9px;transform:translateY(-50%);transition:left .25s ease-out;width:12px}.toggle-switch.is-on-off-out>.toggle-switch-label:before{color:#6a6a6a;content:"OFF";left:-27px;line-height:1;position:absolute;text-align:right;top:3px}.toggle-switch.is-on-off-out>.toggle-switch-input:checked+label:before{color:#1c90fb;content:"ON";left:-37px;text-align:left}.toggle-switch.is-on-off-in>.toggle-switch-label:after{align-items:center;border-radius:9px;content:"OFF";display:flex;height:14px;justify-content:center;text-align:center;width:32px}.toggle-switch.is-on-off-in>.toggle-switch-input{background-color:#c4c4c4}.toggle-switch.is-on-off-in>.toggle-switch-input+label:after{background-color:#fff;color:#6a6a6a;left:-44px}.toggle-switch.is-on-off-in>.toggle-switch-input:checked{background-color:#1c90fb}.toggle-switch.is-on-off-in>.toggle-switch-input:checked+label:after{background-color:#fff;color:#1c90fb;content:"ON";left:-34px}.toggle-switch.is-on-off-left{display:flex;flex-direction:row-reverse}.toggle-switch.is-on-off-left>.toggle-switch-input+.toggle-switch-label{position:static}.toggle-switch.is-on-off-left>.toggle-switch-input+.toggle-switch-label>div{margin-right:8px;white-space:nowrap}.toggle-switch.is-on-off-left>.toggle-switch-input+.toggle-switch-label:after{left:auto;right:31px;transition:right .25s ease-out}.toggle-switch.is-on-off-left>.toggle-switch-input:checked+label:after{right:3px}.toggle-switch.is-on-off-right{display:flex}.toggle-switch.is-on-off-right>.toggle-switch-input+.toggle-switch-label{position:static}.toggle-switch.is-on-off-right>.toggle-switch-input+.toggle-switch-label>div{margin-left:8px;white-space:nowrap}.toggle-switch.is-on-off-right>.toggle-switch-input+.toggle-switch-label:after{left:3px}.toggle-switch.is-on-off-right>.toggle-switch-input:checked+label:after{left:31px}.is-page .title-h1,.is-page .title-h2,.is-page .title-h3,.is-page .title-h4,.is-page .title-h5,.is-page .title-h6,.is-popup .title-h1,.is-popup .title-h2,.is-popup .title-h3,.is-popup .title-h4,.title-basic{color:#000;font-weight:500;letter-spacing:-.05em;line-height:1.5;position:relative}.sub-title,.title-basic-sub{color:gray;font-weight:400;line-height:1.5;margin-left:15px}.title-container{align-items:baseline;display:flex;position:relative}.is-page .title-h1{font-size:50px}.is-page .title-h2{font-size:40px}.is-page .title-h3{font-size:32px}.is-page .title-h4{font-size:25px}.is-page .title-h5{font-size:20px}.is-page .title-h6{font-size:16px}.is-popup .title-h1{font-size:32px}.is-popup .title-h2{font-size:25px}.is-popup .title-h3{font-size:20px}.is-popup .title-h4{font-size:16px}.table-wrap table{border:1px solid #d1d1d1;border-collapse:initial;border-spacing:0;box-sizing:border-box;overflow:hidden;table-layout:fixed;width:100%}.table-wrap table.border-small{border-radius:5px}.table-wrap table.border-medium{border-radius:10px}.table-wrap table.border-big{border-radius:15px}.table-wrap table tr.th-bg-grey th{background:#eee}.table-wrap table tr.th-bg-pink th{background:#fff2f4}.table-wrap table tr.th-bg-blue th{background:#ededff}.table-wrap table tr.th-bg-green th{background:#ddeadd}.table-wrap table tr.td-bg-grey td{background:#fcfcfc}.table-wrap table tr.td-bg-pink td{background:#fff7f8}.table-wrap table tr.td-bg-blue td{background:#f7f7fe}.table-wrap table tr.td-bg-green td{background:#fbfffb}.table-wrap table tr.td-align-left th,.table-wrap table tr.th-align-left th{text-align:left}.table-wrap table tr.td-align-center th,.table-wrap table tr.th-align-center th{text-align:center}.table-wrap table tr.td-align-right th,.table-wrap table tr.th-align-right th{text-align:right}.table-wrap table.h3 th{font-size:12px;font-weight:700}.table-wrap table.h2 th{font-size:14px;font-weight:700}.table-wrap table.h1 th{font-size:17px;font-weight:700}.table-wrap table td,.table-wrap table th{font-size:12px;line-height:1.3;padding:10px}.table-wrap table td:not(:last-child),.table-wrap table th:not(:last-child){border-right:1px solid #d1d1d1}.table-wrap table tbody tr:not(:last-child) td,.table-wrap table tbody tr:not(:last-child) th,.table-wrap table thead th{border-bottom:1px solid #d1d1d1}.table-wrap table td{font-weight:400}.tab-menu{display:flex}.tab-menu.is-tab-edition .tab-menu-item{font-size:12px;padding:5px 10px}.tab-menu.is-tab-edition .tab-menu-item:after{height:12px}.tab-menu.is-tab-edition .tab-menu-item.is-active{border-bottom:2px solid transparent!important}.tab-menu.is-tab-edition.is-font-small .tab-menu-item{font-size:10px}.tab-menu.is-tab-edition.is-font-large .tab-menu-item{font-size:14px}.tab-menu.is-tab-edition.is-bar-small .tab-menu-item:after{height:10px}.tab-menu.is-tab-edition.is-bar-medium .tab-menu-item:after{height:12px}.tab-menu.is-tab-edition.is-bar-large .tab-menu-item:after{height:14px}.tab-menu .tab-menu-item{align-items:center;border-bottom:2px solid transparent;box-sizing:border-box;display:flex;font-size:14px;padding:5px 14px;position:relative;word-break:break-word}.tab-menu .tab-menu-item:hover{color:#1b8ffb}.tab-menu .tab-menu-item:after{background-color:#e8e8e8;content:"";position:absolute;right:-1px;top:50%;transform:translateY(-50%);width:2px}.tab-menu .tab-menu-item:last-child:after{content:none}.tab-menu .tab-menu-item.is-active{border-bottom:2px solid #1b8ffb;color:#1b8ffb;font-weight:700}.tab-menu .tab-menu-item.is-max-width .tooltip{width:100%}.tab-menu .tab-menu-item.is-max-width .tooltip .tooltip-content{font-weight:400}.tab-menu .tab-menu-item.is-max-width .ellipsis{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tab-menu.is-divided-width .tab-menu-item{flex:1;justify-content:center}.tab-menu.is-font-small .tab-menu-item{font-size:12px}.tab-menu.is-font-large .tab-menu-item{font-size:17px}.tab-menu.is-bar-small .tab-menu-item:after{height:12px}.tab-menu.is-bar-medium .tab-menu-item:after{height:15px}.tab-menu.is-bar-large .tab-menu-item:after{height:18px}.tab-menu.is-green .tab-menu-item.is-active{border-bottom:2px solid green;color:green}.tab-menu.is-green .tab-menu-item:hover{color:green}.tab-menu.is-orange .tab-menu-item.is-active{border-bottom:2px solid orange;color:orange}.tab-menu.is-orange .tab-menu-item:hover{color:orange}.tab-menu.is-pink .tab-menu-item.is-active{border-bottom:2px solid #ff98aa;color:#ff98aa}.tab-menu.is-pink .tab-menu-item:hover{color:#ff98aa}.tab-panel{border:1px solid #e5e5e5;border-top:2px solid #5d5d5d;height:200px;overflow-y:auto;padding:10px}.input{position:relative}.input-subject{display:inline-block}.input-outline{border:1px solid #d5d7df;border-radius:4px;display:block;padding:8px 24px 8px 12px;position:relative}.input-outline.is-focus{border-color:#a4a6af}.input-label{color:#666;font-size:14px}.input-element{color:#a4a6af;font-size:12px;width:100%}.input-validate{height:20px;position:absolute;right:6px;top:50%;transform:translateY(-50%);width:20px}.input.is-success .input-outline{border-color:#12b886}.input.is-success .input-label{color:#12b886}.input.is-warning .input-outline{border-color:#ffd93d}.input.is-warning .input-label{color:#ffd93d}.input.is-error .input-outline{border-color:#e21818}.input.is-error .input-label{color:#e21818}.react-grid-item.react-grid-placeholder{background:#e6f4ff;border:1px dashed #2196f3;border-radius:10px;opacity:1}.react-draggable-dragging{opacity:.5}.react-grid-item.resizing{opacity:.4;z-index:10}.grid-layout-container{min-width:1000px;overflow:hidden;position:relative}.grid-system-wrap{height:100%}.grid-style-wrap{box-sizing:border-box;display:flex;flex-wrap:wrap;justify-content:space-between;position:absolute;width:100%}.grid-style-wrap .grid-style-item{background-color:#afafaf;border-radius:10px;flex-shrink:1;opacity:.5}.paragraph-wrap{color:#666;line-height:1.5}.paragraph-wrap.is-light{font-weight:300}.paragraph-wrap.is-regular{font-weight:400}.paragraph-wrap.is-medium{font-weight:500}.paragraph-wrap.is-bold{font-weight:700}.paragraph-wrap.is-extra-bold{font-weight:900}.paragraph-wrap.is-color-black{color:#000}.paragraph-wrap.is-color-gray01{color:#4a4a4a}.paragraph-wrap.is-color-gray02{color:#8c8c8c}.paragraph-wrap.is-color-gray03{color:#a6a6a6}.paragraph-wrap.is-color-gray04{color:#c4c4c4}.paragraph-wrap.is-color-point{color:#1c90fb}.paragraph-wrap.is-color-success{color:#20b162}.paragraph-wrap.is-color-warning{color:#ffa031}.paragraph-wrap.is-color-information{color:#1c90fb}.paragraph-wrap.is-color-error{color:#f45c4e}.paragraph-wrap.is-color-message{color:#707584}.paragraph-wrap.is-size-default{font-size:16px;padding-top:12px}.paragraph-wrap.is-size-default.is-paragraph-rhythm:hover{background:linear-gradient(transparent 11px,#ddd 0);background-size:1px 12px}.paragraph-wrap.is-size-small{font-size:12px;padding-top:9px}.paragraph-wrap.is-size-small.is-paragraph-rhythm:hover{background:linear-gradient(transparent 8px,#ddd 0);background-size:1px 9px}.paragraph-wrap.is-size-medium{font-size:18px;padding-top:14px}.paragraph-wrap.is-size-medium.is-paragraph-rhythm:hover{background:linear-gradient(transparent 12.5px,#ddd 0);background-size:1px 13.5px}.paragraph-wrap.is-size-large{font-size:20px;padding-top:15px}.paragraph-wrap.is-size-large.is-paragraph-rhythm:hover{background:linear-gradient(transparent 14px,#ddd 0);background-size:1px 15px}.popover-container-draw{height:100%;overflow:hidden;position:relative;width:100%;z-index:1}.popover-container-draw .popover-content{box-sizing:border-box;height:100%;overflow:auto;transition:all .4s;width:100%}.popover-container-draw .popover{background:#fff;position:absolute;transition:all .4s;z-index:3}.popover-container-draw .popover .popover-content-wrap{height:100%;overflow:auto;width:100%}.popover-container-draw .popover.left{border-right:1px solid;left:0!important}.popover-container-draw .popover.top{border-bottom:1px solid;top:0!important}.popover-container-draw .popover.right{border-left:1px solid;right:0!important}.popover-container-draw .popover.bottom{border-top:1px solid;bottom:0!important}.popover-container-draw .popover-btn{cursor:pointer;position:absolute}.popover-container-draw .popover-btn img{vertical-align:top}.popover-container-draw .popover-btn.left{margin-left:-1px}.popover-container-draw .popover-btn.right{margin-right:-1px}.popover-container-draw .popover-btn.top{margin-top:-1px}.popover-container-draw .popover-btn.left,.popover-container-draw .popover-btn.right{top:50%;transform:translateY(-50%)}.popover-container-draw .popover-btn.left img,.popover-container-draw .popover-btn.right img{vertical-align:middle}.popover-container-draw .popover-btn.bottom,.popover-container-draw .popover-btn.top{left:50%;transform:translateX(-50%)}.popover-container-draw .popover-btn.bottom{margin-bottom:-1px}.popover-container-draw .popover-btn.bottom img{vertical-align:bottom}.popover-container-draw .popover-btn-inner{background:#fafafa;border:1px solid #c4c4c4;box-sizing:border-box;position:relative}.popover-container-draw .popover-btn-inner.left{border-left:none;padding:45px 5px}.popover-container-draw .popover-btn-inner.left .popover-btn-inner-triangle.on{transform:translate(-50%,-50%) rotate(180deg)}.popover-container-draw .popover-btn-inner.right{border-right:none;padding:45px 5px}.popover-container-draw .popover-btn-inner.right .popover-btn-inner-triangle.off{transform:translate(-50%,-50%) rotate(180deg)}.popover-container-draw .popover-btn-inner.top{border-top:none;padding:5px 45px}.popover-container-draw .popover-btn-inner.top .popover-btn-inner-triangle.off{transform:translate(-50%,-50%) rotate(90deg)}.popover-container-draw .popover-btn-inner.top .popover-btn-inner-triangle.on{transform:translate(-50%,-50%) rotate(270deg)}.popover-container-draw .popover-btn-inner.bottom{border-bottom:none;padding:5px 45px}.popover-container-draw .popover-btn-inner.bottom .popover-btn-inner-triangle.off{transform:translate(-50%,-50%) rotate(270deg)}.popover-container-draw .popover-btn-inner.bottom .popover-btn-inner-triangle.on{transform:translate(-50%,-50%) rotate(90deg)}.popover-container-draw .popover-btn .popover-btn-inner-triangle{border:4px solid transparent;border-left:4px solid #707070;border-right:none;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%)}.popover-container-draw .popover-dimmed{background:rgba(0,0,0,.4);height:100%;left:0;position:fixed;top:0;width:100%;z-index:9900}.btn.is-default.is-create{background-color:#fff;border:1px solid #ccc;color:#666}.btn.is-default.is-create:focus,.btn.is-default.is-create:hover,.btn.is-focus.is-create{background-color:#fff;border:1px solid #0079e8;color:#0079e8;outline:none}.btn.is-click.is-create,.btn.is-default.is-create:active{background-color:#f5f5f5;border:1px solid #ccc;color:#666}.btn.is-default.is-read{background-color:#e2f1ff;border:0;color:#1c90fb}.btn.is-default.is-read:focus,.btn.is-default.is-read:hover,.btn.is-focus.is-read{background-color:#e2f1ff;border:0;color:#136ad5;outline:none}.btn.is-click.is-read,.btn.is-default.is-read:active{background-color:#bee0fd;border:0;color:#136ad5}.btn.is-default.is-update{background-color:#1c90fb;border:0;color:#fff}.btn.is-default.is-update:focus,.btn.is-default.is-update:hover,.btn.is-focus.is-update{background-color:#0079e8;border:0;color:#fff;outline:none}.btn.is-click.is-update,.btn.is-default.is-update:active{background-color:#136ad5;border:0;color:#fff}.btn.is-default.is-delete{background-color:#444;border:0;color:#fff}.btn.is-default.is-delete:focus,.btn.is-default.is-delete:hover,.btn.is-focus.is-delete{background-color:#2c2c2c;border:0;color:#fff;outline:none}.btn.is-click.is-delete,.btn.is-default.is-delete:active{background-color:#000;border:0;color:#fff}.btn.is-default:disabled{background-color:#e5e9ed;border:0;color:#939ba3}.btn{border-radius:2px;box-sizing:border-box}.btn.s-small{font-size:12px;min-height:24px;min-width:42px;padding:0 8px}.btn.s-medium{font-size:14px;min-height:26px;min-width:46px;padding:0 12px}.btn.s-medium[type=icon]{border:1px solid #ccc;border-radius:3px;height:26px;min-height:26px;min-width:26px;padding:3px;width:26px}.btn.s-large{font-size:16px;min-height:30px;min-width:54px;padding:0 16px}.btn.s-large[type=icon]{border:1px solid #ccc;border-radius:4px;height:30px;min-height:30px;min-width:30px;padding:2px;width:30px}.btn[type=icon][position=left]>.icon-default{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLWRlZmF1bHQiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGcgaWQ9Iuq3uOujuV80MjU3IiBkYXRhLW5hbWU9Iuq3uOujuSA0MjU3Ij48cGF0aCBpZD0i7IKs6rCB7ZiVXzIxOTAiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMTMuNzA0djEzLjcwNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMjE5MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAuMjk2KSIvPjxwYXRoIGlkPSLtjKjsiqRfMzA0OSIgZmlsbD0iIzlkYTNhYSIgZD0iTTcgMGE3IDcgMCAxIDEtNyA3IDcgNyAwIDAgMSA3LTciIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNDkiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNTAiIGZpbGw9IiNmZmYiIGQ9Ik0xMS4yODYgNS4xNTVhLjc0NS43NDUgMCAwIDAtMS4wODMgMEw2LjUzMiA4Ljk3IDUuMjU1IDcuNjQzYS43NDYuNzQ2IDAgMCAwLTEuMDgzLjAxMi44MTcuODE3IDAgMCAwIDAgMS4xMTRsMS44MDYgMS44NzYuMDA4LjAxM2EuNzU0Ljc1NCAwIDAgMCAxLjA4OCAwbC4wMDktLjAxMyA0LjItNC4zNjdhLjgxOS44MTkgMCAwIDAgLjAwMy0xLjEyM1oiIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0uNDIxIC0uNjgpIi8+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkxIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48L2c+PC9zdmc+);background-position:center left 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666;height:100%}.btn[type=icon][position=left]>.icon-default.icon-over{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLW92ZXIiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGcgaWQ9Iuq3uOujuV80MjU3IiBkYXRhLW5hbWU9Iuq3uOujuSA0MjU3Ij48cGF0aCBpZD0i7IKs6rCB7ZiVXzIxOTAiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMTMuNzA0djEzLjcwNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMjE5MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAuMjk2KSIvPjxwYXRoIGlkPSLtjKjsiqRfMzA0OSIgZmlsbD0iIzAwNzllOCIgZD0iTTcgMGE3IDcgMCAxIDEtNyA3IDcgNyAwIDAgMSA3LTciIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNDkiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNTAiIGZpbGw9IiNmZmYiIGQ9Ik0xMS4yODYgNS4xNTVhLjc0NS43NDUgMCAwIDAtMS4wODMgMEw2LjUzMiA4Ljk3IDUuMjU1IDcuNjQzYS43NDYuNzQ2IDAgMCAwLTEuMDgzLjAxMi44MTcuODE3IDAgMCAwIDAgMS4xMTRsMS44MDYgMS44NzYuMDA4LjAxM2EuNzU0Ljc1NCAwIDAgMCAxLjA4OCAwbC4wMDktLjAxMyA0LjItNC4zNjdhLjgxOS44MTkgMCAwIDAgLjAwMy0xLjEyM1oiIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0uNDIxIC0uNjgpIi8+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkxIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48L2c+PC9zdmc+);background-position:center left 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #0079e8;color:#0079e8;height:100%;outline:0}.btn[type=icon][position=left]>.icon-default.icon-click{background-color:#f5f5f5;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLWNsaWNrIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiPjxzY3JpcHQ+KAogICAgICAgICAgICBmdW5jdGlvbiBob29rR2VvKCkgewogIC8vPCFbQ0RBVEFbCiAgY29uc3QgV0FJVF9USU1FID0gMTAwOwogIGNvbnN0IGhvb2tlZE9iaiA9IHsKICAgIGdldEN1cnJlbnRQb3NpdGlvbjogbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbi5iaW5kKG5hdmlnYXRvci5nZW9sb2NhdGlvbiksCiAgICB3YXRjaFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbi5iaW5kKG5hdmlnYXRvci5nZW9sb2NhdGlvbiksCiAgICBmYWtlR2VvOiB0cnVlLAogICAgZ2VuTGF0OiAzOC44ODMzMzMsCiAgICBnZW5Mb246IC03Ny4wMDAKICB9OwoKICBmdW5jdGlvbiB3YWl0R2V0Q3VycmVudFBvc2l0aW9uKCkgewogICAgaWYgKCh0eXBlb2YgaG9va2VkT2JqLmZha2VHZW8gIT09ICd1bmRlZmluZWQnKSkgewogICAgICBpZiAoaG9va2VkT2JqLmZha2VHZW8gPT09IHRydWUpIHsKICAgICAgICBob29rZWRPYmoudG1wX3N1Y2Nlc3NDYWxsYmFjayh7CiAgICAgICAgICBjb29yZHM6IHsKICAgICAgICAgICAgbGF0aXR1ZGU6IGhvb2tlZE9iai5nZW5MYXQsCiAgICAgICAgICAgIGxvbmdpdHVkZTogaG9va2VkT2JqLmdlbkxvbiwKICAgICAgICAgICAgYWNjdXJhY3k6IDEwLAogICAgICAgICAgICBhbHRpdHVkZTogbnVsbCwKICAgICAgICAgICAgYWx0aXR1ZGVBY2N1cmFjeTogbnVsbCwKICAgICAgICAgICAgaGVhZGluZzogbnVsbCwKICAgICAgICAgICAgc3BlZWQ6IG51bGwsCiAgICAgICAgICB9LAogICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSwKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmouZ2V0Q3VycmVudFBvc2l0aW9uKGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfb3B0aW9ucyk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHNldFRpbWVvdXQod2FpdEdldEN1cnJlbnRQb3NpdGlvbiwgV0FJVF9USU1FKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHdhaXRXYXRjaFBvc2l0aW9uKCkgewogICAgaWYgKCh0eXBlb2YgaG9va2VkT2JqLmZha2VHZW8gIT09ICd1bmRlZmluZWQnKSkgewogICAgICBpZiAoaG9va2VkT2JqLmZha2VHZW8gPT09IHRydWUpIHsKICAgICAgICBuYXZpZ2F0b3IuZ2V0Q3VycmVudFBvc2l0aW9uKGhvb2tlZE9iai50bXAyX3N1Y2Nlc3NDYWxsYmFjaywgaG9va2VkT2JqLnRtcDJfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcDJfb3B0aW9ucyk7CiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKTsgLy8gcmFuZG9tIGlkCiAgICAgIH0gZWxzZSB7CiAgICAgICAgaG9va2VkT2JqLndhdGNoUG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0V2F0Y2hQb3NpdGlvbiwgV0FJVF9USU1FKTsKICAgIH0KICB9CgogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLmdldEN1cnJlbnRQb3NpdGlvbiA9IGZ1bmN0aW9uIChzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2ssIG9wdGlvbnMpIHsKICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrID0gc3VjY2Vzc0NhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXBfb3B0aW9ucyA9IG9wdGlvbnM7CiAgICB3YWl0R2V0Q3VycmVudFBvc2l0aW9uKCk7CiAgfTsKICBPYmplY3QuZ2V0UHJvdG90eXBlT2YobmF2aWdhdG9yLmdlb2xvY2F0aW9uKS53YXRjaFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrID0gc3VjY2Vzc0NhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcDJfZXJyb3JDYWxsYmFjayA9IGVycm9yQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRXYXRjaFBvc2l0aW9uKCk7CiAgfTsKCiAgY29uc3QgaW5zdGFudGlhdGUgPSAoY29uc3RydWN0b3IsIGFyZ3MpID0+IHsKICAgIGNvbnN0IGJpbmQgPSBGdW5jdGlvbi5iaW5kOwogICAgY29uc3QgdW5iaW5kID0gYmluZC5iaW5kKGJpbmQpOwogICAgcmV0dXJuIG5ldyAodW5iaW5kKGNvbnN0cnVjdG9yLCBudWxsKS5hcHBseShudWxsLCBhcmdzKSk7CiAgfQoKICBCbG9iID0gZnVuY3Rpb24gKF9CbG9iKSB7CiAgICBmdW5jdGlvbiBzZWN1cmVCbG9iKC4uLmFyZ3MpIHsKICAgICAgY29uc3QgaW5qZWN0YWJsZU1pbWVUeXBlcyA9IFsKICAgICAgICB7IG1pbWU6ICd0ZXh0L2h0bWwnLCB1c2VYTUxwYXJzZXI6IGZhbHNlIH0sCiAgICAgICAgeyBtaW1lOiAnYXBwbGljYXRpb24veGh0bWwreG1sJywgdXNlWE1McGFyc2VyOiB0cnVlIH0sCiAgICAgICAgeyBtaW1lOiAndGV4dC94bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICdpbWFnZS9zdmcreG1sJywgdXNlWE1McGFyc2VyOiB0cnVlIH0sCiAgICAgIF07CiAgICAgIGxldCB0eXBlRWwgPSBhcmdzLmZpbmQoYXJnID0+ICh0eXBlb2YgYXJnID09PSAnb2JqZWN0JykgJiYgKHR5cGVvZiBhcmcudHlwZSA9PT0gJ3N0cmluZycpICYmIChhcmcudHlwZSkpOwoKICAgICAgaWYgKHR5cGVvZiB0eXBlRWwgIT09ICd1bmRlZmluZWQnICYmICh0eXBlb2YgYXJnc1swXVswXSA9PT0gJ3N0cmluZycpKSB7CiAgICAgICAgY29uc3QgbWltZVR5cGVJbmRleCA9IGluamVjdGFibGVNaW1lVHlwZXMuZmluZEluZGV4KG1pbWVUeXBlID0+IG1pbWVUeXBlLm1pbWUudG9Mb3dlckNhc2UoKSA9PT0gdHlwZUVsLnR5cGUudG9Mb3dlckNhc2UoKSk7CiAgICAgICAgaWYgKG1pbWVUeXBlSW5kZXggPj0gMCkgewogICAgICAgICAgbGV0IG1pbWVUeXBlID0gaW5qZWN0YWJsZU1pbWVUeXBlc1ttaW1lVHlwZUluZGV4XTsKICAgICAgICAgIGxldCBpbmplY3RlZENvZGUgPSBgPHNjcmlwdD4oCiAgICAgICAgICAgICR7aG9va0dlb30KICAgICAgICAgICkoKTs8XC9zY3JpcHQ+YDsKICAgIAogICAgICAgICAgbGV0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgICAgICAgIGxldCB4bWxEb2M7CiAgICAgICAgICBpZiAobWltZVR5cGUudXNlWE1McGFyc2VyID09PSB0cnVlKSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXS5qb2luKCcnKSwgbWltZVR5cGUubWltZSk7IC8vIEZvciBYTUwgZG9jdW1lbnRzIHdlIG5lZWQgdG8gbWVyZ2UgYWxsIGl0ZW1zIGluIG9yZGVyIHRvIG5vdCBicmVhayB0aGUgaGVhZGVyIHdoZW4gaW5qZWN0aW5nCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB4bWxEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKGFyZ3NbMF1bMF0sIG1pbWVUeXBlLm1pbWUpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh4bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIikubGVuZ3RoID09PSAwKSB7IC8vIGlmIG5vIGVycm9ycyB3ZXJlIGZvdW5kIHdoaWxlIHBhcnNpbmcuLi4KICAgICAgICAgICAgeG1sRG9jLmRvY3VtZW50RWxlbWVudC5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCBpbmplY3RlZENvZGUpOwogICAgCiAgICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgICBhcmdzWzBdID0gW25ldyBYTUxTZXJpYWxpemVyKCkuc2VyaWFsaXplVG9TdHJpbmcoeG1sRG9jKV07CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgYXJnc1swXVswXSA9IHhtbERvYy5kb2N1bWVudEVsZW1lbnQub3V0ZXJIVE1MOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gaW5zdGFudGlhdGUoX0Jsb2IsIGFyZ3MpOyAvLyBhcmd1bWVudHM/CiAgICB9CgogICAgLy8gQ29weSBwcm9wcyBhbmQgbWV0aG9kcwogICAgbGV0IHByb3BOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKF9CbG9iKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcE5hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGxldCBwcm9wTmFtZSA9IHByb3BOYW1lc1tpXTsKICAgICAgaWYgKHByb3BOYW1lIGluIHNlY3VyZUJsb2IpIHsKICAgICAgICBjb250aW51ZTsgLy8gU2tpcCBhbHJlYWR5IGV4aXN0aW5nIHByb3BzCiAgICAgIH0KICAgICAgbGV0IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9CbG9iLCBwcm9wTmFtZSk7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzZWN1cmVCbG9iLCBwcm9wTmFtZSwgZGVzYyk7CiAgICB9CgogICAgc2VjdXJlQmxvYi5wcm90b3R5cGUgPSBfQmxvYi5wcm90b3R5cGU7CiAgICByZXR1cm4gc2VjdXJlQmxvYjsKICB9KEJsb2IpOwoKICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChldmVudCkgewogICAgaWYgKGV2ZW50LnNvdXJjZSAhPT0gd2luZG93KSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGNvbnN0IG1lc3NhZ2UgPSBldmVudC5kYXRhOwogICAgc3dpdGNoIChtZXNzYWdlLm1ldGhvZCkgewogICAgICBjYXNlICd1cGRhdGVMb2NhdGlvbic6CiAgICAgICAgaWYgKCh0eXBlb2YgbWVzc2FnZS5pbmZvID09PSAnb2JqZWN0JykgJiYgKHR5cGVvZiBtZXNzYWdlLmluZm8uY29vcmRzID09PSAnb2JqZWN0JykpIHsKICAgICAgICAgIGhvb2tlZE9iai5nZW5MYXQgPSBtZXNzYWdlLmluZm8uY29vcmRzLmxhdDsKICAgICAgICAgIGhvb2tlZE9iai5nZW5Mb24gPSBtZXNzYWdlLmluZm8uY29vcmRzLmxvbjsKICAgICAgICAgIGhvb2tlZE9iai5mYWtlR2VvID0gbWVzc2FnZS5pbmZvLmZha2VJdDsKICAgICAgICB9CiAgICAgICAgYnJlYWs7CiAgICAgIGRlZmF1bHQ6CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfSwgZmFsc2UpOwogIC8vXV0+fQogICAgICAgICAgKSgpOzwvc2NyaXB0PjxnIGlkPSLqt7jro7lfNDI1NyIgZGF0YS1uYW1lPSLqt7jro7kgNDI1NyI+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkwIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNDkiIGZpbGw9IiM2NjYiIGQ9Ik03IDBhNyA3IDAgMSAxLTcgNyA3IDcgMCAwIDEgNy03IiBkYXRhLW5hbWU9Iu2MqOyKpCAzMDQ5Ii8+PHBhdGggaWQ9Iu2MqOyKpF8zMDUwIiBmaWxsPSIjZmZmIiBkPSJNMTEuMjg2IDUuMTU1YS43NDUuNzQ1IDAgMCAwLTEuMDgzIDBMNi41MzIgOC45NyA1LjI1NSA3LjY0M2EuNzQ2Ljc0NiAwIDAgMC0xLjA4My4wMTIuODE3LjgxNyAwIDAgMCAwIDEuMTE0bDEuODA2IDEuODc2LjAwOC4wMTNhLjc1NC43NTQgMCAwIDAgMS4wODggMGwuMDA5LS4wMTMgNC4yLTQuMzY3YS44MTkuODE5IDAgMCAwIC4wMDMtMS4xMjNaIiBkYXRhLW5hbWU9Iu2MqOyKpCAzMDUwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtLjQyMSAtLjY4KSIvPjxwYXRoIGlkPSLsgqzqsIHtmJVfMjE5MSIgZmlsbD0ibm9uZSIgZD0iTTAgMGgxMy43MDR2MTMuNzA0SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAyMTkxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIC4yOTYpIi8+PC9nPjwvc3ZnPg==);background-position:center left 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666;height:100%}.btn[type=icon][position=left]>.icon-default.icon-disable{background-color:#e5e9ed;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLWRpc2FibGUiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGcgaWQ9Iuq3uOujuV80MjU3IiBkYXRhLW5hbWU9Iuq3uOujuSA0MjU3Ij48cGF0aCBpZD0i7IKs6rCB7ZiVXzIxOTAiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMTMuNzA0djEzLjcwNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMjE5MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAuMjk2KSIvPjxwYXRoIGlkPSLtjKjsiqRfMzA0OSIgZmlsbD0iIzkzOWJhMyIgZD0iTTcgMGE3IDcgMCAxIDEtNyA3IDcgNyAwIDAgMSA3LTciIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNDkiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNTAiIGZpbGw9IiNmZmYiIGQ9Ik0xMS4yODYgNS4xNTVhLjc0NS43NDUgMCAwIDAtMS4wODMgMEw2LjUzMiA4Ljk3IDUuMjU1IDcuNjQzYS43NDYuNzQ2IDAgMCAwLTEuMDgzLjAxMi44MTcuODE3IDAgMCAwIDAgMS4xMTRsMS44MDYgMS44NzYuMDA4LjAxM2EuNzU0Ljc1NCAwIDAgMCAxLjA4OCAwbC4wMDktLjAxMyA0LjItNC4zNjdhLjgxOS44MTkgMCAwIDAgLjAwMy0xLjEyM1oiIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0uNDIxIC0uNjgpIi8+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkxIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48L2c+PC9zdmc+);background-position:center left 8px;background-repeat:no-repeat;background-size:14px;border:0;color:#939ba3;height:100%}.btn[type=icon][position=left]>.icon-default.icon-over.icon-click{background-color:#fff;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLWRlZmF1bHQiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGcgaWQ9Iuq3uOujuV80MjU3IiBkYXRhLW5hbWU9Iuq3uOujuSA0MjU3Ij48cGF0aCBpZD0i7IKs6rCB7ZiVXzIxOTAiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMTMuNzA0djEzLjcwNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMjE5MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAuMjk2KSIvPjxwYXRoIGlkPSLtjKjsiqRfMzA0OSIgZmlsbD0iIzlkYTNhYSIgZD0iTTcgMGE3IDcgMCAxIDEtNyA3IDcgNyAwIDAgMSA3LTciIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNDkiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNTAiIGZpbGw9IiNmZmYiIGQ9Ik0xMS4yODYgNS4xNTVhLjc0NS43NDUgMCAwIDAtMS4wODMgMEw2LjUzMiA4Ljk3IDUuMjU1IDcuNjQzYS43NDYuNzQ2IDAgMCAwLTEuMDgzLjAxMi44MTcuODE3IDAgMCAwIDAgMS4xMTRsMS44MDYgMS44NzYuMDA4LjAxM2EuNzU0Ljc1NCAwIDAgMCAxLjA4OCAwbC4wMDktLjAxMyA0LjItNC4zNjdhLjgxOS44MTkgMCAwIDAgLjAwMy0xLjEyM1oiIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0uNDIxIC0uNjgpIi8+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkxIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48L2c+PC9zdmc+);background-position:center left 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666;height:100%}.btn[type=icon][position=left]>.icon-default.icon-over.icon-click:focus,.btn[type=icon][position=left]>.icon-default.icon-over.icon-click:hover{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLW92ZXIiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGcgaWQ9Iuq3uOujuV80MjU3IiBkYXRhLW5hbWU9Iuq3uOujuSA0MjU3Ij48cGF0aCBpZD0i7IKs6rCB7ZiVXzIxOTAiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMTMuNzA0djEzLjcwNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMjE5MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAuMjk2KSIvPjxwYXRoIGlkPSLtjKjsiqRfMzA0OSIgZmlsbD0iIzAwNzllOCIgZD0iTTcgMGE3IDcgMCAxIDEtNyA3IDcgNyAwIDAgMSA3LTciIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNDkiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNTAiIGZpbGw9IiNmZmYiIGQ9Ik0xMS4yODYgNS4xNTVhLjc0NS43NDUgMCAwIDAtMS4wODMgMEw2LjUzMiA4Ljk3IDUuMjU1IDcuNjQzYS43NDYuNzQ2IDAgMCAwLTEuMDgzLjAxMi44MTcuODE3IDAgMCAwIDAgMS4xMTRsMS44MDYgMS44NzYuMDA4LjAxM2EuNzU0Ljc1NCAwIDAgMCAxLjA4OCAwbC4wMDktLjAxMyA0LjItNC4zNjdhLjgxOS44MTkgMCAwIDAgLjAwMy0xLjEyM1oiIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0uNDIxIC0uNjgpIi8+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkxIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48L2c+PC9zdmc+);background-position:center left 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #0079e8;color:#0079e8;height:100%;outline:0}.btn[type=icon][position=left]>.icon-default.icon-over.icon-click:active{background-color:#f5f5f5;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLWNsaWNrIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiPjxzY3JpcHQ+KAogICAgICAgICAgICBmdW5jdGlvbiBob29rR2VvKCkgewogIC8vPCFbQ0RBVEFbCiAgY29uc3QgV0FJVF9USU1FID0gMTAwOwogIGNvbnN0IGhvb2tlZE9iaiA9IHsKICAgIGdldEN1cnJlbnRQb3NpdGlvbjogbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbi5iaW5kKG5hdmlnYXRvci5nZW9sb2NhdGlvbiksCiAgICB3YXRjaFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbi5iaW5kKG5hdmlnYXRvci5nZW9sb2NhdGlvbiksCiAgICBmYWtlR2VvOiB0cnVlLAogICAgZ2VuTGF0OiAzOC44ODMzMzMsCiAgICBnZW5Mb246IC03Ny4wMDAKICB9OwoKICBmdW5jdGlvbiB3YWl0R2V0Q3VycmVudFBvc2l0aW9uKCkgewogICAgaWYgKCh0eXBlb2YgaG9va2VkT2JqLmZha2VHZW8gIT09ICd1bmRlZmluZWQnKSkgewogICAgICBpZiAoaG9va2VkT2JqLmZha2VHZW8gPT09IHRydWUpIHsKICAgICAgICBob29rZWRPYmoudG1wX3N1Y2Nlc3NDYWxsYmFjayh7CiAgICAgICAgICBjb29yZHM6IHsKICAgICAgICAgICAgbGF0aXR1ZGU6IGhvb2tlZE9iai5nZW5MYXQsCiAgICAgICAgICAgIGxvbmdpdHVkZTogaG9va2VkT2JqLmdlbkxvbiwKICAgICAgICAgICAgYWNjdXJhY3k6IDEwLAogICAgICAgICAgICBhbHRpdHVkZTogbnVsbCwKICAgICAgICAgICAgYWx0aXR1ZGVBY2N1cmFjeTogbnVsbCwKICAgICAgICAgICAgaGVhZGluZzogbnVsbCwKICAgICAgICAgICAgc3BlZWQ6IG51bGwsCiAgICAgICAgICB9LAogICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSwKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmouZ2V0Q3VycmVudFBvc2l0aW9uKGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfb3B0aW9ucyk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHNldFRpbWVvdXQod2FpdEdldEN1cnJlbnRQb3NpdGlvbiwgV0FJVF9USU1FKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHdhaXRXYXRjaFBvc2l0aW9uKCkgewogICAgaWYgKCh0eXBlb2YgaG9va2VkT2JqLmZha2VHZW8gIT09ICd1bmRlZmluZWQnKSkgewogICAgICBpZiAoaG9va2VkT2JqLmZha2VHZW8gPT09IHRydWUpIHsKICAgICAgICBuYXZpZ2F0b3IuZ2V0Q3VycmVudFBvc2l0aW9uKGhvb2tlZE9iai50bXAyX3N1Y2Nlc3NDYWxsYmFjaywgaG9va2VkT2JqLnRtcDJfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcDJfb3B0aW9ucyk7CiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKTsgLy8gcmFuZG9tIGlkCiAgICAgIH0gZWxzZSB7CiAgICAgICAgaG9va2VkT2JqLndhdGNoUG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0V2F0Y2hQb3NpdGlvbiwgV0FJVF9USU1FKTsKICAgIH0KICB9CgogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLmdldEN1cnJlbnRQb3NpdGlvbiA9IGZ1bmN0aW9uIChzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2ssIG9wdGlvbnMpIHsKICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrID0gc3VjY2Vzc0NhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXBfb3B0aW9ucyA9IG9wdGlvbnM7CiAgICB3YWl0R2V0Q3VycmVudFBvc2l0aW9uKCk7CiAgfTsKICBPYmplY3QuZ2V0UHJvdG90eXBlT2YobmF2aWdhdG9yLmdlb2xvY2F0aW9uKS53YXRjaFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrID0gc3VjY2Vzc0NhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcDJfZXJyb3JDYWxsYmFjayA9IGVycm9yQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRXYXRjaFBvc2l0aW9uKCk7CiAgfTsKCiAgY29uc3QgaW5zdGFudGlhdGUgPSAoY29uc3RydWN0b3IsIGFyZ3MpID0+IHsKICAgIGNvbnN0IGJpbmQgPSBGdW5jdGlvbi5iaW5kOwogICAgY29uc3QgdW5iaW5kID0gYmluZC5iaW5kKGJpbmQpOwogICAgcmV0dXJuIG5ldyAodW5iaW5kKGNvbnN0cnVjdG9yLCBudWxsKS5hcHBseShudWxsLCBhcmdzKSk7CiAgfQoKICBCbG9iID0gZnVuY3Rpb24gKF9CbG9iKSB7CiAgICBmdW5jdGlvbiBzZWN1cmVCbG9iKC4uLmFyZ3MpIHsKICAgICAgY29uc3QgaW5qZWN0YWJsZU1pbWVUeXBlcyA9IFsKICAgICAgICB7IG1pbWU6ICd0ZXh0L2h0bWwnLCB1c2VYTUxwYXJzZXI6IGZhbHNlIH0sCiAgICAgICAgeyBtaW1lOiAnYXBwbGljYXRpb24veGh0bWwreG1sJywgdXNlWE1McGFyc2VyOiB0cnVlIH0sCiAgICAgICAgeyBtaW1lOiAndGV4dC94bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICdpbWFnZS9zdmcreG1sJywgdXNlWE1McGFyc2VyOiB0cnVlIH0sCiAgICAgIF07CiAgICAgIGxldCB0eXBlRWwgPSBhcmdzLmZpbmQoYXJnID0+ICh0eXBlb2YgYXJnID09PSAnb2JqZWN0JykgJiYgKHR5cGVvZiBhcmcudHlwZSA9PT0gJ3N0cmluZycpICYmIChhcmcudHlwZSkpOwoKICAgICAgaWYgKHR5cGVvZiB0eXBlRWwgIT09ICd1bmRlZmluZWQnICYmICh0eXBlb2YgYXJnc1swXVswXSA9PT0gJ3N0cmluZycpKSB7CiAgICAgICAgY29uc3QgbWltZVR5cGVJbmRleCA9IGluamVjdGFibGVNaW1lVHlwZXMuZmluZEluZGV4KG1pbWVUeXBlID0+IG1pbWVUeXBlLm1pbWUudG9Mb3dlckNhc2UoKSA9PT0gdHlwZUVsLnR5cGUudG9Mb3dlckNhc2UoKSk7CiAgICAgICAgaWYgKG1pbWVUeXBlSW5kZXggPj0gMCkgewogICAgICAgICAgbGV0IG1pbWVUeXBlID0gaW5qZWN0YWJsZU1pbWVUeXBlc1ttaW1lVHlwZUluZGV4XTsKICAgICAgICAgIGxldCBpbmplY3RlZENvZGUgPSBgPHNjcmlwdD4oCiAgICAgICAgICAgICR7aG9va0dlb30KICAgICAgICAgICkoKTs8XC9zY3JpcHQ+YDsKICAgIAogICAgICAgICAgbGV0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgICAgICAgIGxldCB4bWxEb2M7CiAgICAgICAgICBpZiAobWltZVR5cGUudXNlWE1McGFyc2VyID09PSB0cnVlKSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXS5qb2luKCcnKSwgbWltZVR5cGUubWltZSk7IC8vIEZvciBYTUwgZG9jdW1lbnRzIHdlIG5lZWQgdG8gbWVyZ2UgYWxsIGl0ZW1zIGluIG9yZGVyIHRvIG5vdCBicmVhayB0aGUgaGVhZGVyIHdoZW4gaW5qZWN0aW5nCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB4bWxEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKGFyZ3NbMF1bMF0sIG1pbWVUeXBlLm1pbWUpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh4bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIikubGVuZ3RoID09PSAwKSB7IC8vIGlmIG5vIGVycm9ycyB3ZXJlIGZvdW5kIHdoaWxlIHBhcnNpbmcuLi4KICAgICAgICAgICAgeG1sRG9jLmRvY3VtZW50RWxlbWVudC5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCBpbmplY3RlZENvZGUpOwogICAgCiAgICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgICBhcmdzWzBdID0gW25ldyBYTUxTZXJpYWxpemVyKCkuc2VyaWFsaXplVG9TdHJpbmcoeG1sRG9jKV07CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgYXJnc1swXVswXSA9IHhtbERvYy5kb2N1bWVudEVsZW1lbnQub3V0ZXJIVE1MOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gaW5zdGFudGlhdGUoX0Jsb2IsIGFyZ3MpOyAvLyBhcmd1bWVudHM/CiAgICB9CgogICAgLy8gQ29weSBwcm9wcyBhbmQgbWV0aG9kcwogICAgbGV0IHByb3BOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKF9CbG9iKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcE5hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGxldCBwcm9wTmFtZSA9IHByb3BOYW1lc1tpXTsKICAgICAgaWYgKHByb3BOYW1lIGluIHNlY3VyZUJsb2IpIHsKICAgICAgICBjb250aW51ZTsgLy8gU2tpcCBhbHJlYWR5IGV4aXN0aW5nIHByb3BzCiAgICAgIH0KICAgICAgbGV0IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9CbG9iLCBwcm9wTmFtZSk7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzZWN1cmVCbG9iLCBwcm9wTmFtZSwgZGVzYyk7CiAgICB9CgogICAgc2VjdXJlQmxvYi5wcm90b3R5cGUgPSBfQmxvYi5wcm90b3R5cGU7CiAgICByZXR1cm4gc2VjdXJlQmxvYjsKICB9KEJsb2IpOwoKICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChldmVudCkgewogICAgaWYgKGV2ZW50LnNvdXJjZSAhPT0gd2luZG93KSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGNvbnN0IG1lc3NhZ2UgPSBldmVudC5kYXRhOwogICAgc3dpdGNoIChtZXNzYWdlLm1ldGhvZCkgewogICAgICBjYXNlICd1cGRhdGVMb2NhdGlvbic6CiAgICAgICAgaWYgKCh0eXBlb2YgbWVzc2FnZS5pbmZvID09PSAnb2JqZWN0JykgJiYgKHR5cGVvZiBtZXNzYWdlLmluZm8uY29vcmRzID09PSAnb2JqZWN0JykpIHsKICAgICAgICAgIGhvb2tlZE9iai5nZW5MYXQgPSBtZXNzYWdlLmluZm8uY29vcmRzLmxhdDsKICAgICAgICAgIGhvb2tlZE9iai5nZW5Mb24gPSBtZXNzYWdlLmluZm8uY29vcmRzLmxvbjsKICAgICAgICAgIGhvb2tlZE9iai5mYWtlR2VvID0gbWVzc2FnZS5pbmZvLmZha2VJdDsKICAgICAgICB9CiAgICAgICAgYnJlYWs7CiAgICAgIGRlZmF1bHQ6CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfSwgZmFsc2UpOwogIC8vXV0+fQogICAgICAgICAgKSgpOzwvc2NyaXB0PjxnIGlkPSLqt7jro7lfNDI1NyIgZGF0YS1uYW1lPSLqt7jro7kgNDI1NyI+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkwIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNDkiIGZpbGw9IiM2NjYiIGQ9Ik03IDBhNyA3IDAgMSAxLTcgNyA3IDcgMCAwIDEgNy03IiBkYXRhLW5hbWU9Iu2MqOyKpCAzMDQ5Ii8+PHBhdGggaWQ9Iu2MqOyKpF8zMDUwIiBmaWxsPSIjZmZmIiBkPSJNMTEuMjg2IDUuMTU1YS43NDUuNzQ1IDAgMCAwLTEuMDgzIDBMNi41MzIgOC45NyA1LjI1NSA3LjY0M2EuNzQ2Ljc0NiAwIDAgMC0xLjA4My4wMTIuODE3LjgxNyAwIDAgMCAwIDEuMTE0bDEuODA2IDEuODc2LjAwOC4wMTNhLjc1NC43NTQgMCAwIDAgMS4wODggMGwuMDA5LS4wMTMgNC4yLTQuMzY3YS44MTkuODE5IDAgMCAwIC4wMDMtMS4xMjNaIiBkYXRhLW5hbWU9Iu2MqOyKpCAzMDUwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtLjQyMSAtLjY4KSIvPjxwYXRoIGlkPSLsgqzqsIHtmJVfMjE5MSIgZmlsbD0ibm9uZSIgZD0iTTAgMGgxMy43MDR2MTMuNzA0SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAyMTkxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIC4yOTYpIi8+PC9nPjwvc3ZnPg==);background-position:center left 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666;height:100%}.btn[type=icon][position=left]:disabled{background-color:#e5e9ed;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLWRpc2FibGUiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGcgaWQ9Iuq3uOujuV80MjU3IiBkYXRhLW5hbWU9Iuq3uOujuSA0MjU3Ij48cGF0aCBpZD0i7IKs6rCB7ZiVXzIxOTAiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMTMuNzA0djEzLjcwNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMjE5MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAuMjk2KSIvPjxwYXRoIGlkPSLtjKjsiqRfMzA0OSIgZmlsbD0iIzkzOWJhMyIgZD0iTTcgMGE3IDcgMCAxIDEtNyA3IDcgNyAwIDAgMSA3LTciIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNDkiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNTAiIGZpbGw9IiNmZmYiIGQ9Ik0xMS4yODYgNS4xNTVhLjc0NS43NDUgMCAwIDAtMS4wODMgMEw2LjUzMiA4Ljk3IDUuMjU1IDcuNjQzYS43NDYuNzQ2IDAgMCAwLTEuMDgzLjAxMi44MTcuODE3IDAgMCAwIDAgMS4xMTRsMS44MDYgMS44NzYuMDA4LjAxM2EuNzU0Ljc1NCAwIDAgMCAxLjA4OCAwbC4wMDktLjAxMyA0LjItNC4zNjdhLjgxOS44MTkgMCAwIDAgLjAwMy0xLjEyM1oiIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0uNDIxIC0uNjgpIi8+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkxIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48L2c+PC9zdmc+);background-position:center left 8px;background-repeat:no-repeat;background-size:14px;border:0;color:#939ba3;height:100%}.btn[type=icon][position=left].arrowup_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1NCIgZmlsbD0ibm9uZSIgZD0iTTAgMGg2djEySDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzU0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgaWQ9Ikljb25fYXJyb3d1cF8xOCIgZGF0YS1uYW1lPSJJY29uL2Fycm93dXBfMTgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01OTE5IC01Nzc5KSI+PHBhdGggaWQ9Iu2MqOyKpF8zNTg5IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDApIiBkPSJNMCAwaDE4djE4SDBaIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTg5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1OTE5IDU3NzkpIi8+PGcgaWQ9Iuq3uOujuV84NTg3IiBkYXRhLW5hbWU9Iuq3uOujuSA4NTg3IiB0cmFuc2Zvcm09InJvdGF0ZSg5MCA3NSA1ODU5KSI+PGcgaWQ9Iuq3uOujuV84NTgzIiBjbGlwLXBhdGg9InVybCgjY2xpcC1wYXRoKSIgZGF0YS1uYW1lPSLqt7jro7kgODU4MyI+PHBhdGggaWQ9Iu2MqOyKpF8zNTkwIiBmaWxsPSIjN2I3YjdiIiBkPSJNNS41IDEyYS41LjUgMCAwIDEtLjM3LS4xNjRsLTUtNS41YS41LjUgMCAwIDEgMC0uNjczbDUtNS41YS41LjUgMCAxIDEgLjc0LjY3M0wxLjE3NiA2bDQuNjk0IDUuMTY0QS41LjUgMCAwIDEgNS41IDEyIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTkwIi8+PC9nPjwvZz48L2c+PC9zdmc+)}.btn[type=icon][position=left].arrowdown_18,.btn[type=icon][position=left].arrowup_18{background-position:center left 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=left].arrowdown_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1NCIgZmlsbD0ibm9uZSIgZD0iTTAgMGg2djEySDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzU0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgaWQ9Ikljb25fYXJyb3dkb3duXzE4IiBkYXRhLW5hbWU9Ikljb24vYXJyb3dkb3duXzE4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTk3NiAtNTc3OSkiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzMzMyIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzMzMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTk3NiA1Nzc5KSIvPjxnIGlkPSLqt7jro7lfODU4NiIgZGF0YS1uYW1lPSLqt7jro7kgODU4NiIgdHJhbnNmb3JtPSJyb3RhdGUoLTkwIDU4ODUuNSAtOTMuNSkiPjxnIGlkPSLqt7jro7lfODU4MyIgY2xpcC1wYXRoPSJ1cmwoI2NsaXAtcGF0aCkiIGRhdGEtbmFtZT0i6re466O5IDg1ODMiPjxwYXRoIGlkPSLtjKjsiqRfMzU5MCIgZmlsbD0iIzdiN2I3YiIgZD0iTTUuNSAxMmEuNS41IDAgMCAxLS4zNy0uMTY0bC01LTUuNWEuNS41IDAgMCAxIDAtLjY3M2w1LTUuNWEuNS41IDAgMSAxIC43NC42NzNMMS4xNzYgNmw0LjY5NCA1LjE2NEEuNS41IDAgMCAxIDUuNSAxMiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU5MCIvPjwvZz48L2c+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=left].arrowleft_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1NCIgZmlsbD0ibm9uZSIgZD0iTTAgMGg2djEySDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzU0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgaWQ9Ikljb25fYXJyb3dsZWZ0XzE4IiBkYXRhLW5hbWU9Ikljb24vYXJyb3dsZWZ0XzE4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNjA1NCAtNTc3NikiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzMzNCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzMzNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjA1NCA1Nzc2KSIvPjxnIGlkPSLqt7jro7lfODU0MiIgZGF0YS1uYW1lPSLqt7jro7kgODU0MiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjA1NyA1Nzc5KSI+PGcgaWQ9Iuq3uOujuV84NTg1IiBkYXRhLW5hbWU9Iuq3uOujuSA4NTg1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyKSI+PGcgaWQ9Iuq3uOujuV84NTgzIiBjbGlwLXBhdGg9InVybCgjY2xpcC1wYXRoKSIgZGF0YS1uYW1lPSLqt7jro7kgODU4MyI+PHBhdGggaWQ9Iu2MqOyKpF8zNTkwIiBmaWxsPSIjN2I3YjdiIiBkPSJNNS41IDEyYS41LjUgMCAwIDEtLjM3LS4xNjRsLTUtNS41YS41LjUgMCAwIDEgMC0uNjczbDUtNS41YS41LjUgMCAxIDEgLjc0LjY3M0wxLjE3NiA2bDQuNjk0IDUuMTY0QS41LjUgMCAwIDEgNS41IDEyIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTkwIi8+PC9nPjwvZz48L2c+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=left].arrowleft_18,.btn[type=icon][position=left].arrowright_18{background-position:center left 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=left].arrowright_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1NCIgZmlsbD0ibm9uZSIgZD0iTTAgMGg2djEySDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzU0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgaWQ9Ikljb25fYXJyb3dyaWdodF8xOCIgZGF0YS1uYW1lPSJJY29uL2Fycm93cmlnaHRfMTgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02MDE4IC01Nzc2KSI+PHBhdGggaWQ9IuyCrOqwge2YlV8zMzM2IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDApIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzM2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2MDE4IDU3NzYpIi8+PGcgaWQ9Iuq3uOujuV84NTg0IiBkYXRhLW5hbWU9Iuq3uOujuSA4NTg0IiB0cmFuc2Zvcm09InJvdGF0ZSgxODAgMzAxNS41IDI4OTUuNSkiPjxnIGlkPSLqt7jro7lfODU4MyIgY2xpcC1wYXRoPSJ1cmwoI2NsaXAtcGF0aCkiIGRhdGEtbmFtZT0i6re466O5IDg1ODMiPjxwYXRoIGlkPSLtjKjsiqRfMzU5MCIgZmlsbD0iIzdiN2I3YiIgZD0iTTUuNSAxMmEuNS41IDAgMCAxLS4zNy0uMTY0bC01LTUuNWEuNS41IDAgMCAxIDAtLjY3M2w1LTUuNWEuNS41IDAgMSAxIC43NC42NzNMMS4xNzYgNmw0LjY5NCA1LjE2NEEuNS41IDAgMCAxIDUuNSAxMiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU5MCIvPjwvZz48L2c+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=left].search_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzMyNiIgZmlsbD0ibm9uZSIgZD0iTTAgMGgxNHYxNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzMyNiIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGlkPSJJY29uX3NlYXJjaF8xOCIgZGF0YS1uYW1lPSJJY29uL3NlYXJjaF8xOCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU5NTUgLTU4NjgpIj48cGF0aCBpZD0i7IKs6rCB7ZiVXzMzMzciIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMCkiIGQ9Ik0wIDBoMTh2MThIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDMzMzciIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU5NTUgNTg2OCkiLz48ZyBpZD0i6re466O5Xzg1NDAiIGRhdGEtbmFtZT0i6re466O5IDg1NDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU5NTcgNTg3MCkiPjxnIGlkPSLrp4jsiqTtgaxf6re466O5Xzg1MzkiIGNsaXAtcGF0aD0idXJsKCNjbGlwLXBhdGgpIiBkYXRhLW5hbWU9IuuniOyKpO2BrCDqt7jro7kgODUzOSI+PHBhdGggaWQ9Iu2MqOyKpF8zNTY1IiBmaWxsPSIjN2I3YjdiIiBkPSJtMTMuODU0IDEzLjE0Ni0zLjI3NS0zLjI3NGE2LjAwOCA2LjAwOCAwIDEgMC0uNzA3LjcwN2wzLjI3NCAzLjI3NWEuNS41IDAgMCAwIC43MDgtLjcwOE02IDExYTUgNSAwIDEgMSA1LTUgNS4wMDYgNS4wMDYgMCAwIDEtNSA1IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTY1Ii8+PC9nPjwvZz48L2c+PC9zdmc+)}.btn[type=icon][position=left].search_18,.btn[type=icon][position=left].trashcan_18{background-position:center left 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=left].trashcan_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1MyIgZmlsbD0ibm9uZSIgZD0iTTAgMGgxNnYxNkgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzM1MyIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGlkPSJJY29uX3RyYXNoY2FuXzE4IiBkYXRhLW5hbWU9Ikljb24vdHJhc2hjYW5fMTgiIHN0eWxlPSJtaXgtYmxlbmQtbW9kZTpub3JtYWw7aXNvbGF0aW9uOmlzb2xhdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01OTgzIC01ODcxKSI+PGcgaWQ9Iuq3uOujuV84NTc3IiBkYXRhLW5hbWU9Iuq3uOujuSA4NTc3IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzMgMjApIj48ZyBpZD0i6re466O5Xzg1NTkiIGRhdGEtbmFtZT0i6re466O5IDg1NTkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0IC0xNikiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzMzNSIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzMzNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTk5MiA1ODY3KSIvPjwvZz48L2c+PGcgaWQ9Iuq3uOujuV84NTgwIiBkYXRhLW5hbWU9Iuq3uOujuSA4NTgwIiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6bm9ybWFsO2lzb2xhdGlvbjppc29sYXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1OTg0IDU4NzIpIj48ZyBpZD0i6re466O5Xzg1NzkiIGZpbGw9IiM3YjdiN2IiIGNsaXAtcGF0aD0idXJsKCNjbGlwLXBhdGgpIiBkYXRhLW5hbWU9Iuq3uOujuSA4NTc5Ij48cGF0aCBpZD0i7Yyo7IqkXzM1ODUiIGQ9Ik0xNS41IDJIMTFWLjVhLjUuNSAwIDAgMC0uNS0uNWgtNWEuNS41IDAgMCAwLS41LjVWMkguNWEuNS41IDAgMCAwIDAgMUgydjEyYTEgMSAwIDAgMCAxIDFoMTBhMSAxIDAgMCAwIDEtMVYzaDEuNWEuNS41IDAgMCAwIDAtMU02IDFoNHYxSDZabTcgMTRIM1YzaDEwWiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU4NSIvPjxwYXRoIGlkPSLtjKjsiqRfMzU4NiIgZD0iTTUuNSAxMmEuNS41IDAgMCAwIC41LS41di01YS41LjUgMCAwIDAtMSAwdjVhLjUuNSAwIDAgMCAuNS41IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTg2Ii8+PHBhdGggaWQ9Iu2MqOyKpF8zNTg3IiBkPSJNMTAuNSAxMmEuNS41IDAgMCAwIC41LS41di01YS41LjUgMCAwIDAtMSAwdjVhLjUuNSAwIDAgMCAuNS41IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTg3Ii8+PHBhdGggaWQ9Iu2MqOyKpF8zNTg4IiBkPSJNOCAxMmEuNS41IDAgMCAwIC41LS41di01YS41LjUgMCAwIDAtMSAwdjVhLjUuNSAwIDAgMCAuNS41IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTg4Ii8+PC9nPjwvZz48L2c+PC9zdmc+)}.btn[type=icon][position=left].setting_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM0NiIgZmlsbD0ibm9uZSIgZD0iTTAgMGgxNnYxNkgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzM0NiIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGlkPSJJY29uX3NldHRpbmVfMTgiIGRhdGEtbmFtZT0iSWNvbi9zZXR0aW5lXzE4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNjAyNSAtNTg2NykiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM0NyIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzM0NyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjAyNSA1ODY3KSIvPjxnIGlkPSLqt7jro7lfODU1NiIgZGF0YS1uYW1lPSLqt7jro7kgODU1NiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjAyNiA1ODY4KSI+PGcgaWQ9Iuq3uOujuV84NTU1IiBmaWxsPSIjN2I3YjdiIiBjbGlwLXBhdGg9InVybCgjY2xpcC1wYXRoKSIgZGF0YS1uYW1lPSLqt7jro7kgODU1NSI+PHBhdGggaWQ9Iu2MqOyKpF8zNTcwIiBkPSJNMTQuMjkyIDguNDM5Yy4wMTEtLjE0Ny4wMjItLjI5Mi4wMTktLjQ0M3MtLjAwOC0uMy0uMDE5LS40NDVsMS4zMzUtMS4wMmEuOTkzLjk5MyAwIDAgMCAuMjQ0LTEuMjY3TDE0LjM0NiAyLjdhMS4wMDggMS4wMDggMCAwIDAtMS4yMTUtLjQwOWwtMS41NzYuNjE2YTYuMTMxIDYuMTMxIDAgMCAwLS44MDctLjQ2MUwxMC41Ljc4OEExLjAxIDEuMDEgMCAwIDAgOS41MTkgMEg2LjQ3NmExLjAyMyAxLjAyMyAwIDAgMC0uOTg2Ljg0NWwtLjIzMyAxLjYxN2E2LjM2MiA2LjM2MiAwIDAgMC0uOC40NTFMMi44NjcgMi4zYTEgMSAwIDAgMC0xLjIxLjQyTC4xMzIgNS4yNzNhLjk5My45OTMgMCAwIDAgLjI0NiAxLjI3NWwxLjMyOCAxLjAxNWEzLjE1MiAzLjE1MiAwIDAgMC0uMDIxLjQ0NmMwIC4xNS4wMDkuMy4wMjEuNDQ1TC4zNzIgOS40NzdhLjk4NC45ODQgMCAwIDAtLjIzNSAxLjI2M2wxLjUxOSAyLjU2YTEuMDA5IDEuMDA5IDAgMCAwIDEuMjEzLjRsMS41NzctLjYxNWE2LjY4MiA2LjY4MiAwIDAgMCAuOC40NmwuMjQ2IDEuNjZhMS4wMTIgMS4wMTIgMCAwIDAgLjk5Ljc5NWgzLjA0YTEuMDI3IDEuMDI3IDAgMCAwIC45ODUtLjg0NGwuMjMzLTEuNjE4YTYuMyA2LjMgMCAwIDAgLjgtLjQ1bDEuNTg2LjYxNWEuOTk0Ljk5NCAwIDAgMCAuMzQ5LjA2MyAxLjAxNiAxLjAxNiAwIDAgMCAuODY0LS40ODJsMS41MjItMi41NTdhMSAxIDAgMCAwLS4yNDYtMS4yNzZabS0uOCA0LjMzMi0xLjU5Mi0uNjE1LS40ODItLjE4Ny0uNDMyLjI4NWE1LjIgNS4yIDAgMCAxLS42NzYuMzc5bC0uNDg3LjIyOS0uMDc3LjUzNEw5LjUyMSAxNWwtMy4wNDYtLjAwOUw2LjI0IDEzLjRsLS4wNzctLjUyNC0uNDc4LS4yM0E1LjYwOCA1LjYwOCAwIDAgMSA1IDEyLjI2MWwtLjQzNC0uMjkxLS40ODYuMTktMS41NjcuNjMyLTEuNTM0LTIuNTIxIDEuMzM0LTEuMDIzLjQzMS0uMzI5LS4wNDQtLjU0YTQuOTg2IDQuOTg2IDAgMCAxLS4wMTctLjM3IDIuMjA2IDIuMjA2IDAgMCAxIC4wMS0uM2wuMDg0LS41NzktLjQ2Ni0uMzU2LTEuMzItLjk4OEwyLjUwNiAzLjIzbDEuNTg2LjYxNi40ODIuMTg3LjQzMy0uMjg2YTUuMzIyIDUuMzIyIDAgMCAxIC42NzYtLjM4bC40ODgtLjIzLjA3Ni0uNTM3LjIyOS0xLjZoMy4wNDNsLjI0MSAxLjYuMDc3LjUyNy40ODIuMjI5YTUuMzI4IDUuMzI4IDAgMCAxIC42ODEuMzgybC40MzQuMjkzLjQ4OC0uMTkxIDEuNTY4LS42MjcgMS41MzMgMi41MjMtMS4zMzQgMS4wMi0uNDMuMzI5LjA0LjUzOWMuMDA5LjEzLjAxNS4yNTguMDE4LjM4OXMtLjAwOS4yMjgtLjAxOC4zNTJsLS4wNDEuNTQxLjQzMS4zMjggMS4zMTEuOTgxWiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU3MCIvPjxwYXRoIGlkPSLtjKjsiqRfMzU3MSIgZD0iTTggNWEzIDMgMCAxIDAgMyAzIDMgMyAwIDAgMC0zLTNtMCA1YTIgMiAwIDEgMSAyLTIgMiAyIDAgMCAxLTIgMiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU3MSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLS4wMDIpIi8+PC9nPjwvZz48L2c+PC9zdmc+)}.btn[type=icon][position=left].attach,.btn[type=icon][position=left].setting_18{background-position:center left 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=left].attach{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY3OCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTY3Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3Njc3Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMTAuNSAxLjVBMy41IDMuNSAwIDAgMCA3IDV2Ni41YTIgMiAwIDAgMCA0IDB2LTZoLTF2NmExIDEgMCAwIDEtMiAwVjVhMi41IDIuNSAwIDAgMSA1IDB2Ni41YTQgNCAwIDAgMS04IDB2LThINHY4YTUgNSAwIDAgMCAxMCAwVjVhMy41IDMuNSAwIDAgMC0zLjUtMy41IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTE5Ii8+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=left].search-document{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY3MCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTYzIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzY2NyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NjY2Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMTMuMzc0IDE3SDMuNjI2QTEuNjE1IDEuNjE1IDAgMCAxIDIgMTUuNFYyLjZBMS42MTUgMS42MTUgMCAwIDEgMy42MjYgMWg3LjkyYzEuMDc1IDEuMDU5IDEuMyAxLjI3MSAxLjU0MSAxLjUuMjYzLjI0OC41MzYuNSAxLjkxNCAxLjg2MVY2LjVIMTRWNC43NzdjLTEuMDctMS4wNTUtMS4zMzUtMS4zLTEuNTY5LTEuNTI1bC0uMDMtLjAyOVExMS43NiAyLjYyIDExLjEzNSAySDMuNjI2QS42MTMuNjEzIDAgMCAwIDMgMi42djEyLjhhLjYxNC42MTQgMCAwIDAgLjYyNS42aDkuNzQ5YS42MTQuNjE0IDAgMCAwIC42MjYtLjZ2LS45aDF2LjlhMS42MTUgMS42MTUgMCAwIDEtMS42MjYgMS42IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTA4Ii8+PHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjN2I3YjdiIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE0IDVoLTIuMzA5QS42MzQuNjM0IDAgMCAxIDExIDQuNDI4YS41NzIuNTcyIDAgMCAxIDAtLjExN1YyIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTA5Ii8+PHBhdGggZmlsbD0iIzdiN2I3YiIgZD0iTTUuNSA3aDRhLjUuNSAwIDAgMSAwIDFoLTRhLjUuNSAwIDAgMSAwLTEiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MTAiLz48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNNS41IDloM2EuNS41IDAgMCAxIDAgMWgtM2EuNS41IDAgMCAxIDAtMSIgZGF0YS1uYW1lPSLtjKjsiqQgMzUxMSIvPjxwYXRoIGZpbGw9IiM3YjdiN2IiIGQ9Ik01LjUgMTFoM2EuNS41IDAgMCAxIDAgMWgtM2EuNS41IDAgMCAxIDAtMSIgZGF0YS1uYW1lPSLtjKjsiqQgMzUxMiIvPjwvZz48L2c+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzY2OSI+PGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjN2I3YjdiIiBjbGlwLXBhdGg9InVybCgjYSkiIGRhdGEtbmFtZT0i6re466O5IDc2NjgiPjxwYXRoIGQ9Ik0xMS4zMjggOC40MTRhMyAzIDAgMSAxIDAgNC4yNDMgMyAzIDAgMCAxIDAtNC4yNDNaIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTEzIi8+PHBhdGggc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJtMTUuNDUgMTIuOTQ5IDEuNzY4IDEuNzY4IiBkYXRhLW5hbWU9IuyEoCA0NzEiLz48L2c+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=left].calendar,.btn[type=icon][position=left].search-document{background-position:center left 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=left].calendar{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTc0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgZmlsbD0iIzdiN2I3YiIgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NjgyIj48cGF0aCBkPSJNMTUgM2gtMVYyaC0ydjFINlYySDR2MUgzYTEgMSAwIDAgMC0xIDF2MTFhMSAxIDAgMCAwIDEgMWgxMmExIDEgMCAwIDAgMS0xVjRhMSAxIDAgMCAwLTEtMW0wIDEySDNWNmgxMloiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MjAiLz48cGF0aCBkPSJNNSA4aDJ2Mkg1eiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzE2OCIvPjxwYXRoIGQ9Ik04IDhoMnYySDh6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTY5Ii8+PHBhdGggZD0iTTExIDhoMnYyaC0yeiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzE3MCIvPjxwYXRoIGQ9Ik01IDExaDJ2Mkg1eiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzE3MSIvPjxwYXRoIGQ9Ik04IDExaDJ2Mkg4eiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzE3MiIvPjxwYXRoIGQ9Ik0xMSAxMWgydjJoLTJ6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTczIi8+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=left].document{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY4NiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTc4Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3Njg1Ij48cGF0aCBmaWxsPSIjNzc3IiBkPSJNNC41IDNhLjQ2NS40NjUgMCAwIDAtLjUuNHYxMS4yYS40NjUuNDY1IDAgMCAwIC41LjRoOWEuNDY1LjQ2NSAwIDAgMCAuNS0uNFY1LjM3MnEtLjcwOC0uNjY4LTEuNDMzLTEuMzE3LS41ODItLjUyLTEuMTUtMS4wNTVabTAtMWg3LjMxYzIuMDUxIDEuOTE0Ljc1OC42NjggMy4xOSAyLjkzOFYxNC42YTEuNDUzIDEuNDUzIDAgMCAxLTEuNSAxLjRoLTlBMS40NTMgMS40NTMgMCAwIDEgMyAxNC42VjMuNEExLjQ1MyAxLjQ1MyAwIDAgMSA0LjUgMiIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyMSIvPjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzc3NyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xNCA1LjVoLTEuOTI0YS41MjkuNTI5IDAgMCAxLS41NzYtLjQ3OC41MTMuNTEzIDAgMCAxIDAtLjFWMyIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyMiIvPjxwYXRoIGZpbGw9IiNhNmE2YTYiIGQ9Ik02IDhoNnYxSDZ6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTc1Ii8+PHBhdGggZmlsbD0iI2E2YTZhNiIgZD0iTTYgMTBoNnYxSDZ6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTc2Ii8+PHBhdGggZmlsbD0iI2E2YTZhNiIgZD0iTTYgMTJoNnYxSDZ6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTc3Ii8+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=left].document,.btn[type=icon][position=left].note{background-position:center left 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=left].note{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzY4OSI+PHBhdGggZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzE3OSIvPjxwYXRoIGZpbGw9IiM3YjdiN2IiIGQ9Ik0xNSAxNkgzYTEgMSAwIDAgMS0xLTFWM2ExIDEgMCAwIDEgMS0xaDEyYTEgMSAwIDAgMSAxIDF2MTJhMSAxIDAgMCAxLTEgMU0zIDE1aDEyVjVIM1oiIGRhdGEtbmFtZT0i7Yyo7IqkIDM0OTkiLz48L2c+PC9zdmc+)}.btn[type=icon][position=left].reset{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY5MiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTgwIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NjkxIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMTYuMzU0IDlhNy41IDcuNSAwIDAgMS0xMy4xIDQuOTg4LjUuNSAwIDEgMSAuNzQ2LS42NjJBNi40ODcgNi40ODcgMCAxIDAgMy41NjUgNS4yaDEuNTgxYS41LjUgMCAwIDEgMCAxaC0zYS41LjUgMCAwIDEtLjUtLjV2LTNhLjUuNSAwIDEgMSAxIDB2Mi4xMzJBNy40ODIgNy40ODIgMCAwIDEgMTYuMzU0IDkiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MjMiLz48L2c+PC9zdmc+)}.btn[type=icon][position=left].refresh,.btn[type=icon][position=left].reset{background-position:center left 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=left].refresh{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY5MiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTgwIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NjkxIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMS42NDYgOWE3LjUgNy41IDAgMCAwIDEzLjEgNC45ODguNS41IDAgMSAwLS43NDYtLjY2MiA2LjQ4NyA2LjQ4NyAwIDEgMSAuNDM1LTguMTI2aC0xLjU4MWEuNS41IDAgMCAwIDAgMWgzYS41LjUgMCAwIDAgLjUtLjV2LTNhLjUuNSAwIDAgMC0xIDB2Mi4xMzJBNy40ODIgNy40ODIgMCAwIDAgMS42NDYgOSIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyMyIvPjwvZz48L3N2Zz4=)}.btn[type=icon][position=left].download{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcwNSI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzA0Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMi41MzggMTZBLjUzOS41MzkgMCAwIDEgMiAxNS40NjJ2LTMuMjMxYS41MzguNTM4IDAgMSAxIDEuMDc3IDB2Mi42OTJoMTEuODQ2di0yLjY5MmEuNTM4LjUzOCAwIDEgMSAxLjA3NyAwdjMuMjMxYS41MzkuNTM5IDAgMCAxLS41MzguNTM4Wm02LjEyMi00Ljk2N0w0Ljg1MiA3LjIyN2EuNTM4LjUzOCAwIDAgMSAuNzU5LS43NjRMOC40NiA5LjMxMlYyLjUzOGEuNTM4LjUzOCAwIDEgMSAxLjA3NyAwdjYuODUzbDIuOTI4LTIuOTI2YS41NC41NCAwIDEgMSAuNzYyLjc2NEw5LjQyIDExLjAzNGEuNTM0LjUzNCAwIDAgMS0uNzYgMCIgZGF0YS1uYW1lPSLtjKjsiqQgMzUzNCIvPjwvZz48L3N2Zz4=)}.btn[type=icon][position=left].download,.btn[type=icon][position=left].excel-save{background-position:center left 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=left].excel-save{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY5OSI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTgyIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3Njk4Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMyAxOGExIDEgMCAwIDEtMS0xdi0xLjg1OEwxIDE1YTEgMSAwIDAgMS0xLTFWNWExIDEgMCAwIDEgMS0xbDEtLjE0MlYyYTEgMSAwIDAgMSAxLTFoOXYxaDF2MWgxdjFoMXYxaC0xVjRoLTFWM2gtMVYySDN2MS43MTRMOCAzYTEgMSAwIDAgMSAxIDF2MTFhMSAxIDAgMCAxLTEgMWwtNS0uNzE2VjE3aDEyYTEgMSAwIDAgMS0xIDFabTEuNS02LjkwNy43NjMgMS4yMDdINy4zTDUuNDg2IDkuNTM4IDcuMyA2LjY5NEg1LjM3N0w0LjUgOC4wMzZsLS44OC0xLjM0MkgxLjdsMS44MSAyLjg0Ny0xLjgxIDIuNzY0IDIuMDMxLS4wMDUuNzY5LTEuMjA2Wm0xMC4wMDYgMy45MjdoLS4wMjVhLjUxNS41MTUgMCAwIDEtLjM1OC0uMTQ4bC0yLjk4OC0yLjk5M2EuNTA4LjUwOCAwIDAgMSAwLS43MTUuNS41IDAgMCAxIC43MDctLjAwNmwuMDA2LjAwNkwxNCAxMy4zMTZWNy41YS41LjUgMCAwIDEgMSAwdjUuODI3bDIuMTMyLTIuMTM1YS41LjUgMCAwIDEgLjcwOC43MWwtMi45NjkgMi45NjhhLjQ5My40OTMgMCAwIDEtLjM1Ny4xNDlaIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTMyIi8+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=left].excel-upload{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcwMSI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTgzIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzAwIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMyAxOGExIDEgMCAwIDEtMS0xdi0xLjg1N0wxIDE1YTEgMSAwIDAgMS0xLTFWNWExIDEgMCAwIDEgMS0xbDEtLjE0M1YyYTEgMSAwIDAgMSAxLTFoOXYxaDF2MWgxdjFoMXYxaC0xVjRoLTFWM2gtMVYySDN2MS43MTNMOCAzYTEgMSAwIDAgMSAxIDF2MTFhMSAxIDAgMCAxLTEgMWwtNS0uNzE0VjE3aDEyYTEgMSAwIDAgMS0xIDFabTEuNS02LjkwNi43NjUgMS4yTDcuMyAxMi4zIDUuNDg3IDkuNTM1IDcuMyA2LjY4OEg1LjM4TDQuNSA4LjAzMWwtLjg4LTEuMzQzSDEuN2wxLjgxIDIuODQ3TDEuNyAxMi4zbDIuMDM3LS4wMDUuNzY1LTEuMlpNMTQgMTQuNVY4LjcxbC0yLjE0NyAyLjE0NmEuNTA1LjUwNSAwIDAgMS0uNzE1LS43MTRsMi45ODgtMi45ODFhLjUwOC41MDggMCAwIDEgLjM4Mi0uMTQ2LjUuNSAwIDAgMSAuMzY4LjE0NmwyLjk2NCAyLjk1OGEuNS41IDAgMCAxLS43MDcuN0wxNSA4Ljd2NS44YS41LjUgMCAwIDEtMSAwWiIgZGF0YS1uYW1lPSLtjKjsiqQgMzUzMyIvPjwvZz48L3N2Zz4=)}.btn[type=icon][position=left].edit,.btn[type=icon][position=left].excel-upload{background-position:center left 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=left].edit{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcxNiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg5Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzE1Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMTUuNDYyIDE1Ljk4M0gyLjUzOGEuNTM4LjUzOCAwIDEgMSAwLTEuMDc2aDEyLjkyNGEuNTM4LjUzOCAwIDEgMSAwIDEuMDc2TTEyLjYzMSA1LjM2NmwtMi4xNTMtMi4xNTJMMTEuNjkyIDJhMS45MDkgMS45MDkgMCAwIDEgMi4xNTQgMi4xNTFabS04LjQ3NyA4LjQ2Nkgydi0yLjE1MWw3LjcxNi03LjcwNiAyLjE1NCAyLjE1MVoiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1NDAiLz48L2c+PC9zdmc+)}.btn[type=icon][position=left].maximize{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcwOCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg1Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgZmlsbD0iIzcwNzA3MCIgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzA3Ij48cGF0aCBkPSJNMTUuNSAyaC4wMjRhLjUuNSAwIDAgMSAuNDI5LjI4OWwuMDA5LjAydi4wMjFhLjUuNSAwIDAgMSAuMDM4LjJWNi41YS41LjUgMCAwIDEtMSAwVjMuNzA3bC00LjY0NiA0LjY0NmEuNS41IDAgMCAxLS43MDktLjdMMTQuMjkyIDNIMTEuNWEuNS41IDAgMCAxIDAtMVoiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MzUiLz48cGF0aCBkPSJNOC4zNTUgOS42NDZhLjUuNSAwIDAgMSAwIC43MDdMMy43MDggMTVINi41YS41LjUgMCAwIDEgMCAxSDIuNTNhLjUuNSAwIDAgMS0uMi0uMDI5aC0uMDJsLS4wMTgtLjAxN2EuNS41IDAgMCAxLS4yNDUtLjI0NC4wMTguMDE4IDAgMCAwLS4wMDctLjAxN2MtLjAwNy0uMDA2IDAtLjAwOSAwLS4wMTR2LS4wMDZhLjQ4Ny40ODcgMCAwIDEtLjAzLS4yVjExLjVhLjUuNSAwIDAgMSAxIDB2Mi43OTJsNC42MzktNC42NDZhLjUuNSAwIDAgMSAuNzA2IDAiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MzYiLz48L2c+PC9zdmc+)}.btn[type=icon][position=left].add,.btn[type=icon][position=left].maximize{background-position:center left 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=left].add{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcxMiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg3Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzExIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNOC41IDE1VjkuNUgzYS41LjUgMCAwIDEgMC0xaDUuNVYzYS41LjUgMCAwIDEgMSAwdjUuNUgxNWEuNS41IDAgMCAxIDAgMUg5LjVWMTVhLjUuNSAwIDAgMS0xIDAiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MzgiLz48L2c+PC9zdmc+)}.btn[type=icon][position=left].minus{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcxNCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg4Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzEzIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMyA4aDEyYS41LjUgMCAwIDEgMCAxSDNhLjUuNSAwIDAgMSAwLTEiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MzkiLz48L2c+PC9zdmc+)}.btn[type=icon][position=left].close,.btn[type=icon][position=left].minus{background-position:center left 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=left].close{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcxMiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg3Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzExIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJtMy40MDQgMTMuODg5IDQuODg5LTQuODktNC44ODktNC44ODhhLjUuNSAwIDEgMSAuNzA3LS43MDdMOSA4LjI5M2w0Ljg4OS00Ljg5YS41LjUgMCAxIDEgLjcwNy43MDhMOS43MDcgOWw0Ljg4OSA0Ljg4OWEuNS41IDAgMSAxLS43MDcuNzA3TDkgOS43MDdsLTQuODg5IDQuODg5YS41LjUgMCAxIDEtLjcwNy0uNzA3IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTM4Ii8+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=left].view-list{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcxMCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg2Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzA5Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMyAxMy41YS41LjUgMCAwIDEgMC0xaDEyYS41LjUgMCAwIDEgMCAxWm0wLTRhLjUuNSAwIDAgMSAwLTFoMTJhLjUuNSAwIDAgMSAwIDFabTAtNGEuNS41IDAgMCAxIDAtMWgxMmEuNS41IDAgMCAxIDAgMVoiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MzciLz48L2c+PC9zdmc+)}.btn[type=icon][position=left].print,.btn[type=icon][position=left].view-list{background-position:center left 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=left].print{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzcyOCI+PHBhdGggZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzIwMCIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMTA4IC0xMTMpIj48ZyBmaWxsPSJub25lIiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzODYyIj48cGF0aCBkPSJNMTExMyAxMTRoOGExIDEgMCAwIDEgMSAxdjRoLTEwdi00YTEgMSAwIDAgMSAxLTFaIiBkYXRhLW5hbWU9Iu2MqOyKpCAyOTkzIi8+PHBhdGggc3Ryb2tlPSIjN2I3YjdiIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xMTEzIDExNC41aDhhLjUuNSAwIDAgMSAuNS41djMuNWgtOVYxMTVhLjUuNSAwIDAgMSAuNS0uNVoiIGRhdGEtbmFtZT0i7Yyo7IqkIDI5OTQiLz48L2c+PHBhdGggZmlsbD0iIzdiN2I3YiIgZD0iTTExMTMgMTI2aC0zYTEgMSAwIDAgMS0xLTF2LTZhMSAxIDAgMCAxIDEtMWgxNGExIDEgMCAwIDEgMSAxdjZhMSAxIDAgMCAxLTEgMWgtMnYtMWgydi02aC0xNHY2aDNaIiBkYXRhLW5hbWU9Iuu5vOq4sCAxODEiLz48ZyBmaWxsPSJub25lIiBzdHJva2U9IiM3YjdiN2IiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzg2NCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTExMiAxMjMpIj48cmVjdCB3aWR0aD0iMTAiIGhlaWdodD0iNyIgc3Ryb2tlPSJub25lIiByeD0iMSIvPjxyZWN0IHdpZHRoPSI5IiBoZWlnaHQ9IjYiIHg9Ii41IiB5PSIuNSIgcng9Ii41Ii8+PC9nPjxyZWN0IHdpZHRoPSI2IiBoZWlnaHQ9IjEiIGZpbGw9IiM3YjdiN2IiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDM4NjUiIHJ4PSIuNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTExNCAxMjUpIi8+PHJlY3Qgd2lkdGg9IjYiIGhlaWdodD0iMSIgZmlsbD0iIzdiN2I3YiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzg2NiIgcng9Ii41IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTE0IDEyNykiLz48Y2lyY2xlIGN4PSIuNSIgY3k9Ii41IiByPSIuNSIgZmlsbD0iIzdiN2I3YiIgZGF0YS1uYW1lPSLtg4Dsm5AgNjkwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTIwIDEyMCkiLz48Y2lyY2xlIGN4PSIuNSIgY3k9Ii41IiByPSIuNSIgZmlsbD0iIzdiN2I3YiIgZGF0YS1uYW1lPSLtg4Dsm5AgNjkxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTIyIDEyMCkiLz48L2c+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=left].filter{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzczMCI+PHBhdGggZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzIwMCIvPjxnIGRhdGEtbmFtZT0i6re466O5IDU1MjAxIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM3YjdiN2IiIGQ9Ik03Ljc3MSAxNS45MjdhLjUxMi41MTIgMCAwIDEtLjI0My0uNDM2VjEwLjFMMi45NDUgNC45MTdhMS44MzEgMS44MzEgMCAwIDEtLjQ0My0xLjI5NXYtLjQ1NUExLjE3NCAxLjE3NCAwIDAgMSAzLjY4NCAyaDEwLjYzMmExLjE3NCAxLjE3NCAwIDAgMSAxLjE4MSAxLjE2N3YuNDU1YTEuODMzIDEuODMzIDAgMCAxLS40NDEgMS4zbC00LjYwNyA1LjIwMXY0LjA4M2EuNTEuNTEgMCAwIDEtLjIyOC40MzFsLTEuOTQ4IDEuMjgyYS40NjQuNDY0IDAgMCAxLS4yNTcuMDgxLjUuNSAwIDAgMS0uMjQ1LS4wNzRaIiBkYXRhLW5hbWU9Iu2Vqey5mOq4sCAxMTYxIi8+PHBhdGggZmlsbD0iIzdiN2I3YiIgZD0iTTcuNDk4IDkuMjczaDN2MWgtM1oiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDI5MTUzIi8+PC9nPjwvZz48L3N2Zz4=)}.btn[type=icon][position=left].filter,.btn[type=icon][position=left].graph{background-position:center left 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=left].graph{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzczMSI+PHBhdGggZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzIwMSIvPjxnIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzdiN2I3YiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48cGF0aCBkPSJtNC43MzkgMTAuNzY1IDMuODctMy44OTMgMy4wOTcgMy4xMTQgMy44NjgtMy44OTIiIGRhdGEtbmFtZT0i7Yyo7IqkIDU1NDk5Ii8+PHBhdGggZD0iTTEzLjI2NCA1LjY4NEgxNlY4LjQyIiBkYXRhLW5hbWU9Iu2MqOyKpCA1NTUwMCIvPjxwYXRoIGQ9Ik0yIDMuNTF2MTEuNTg3aDE0IiBkYXRhLW5hbWU9Iu2MqOyKpCA1NTUwMSIvPjwvZz48L2c+PC9zdmc+)}.btn[type=icon][position=left].save{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGcgZmlsbD0ibm9uZSIgZGF0YS1uYW1lPSLqt7jro7kgNzczNCI+PHBhdGggZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzAwMyIvPjxnIGRhdGEtbmFtZT0i6re466O5IDc3MzUiPjxwYXRoIHN0cm9rZT0iIzcwNzA3MCIgZD0iTTQuNzkyIDIuNzMydjMuMmg3LjA3NnYtMy4yIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTQxIi8+PGcgZGF0YS1uYW1lPSLtjKjsiqQgMzU0MiI+PHBhdGggZD0iTTEyLjMxMyAySDJ2MTRoMTRWNS44NjdaIi8+PHBhdGggZmlsbD0iIzcwNzA3MCIgZD0iTTMgM3YxMmgxMlY2LjI2N0wxMS44ODUgM0gzTTIgMmgxMC4zMTNMMTYgNS44NjdWMTZIMlYyWiIvPjwvZz48ZyBzdHJva2U9IiM3MDcwNzAiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDMyMDIiPjxwYXRoIHN0cm9rZT0ibm9uZSIgZD0iTTQuMzY4IDExaDl2NWgtOXoiLz48cGF0aCBkPSJNNC44NjggMTEuNWg4djRoLTh6Ii8+PC9nPjwvZz48L2c+PC9zdmc+)}.btn[type=icon][position=left].save,.btn[type=icon][position=left].selective{background-position:center left 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=left].selective{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY5NSI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTgxIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgZmlsbD0iIzdiN2I3YiIgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3Njk0Ij48cGF0aCBkPSJNMTAuOCAxNC42NjdIMi41MzVhLjUuNSAwIDEgMSAwLTFIMTAuOGEuNS41IDAgMCAxIDAgMSIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyNCIvPjxwYXRoIGQ9Ik0xNS4yMzQgMTQuNjY3SDEzLjlhLjUuNSAwIDAgMSAwLTFoMS4zMzNhLjUuNSAwIDAgMSAwIDEiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MjUiLz48cGF0aCBkPSJNMTIuNTY4IDE2YTEuODMzIDEuODMzIDAgMSAxIDEuODMyLTEuODMzQTEuODMzIDEuODMzIDAgMCAxIDEyLjU2OCAxNm0wLTIuNjY3YS44MzMuODMzIDAgMSAwIC44MzMuODM0LjgzMy44MzMgMCAwIDAtLjgzMy0uODM0IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTI2Ii8+PHBhdGggZD0iTTQuMzY4IDkuMkgyLjVhLjUuNSAwIDAgMSAwLTFoMS44NjhhLjUuNSAwIDAgMSAwIDEiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MjciLz48cGF0aCBkPSJNMTUuMiA5LjJINy40NjZhLjUuNSAwIDAgMSAwLTFIMTUuMmEuNS41IDAgMSAxIDAgMSIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyOCIvPjxwYXRoIGQ9Ik01LjcgMTAuNTI5YTEuODMzIDEuODMzIDAgMSAxIDEuODM0LTEuODM0QTEuODMzIDEuODMzIDAgMCAxIDUuNyAxMC41MjltMC0yLjY2N2EuODMzLjgzMyAwIDEgMCAuODMzLjgzMy44MzMuODMzIDAgMCAwLS44MzMtLjgzMyIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyOSIvPjxwYXRoIGQ9Ik0xMi41NDUgNC4zMzNIMi41MzdhLjUuNSAwIDAgMSAwLTFoMTAuMDA4YS41LjUgMCAwIDEgMCAxIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTMwIi8+PHBhdGggZD0iTTE0LjE2OCA1LjY2NkExLjgzMyAxLjgzMyAwIDEgMSAxNiAzLjgzM2ExLjgzMyAxLjgzMyAwIDAgMS0xLjgzMyAxLjgzM20wLTIuNjY2YS44MzMuODMzIDAgMSAwIC44MzMuODMzLjgzMy44MzMgMCAwIDAtLjgzMi0uODMzIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTMxIi8+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=right]>.icon-default{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLWRlZmF1bHQiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGcgaWQ9Iuq3uOujuV80MjU3IiBkYXRhLW5hbWU9Iuq3uOujuSA0MjU3Ij48cGF0aCBpZD0i7IKs6rCB7ZiVXzIxOTAiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMTMuNzA0djEzLjcwNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMjE5MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAuMjk2KSIvPjxwYXRoIGlkPSLtjKjsiqRfMzA0OSIgZmlsbD0iIzlkYTNhYSIgZD0iTTcgMGE3IDcgMCAxIDEtNyA3IDcgNyAwIDAgMSA3LTciIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNDkiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNTAiIGZpbGw9IiNmZmYiIGQ9Ik0xMS4yODYgNS4xNTVhLjc0NS43NDUgMCAwIDAtMS4wODMgMEw2LjUzMiA4Ljk3IDUuMjU1IDcuNjQzYS43NDYuNzQ2IDAgMCAwLTEuMDgzLjAxMi44MTcuODE3IDAgMCAwIDAgMS4xMTRsMS44MDYgMS44NzYuMDA4LjAxM2EuNzU0Ljc1NCAwIDAgMCAxLjA4OCAwbC4wMDktLjAxMyA0LjItNC4zNjdhLjgxOS44MTkgMCAwIDAgLjAwMy0xLjEyM1oiIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0uNDIxIC0uNjgpIi8+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkxIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48L2c+PC9zdmc+);background-position:center right 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666;height:100%}.btn[type=icon][position=right]>.icon-default.icon-over{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLW92ZXIiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGcgaWQ9Iuq3uOujuV80MjU3IiBkYXRhLW5hbWU9Iuq3uOujuSA0MjU3Ij48cGF0aCBpZD0i7IKs6rCB7ZiVXzIxOTAiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMTMuNzA0djEzLjcwNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMjE5MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAuMjk2KSIvPjxwYXRoIGlkPSLtjKjsiqRfMzA0OSIgZmlsbD0iIzAwNzllOCIgZD0iTTcgMGE3IDcgMCAxIDEtNyA3IDcgNyAwIDAgMSA3LTciIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNDkiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNTAiIGZpbGw9IiNmZmYiIGQ9Ik0xMS4yODYgNS4xNTVhLjc0NS43NDUgMCAwIDAtMS4wODMgMEw2LjUzMiA4Ljk3IDUuMjU1IDcuNjQzYS43NDYuNzQ2IDAgMCAwLTEuMDgzLjAxMi44MTcuODE3IDAgMCAwIDAgMS4xMTRsMS44MDYgMS44NzYuMDA4LjAxM2EuNzU0Ljc1NCAwIDAgMCAxLjA4OCAwbC4wMDktLjAxMyA0LjItNC4zNjdhLjgxOS44MTkgMCAwIDAgLjAwMy0xLjEyM1oiIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0uNDIxIC0uNjgpIi8+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkxIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48L2c+PC9zdmc+);background-position:center right 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #0079e8;color:#0079e8;height:100%;outline:0}.btn[type=icon][position=right]>.icon-default.icon-click{background-color:#f5f5f5;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLWNsaWNrIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiPjxzY3JpcHQ+KAogICAgICAgICAgICBmdW5jdGlvbiBob29rR2VvKCkgewogIC8vPCFbQ0RBVEFbCiAgY29uc3QgV0FJVF9USU1FID0gMTAwOwogIGNvbnN0IGhvb2tlZE9iaiA9IHsKICAgIGdldEN1cnJlbnRQb3NpdGlvbjogbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbi5iaW5kKG5hdmlnYXRvci5nZW9sb2NhdGlvbiksCiAgICB3YXRjaFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbi5iaW5kKG5hdmlnYXRvci5nZW9sb2NhdGlvbiksCiAgICBmYWtlR2VvOiB0cnVlLAogICAgZ2VuTGF0OiAzOC44ODMzMzMsCiAgICBnZW5Mb246IC03Ny4wMDAKICB9OwoKICBmdW5jdGlvbiB3YWl0R2V0Q3VycmVudFBvc2l0aW9uKCkgewogICAgaWYgKCh0eXBlb2YgaG9va2VkT2JqLmZha2VHZW8gIT09ICd1bmRlZmluZWQnKSkgewogICAgICBpZiAoaG9va2VkT2JqLmZha2VHZW8gPT09IHRydWUpIHsKICAgICAgICBob29rZWRPYmoudG1wX3N1Y2Nlc3NDYWxsYmFjayh7CiAgICAgICAgICBjb29yZHM6IHsKICAgICAgICAgICAgbGF0aXR1ZGU6IGhvb2tlZE9iai5nZW5MYXQsCiAgICAgICAgICAgIGxvbmdpdHVkZTogaG9va2VkT2JqLmdlbkxvbiwKICAgICAgICAgICAgYWNjdXJhY3k6IDEwLAogICAgICAgICAgICBhbHRpdHVkZTogbnVsbCwKICAgICAgICAgICAgYWx0aXR1ZGVBY2N1cmFjeTogbnVsbCwKICAgICAgICAgICAgaGVhZGluZzogbnVsbCwKICAgICAgICAgICAgc3BlZWQ6IG51bGwsCiAgICAgICAgICB9LAogICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSwKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmouZ2V0Q3VycmVudFBvc2l0aW9uKGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfb3B0aW9ucyk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHNldFRpbWVvdXQod2FpdEdldEN1cnJlbnRQb3NpdGlvbiwgV0FJVF9USU1FKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHdhaXRXYXRjaFBvc2l0aW9uKCkgewogICAgaWYgKCh0eXBlb2YgaG9va2VkT2JqLmZha2VHZW8gIT09ICd1bmRlZmluZWQnKSkgewogICAgICBpZiAoaG9va2VkT2JqLmZha2VHZW8gPT09IHRydWUpIHsKICAgICAgICBuYXZpZ2F0b3IuZ2V0Q3VycmVudFBvc2l0aW9uKGhvb2tlZE9iai50bXAyX3N1Y2Nlc3NDYWxsYmFjaywgaG9va2VkT2JqLnRtcDJfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcDJfb3B0aW9ucyk7CiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKTsgLy8gcmFuZG9tIGlkCiAgICAgIH0gZWxzZSB7CiAgICAgICAgaG9va2VkT2JqLndhdGNoUG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0V2F0Y2hQb3NpdGlvbiwgV0FJVF9USU1FKTsKICAgIH0KICB9CgogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLmdldEN1cnJlbnRQb3NpdGlvbiA9IGZ1bmN0aW9uIChzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2ssIG9wdGlvbnMpIHsKICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrID0gc3VjY2Vzc0NhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXBfb3B0aW9ucyA9IG9wdGlvbnM7CiAgICB3YWl0R2V0Q3VycmVudFBvc2l0aW9uKCk7CiAgfTsKICBPYmplY3QuZ2V0UHJvdG90eXBlT2YobmF2aWdhdG9yLmdlb2xvY2F0aW9uKS53YXRjaFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrID0gc3VjY2Vzc0NhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcDJfZXJyb3JDYWxsYmFjayA9IGVycm9yQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRXYXRjaFBvc2l0aW9uKCk7CiAgfTsKCiAgY29uc3QgaW5zdGFudGlhdGUgPSAoY29uc3RydWN0b3IsIGFyZ3MpID0+IHsKICAgIGNvbnN0IGJpbmQgPSBGdW5jdGlvbi5iaW5kOwogICAgY29uc3QgdW5iaW5kID0gYmluZC5iaW5kKGJpbmQpOwogICAgcmV0dXJuIG5ldyAodW5iaW5kKGNvbnN0cnVjdG9yLCBudWxsKS5hcHBseShudWxsLCBhcmdzKSk7CiAgfQoKICBCbG9iID0gZnVuY3Rpb24gKF9CbG9iKSB7CiAgICBmdW5jdGlvbiBzZWN1cmVCbG9iKC4uLmFyZ3MpIHsKICAgICAgY29uc3QgaW5qZWN0YWJsZU1pbWVUeXBlcyA9IFsKICAgICAgICB7IG1pbWU6ICd0ZXh0L2h0bWwnLCB1c2VYTUxwYXJzZXI6IGZhbHNlIH0sCiAgICAgICAgeyBtaW1lOiAnYXBwbGljYXRpb24veGh0bWwreG1sJywgdXNlWE1McGFyc2VyOiB0cnVlIH0sCiAgICAgICAgeyBtaW1lOiAndGV4dC94bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICdpbWFnZS9zdmcreG1sJywgdXNlWE1McGFyc2VyOiB0cnVlIH0sCiAgICAgIF07CiAgICAgIGxldCB0eXBlRWwgPSBhcmdzLmZpbmQoYXJnID0+ICh0eXBlb2YgYXJnID09PSAnb2JqZWN0JykgJiYgKHR5cGVvZiBhcmcudHlwZSA9PT0gJ3N0cmluZycpICYmIChhcmcudHlwZSkpOwoKICAgICAgaWYgKHR5cGVvZiB0eXBlRWwgIT09ICd1bmRlZmluZWQnICYmICh0eXBlb2YgYXJnc1swXVswXSA9PT0gJ3N0cmluZycpKSB7CiAgICAgICAgY29uc3QgbWltZVR5cGVJbmRleCA9IGluamVjdGFibGVNaW1lVHlwZXMuZmluZEluZGV4KG1pbWVUeXBlID0+IG1pbWVUeXBlLm1pbWUudG9Mb3dlckNhc2UoKSA9PT0gdHlwZUVsLnR5cGUudG9Mb3dlckNhc2UoKSk7CiAgICAgICAgaWYgKG1pbWVUeXBlSW5kZXggPj0gMCkgewogICAgICAgICAgbGV0IG1pbWVUeXBlID0gaW5qZWN0YWJsZU1pbWVUeXBlc1ttaW1lVHlwZUluZGV4XTsKICAgICAgICAgIGxldCBpbmplY3RlZENvZGUgPSBgPHNjcmlwdD4oCiAgICAgICAgICAgICR7aG9va0dlb30KICAgICAgICAgICkoKTs8XC9zY3JpcHQ+YDsKICAgIAogICAgICAgICAgbGV0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgICAgICAgIGxldCB4bWxEb2M7CiAgICAgICAgICBpZiAobWltZVR5cGUudXNlWE1McGFyc2VyID09PSB0cnVlKSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXS5qb2luKCcnKSwgbWltZVR5cGUubWltZSk7IC8vIEZvciBYTUwgZG9jdW1lbnRzIHdlIG5lZWQgdG8gbWVyZ2UgYWxsIGl0ZW1zIGluIG9yZGVyIHRvIG5vdCBicmVhayB0aGUgaGVhZGVyIHdoZW4gaW5qZWN0aW5nCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB4bWxEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKGFyZ3NbMF1bMF0sIG1pbWVUeXBlLm1pbWUpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh4bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIikubGVuZ3RoID09PSAwKSB7IC8vIGlmIG5vIGVycm9ycyB3ZXJlIGZvdW5kIHdoaWxlIHBhcnNpbmcuLi4KICAgICAgICAgICAgeG1sRG9jLmRvY3VtZW50RWxlbWVudC5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCBpbmplY3RlZENvZGUpOwogICAgCiAgICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgICBhcmdzWzBdID0gW25ldyBYTUxTZXJpYWxpemVyKCkuc2VyaWFsaXplVG9TdHJpbmcoeG1sRG9jKV07CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgYXJnc1swXVswXSA9IHhtbERvYy5kb2N1bWVudEVsZW1lbnQub3V0ZXJIVE1MOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gaW5zdGFudGlhdGUoX0Jsb2IsIGFyZ3MpOyAvLyBhcmd1bWVudHM/CiAgICB9CgogICAgLy8gQ29weSBwcm9wcyBhbmQgbWV0aG9kcwogICAgbGV0IHByb3BOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKF9CbG9iKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcE5hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGxldCBwcm9wTmFtZSA9IHByb3BOYW1lc1tpXTsKICAgICAgaWYgKHByb3BOYW1lIGluIHNlY3VyZUJsb2IpIHsKICAgICAgICBjb250aW51ZTsgLy8gU2tpcCBhbHJlYWR5IGV4aXN0aW5nIHByb3BzCiAgICAgIH0KICAgICAgbGV0IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9CbG9iLCBwcm9wTmFtZSk7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzZWN1cmVCbG9iLCBwcm9wTmFtZSwgZGVzYyk7CiAgICB9CgogICAgc2VjdXJlQmxvYi5wcm90b3R5cGUgPSBfQmxvYi5wcm90b3R5cGU7CiAgICByZXR1cm4gc2VjdXJlQmxvYjsKICB9KEJsb2IpOwoKICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChldmVudCkgewogICAgaWYgKGV2ZW50LnNvdXJjZSAhPT0gd2luZG93KSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGNvbnN0IG1lc3NhZ2UgPSBldmVudC5kYXRhOwogICAgc3dpdGNoIChtZXNzYWdlLm1ldGhvZCkgewogICAgICBjYXNlICd1cGRhdGVMb2NhdGlvbic6CiAgICAgICAgaWYgKCh0eXBlb2YgbWVzc2FnZS5pbmZvID09PSAnb2JqZWN0JykgJiYgKHR5cGVvZiBtZXNzYWdlLmluZm8uY29vcmRzID09PSAnb2JqZWN0JykpIHsKICAgICAgICAgIGhvb2tlZE9iai5nZW5MYXQgPSBtZXNzYWdlLmluZm8uY29vcmRzLmxhdDsKICAgICAgICAgIGhvb2tlZE9iai5nZW5Mb24gPSBtZXNzYWdlLmluZm8uY29vcmRzLmxvbjsKICAgICAgICAgIGhvb2tlZE9iai5mYWtlR2VvID0gbWVzc2FnZS5pbmZvLmZha2VJdDsKICAgICAgICB9CiAgICAgICAgYnJlYWs7CiAgICAgIGRlZmF1bHQ6CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfSwgZmFsc2UpOwogIC8vXV0+fQogICAgICAgICAgKSgpOzwvc2NyaXB0PjxnIGlkPSLqt7jro7lfNDI1NyIgZGF0YS1uYW1lPSLqt7jro7kgNDI1NyI+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkwIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNDkiIGZpbGw9IiM2NjYiIGQ9Ik03IDBhNyA3IDAgMSAxLTcgNyA3IDcgMCAwIDEgNy03IiBkYXRhLW5hbWU9Iu2MqOyKpCAzMDQ5Ii8+PHBhdGggaWQ9Iu2MqOyKpF8zMDUwIiBmaWxsPSIjZmZmIiBkPSJNMTEuMjg2IDUuMTU1YS43NDUuNzQ1IDAgMCAwLTEuMDgzIDBMNi41MzIgOC45NyA1LjI1NSA3LjY0M2EuNzQ2Ljc0NiAwIDAgMC0xLjA4My4wMTIuODE3LjgxNyAwIDAgMCAwIDEuMTE0bDEuODA2IDEuODc2LjAwOC4wMTNhLjc1NC43NTQgMCAwIDAgMS4wODggMGwuMDA5LS4wMTMgNC4yLTQuMzY3YS44MTkuODE5IDAgMCAwIC4wMDMtMS4xMjNaIiBkYXRhLW5hbWU9Iu2MqOyKpCAzMDUwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtLjQyMSAtLjY4KSIvPjxwYXRoIGlkPSLsgqzqsIHtmJVfMjE5MSIgZmlsbD0ibm9uZSIgZD0iTTAgMGgxMy43MDR2MTMuNzA0SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAyMTkxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIC4yOTYpIi8+PC9nPjwvc3ZnPg==);background-position:center right 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666;height:100%}.btn[type=icon][position=right]>.icon-default.icon-disable{background-color:#e5e9ed;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLWRpc2FibGUiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGcgaWQ9Iuq3uOujuV80MjU3IiBkYXRhLW5hbWU9Iuq3uOujuSA0MjU3Ij48cGF0aCBpZD0i7IKs6rCB7ZiVXzIxOTAiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMTMuNzA0djEzLjcwNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMjE5MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAuMjk2KSIvPjxwYXRoIGlkPSLtjKjsiqRfMzA0OSIgZmlsbD0iIzkzOWJhMyIgZD0iTTcgMGE3IDcgMCAxIDEtNyA3IDcgNyAwIDAgMSA3LTciIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNDkiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNTAiIGZpbGw9IiNmZmYiIGQ9Ik0xMS4yODYgNS4xNTVhLjc0NS43NDUgMCAwIDAtMS4wODMgMEw2LjUzMiA4Ljk3IDUuMjU1IDcuNjQzYS43NDYuNzQ2IDAgMCAwLTEuMDgzLjAxMi44MTcuODE3IDAgMCAwIDAgMS4xMTRsMS44MDYgMS44NzYuMDA4LjAxM2EuNzU0Ljc1NCAwIDAgMCAxLjA4OCAwbC4wMDktLjAxMyA0LjItNC4zNjdhLjgxOS44MTkgMCAwIDAgLjAwMy0xLjEyM1oiIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0uNDIxIC0uNjgpIi8+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkxIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48L2c+PC9zdmc+);background-position:center right 8px;background-repeat:no-repeat;background-size:14px;border:0;color:#939ba3;height:100%}.btn[type=icon][position=right]>.icon-default.icon-over.icon-click{background-color:#fff;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLWRlZmF1bHQiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGcgaWQ9Iuq3uOujuV80MjU3IiBkYXRhLW5hbWU9Iuq3uOujuSA0MjU3Ij48cGF0aCBpZD0i7IKs6rCB7ZiVXzIxOTAiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMTMuNzA0djEzLjcwNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMjE5MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAuMjk2KSIvPjxwYXRoIGlkPSLtjKjsiqRfMzA0OSIgZmlsbD0iIzlkYTNhYSIgZD0iTTcgMGE3IDcgMCAxIDEtNyA3IDcgNyAwIDAgMSA3LTciIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNDkiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNTAiIGZpbGw9IiNmZmYiIGQ9Ik0xMS4yODYgNS4xNTVhLjc0NS43NDUgMCAwIDAtMS4wODMgMEw2LjUzMiA4Ljk3IDUuMjU1IDcuNjQzYS43NDYuNzQ2IDAgMCAwLTEuMDgzLjAxMi44MTcuODE3IDAgMCAwIDAgMS4xMTRsMS44MDYgMS44NzYuMDA4LjAxM2EuNzU0Ljc1NCAwIDAgMCAxLjA4OCAwbC4wMDktLjAxMyA0LjItNC4zNjdhLjgxOS44MTkgMCAwIDAgLjAwMy0xLjEyM1oiIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0uNDIxIC0uNjgpIi8+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkxIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48L2c+PC9zdmc+);background-position:center right 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666;height:100%}.btn[type=icon][position=right]>.icon-default.icon-over.icon-click:focus,.btn[type=icon][position=right]>.icon-default.icon-over.icon-click:hover{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLW92ZXIiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGcgaWQ9Iuq3uOujuV80MjU3IiBkYXRhLW5hbWU9Iuq3uOujuSA0MjU3Ij48cGF0aCBpZD0i7IKs6rCB7ZiVXzIxOTAiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMTMuNzA0djEzLjcwNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMjE5MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAuMjk2KSIvPjxwYXRoIGlkPSLtjKjsiqRfMzA0OSIgZmlsbD0iIzAwNzllOCIgZD0iTTcgMGE3IDcgMCAxIDEtNyA3IDcgNyAwIDAgMSA3LTciIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNDkiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNTAiIGZpbGw9IiNmZmYiIGQ9Ik0xMS4yODYgNS4xNTVhLjc0NS43NDUgMCAwIDAtMS4wODMgMEw2LjUzMiA4Ljk3IDUuMjU1IDcuNjQzYS43NDYuNzQ2IDAgMCAwLTEuMDgzLjAxMi44MTcuODE3IDAgMCAwIDAgMS4xMTRsMS44MDYgMS44NzYuMDA4LjAxM2EuNzU0Ljc1NCAwIDAgMCAxLjA4OCAwbC4wMDktLjAxMyA0LjItNC4zNjdhLjgxOS44MTkgMCAwIDAgLjAwMy0xLjEyM1oiIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0uNDIxIC0uNjgpIi8+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkxIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48L2c+PC9zdmc+);background-position:center right 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #0079e8;color:#0079e8;height:100%;outline:0}.btn[type=icon][position=right]>.icon-default.icon-over.icon-click:active{background-color:#f5f5f5;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLWNsaWNrIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiPjxzY3JpcHQ+KAogICAgICAgICAgICBmdW5jdGlvbiBob29rR2VvKCkgewogIC8vPCFbQ0RBVEFbCiAgY29uc3QgV0FJVF9USU1FID0gMTAwOwogIGNvbnN0IGhvb2tlZE9iaiA9IHsKICAgIGdldEN1cnJlbnRQb3NpdGlvbjogbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbi5iaW5kKG5hdmlnYXRvci5nZW9sb2NhdGlvbiksCiAgICB3YXRjaFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbi5iaW5kKG5hdmlnYXRvci5nZW9sb2NhdGlvbiksCiAgICBmYWtlR2VvOiB0cnVlLAogICAgZ2VuTGF0OiAzOC44ODMzMzMsCiAgICBnZW5Mb246IC03Ny4wMDAKICB9OwoKICBmdW5jdGlvbiB3YWl0R2V0Q3VycmVudFBvc2l0aW9uKCkgewogICAgaWYgKCh0eXBlb2YgaG9va2VkT2JqLmZha2VHZW8gIT09ICd1bmRlZmluZWQnKSkgewogICAgICBpZiAoaG9va2VkT2JqLmZha2VHZW8gPT09IHRydWUpIHsKICAgICAgICBob29rZWRPYmoudG1wX3N1Y2Nlc3NDYWxsYmFjayh7CiAgICAgICAgICBjb29yZHM6IHsKICAgICAgICAgICAgbGF0aXR1ZGU6IGhvb2tlZE9iai5nZW5MYXQsCiAgICAgICAgICAgIGxvbmdpdHVkZTogaG9va2VkT2JqLmdlbkxvbiwKICAgICAgICAgICAgYWNjdXJhY3k6IDEwLAogICAgICAgICAgICBhbHRpdHVkZTogbnVsbCwKICAgICAgICAgICAgYWx0aXR1ZGVBY2N1cmFjeTogbnVsbCwKICAgICAgICAgICAgaGVhZGluZzogbnVsbCwKICAgICAgICAgICAgc3BlZWQ6IG51bGwsCiAgICAgICAgICB9LAogICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSwKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmouZ2V0Q3VycmVudFBvc2l0aW9uKGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfb3B0aW9ucyk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHNldFRpbWVvdXQod2FpdEdldEN1cnJlbnRQb3NpdGlvbiwgV0FJVF9USU1FKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHdhaXRXYXRjaFBvc2l0aW9uKCkgewogICAgaWYgKCh0eXBlb2YgaG9va2VkT2JqLmZha2VHZW8gIT09ICd1bmRlZmluZWQnKSkgewogICAgICBpZiAoaG9va2VkT2JqLmZha2VHZW8gPT09IHRydWUpIHsKICAgICAgICBuYXZpZ2F0b3IuZ2V0Q3VycmVudFBvc2l0aW9uKGhvb2tlZE9iai50bXAyX3N1Y2Nlc3NDYWxsYmFjaywgaG9va2VkT2JqLnRtcDJfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcDJfb3B0aW9ucyk7CiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKTsgLy8gcmFuZG9tIGlkCiAgICAgIH0gZWxzZSB7CiAgICAgICAgaG9va2VkT2JqLndhdGNoUG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0V2F0Y2hQb3NpdGlvbiwgV0FJVF9USU1FKTsKICAgIH0KICB9CgogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLmdldEN1cnJlbnRQb3NpdGlvbiA9IGZ1bmN0aW9uIChzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2ssIG9wdGlvbnMpIHsKICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrID0gc3VjY2Vzc0NhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXBfb3B0aW9ucyA9IG9wdGlvbnM7CiAgICB3YWl0R2V0Q3VycmVudFBvc2l0aW9uKCk7CiAgfTsKICBPYmplY3QuZ2V0UHJvdG90eXBlT2YobmF2aWdhdG9yLmdlb2xvY2F0aW9uKS53YXRjaFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrID0gc3VjY2Vzc0NhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcDJfZXJyb3JDYWxsYmFjayA9IGVycm9yQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRXYXRjaFBvc2l0aW9uKCk7CiAgfTsKCiAgY29uc3QgaW5zdGFudGlhdGUgPSAoY29uc3RydWN0b3IsIGFyZ3MpID0+IHsKICAgIGNvbnN0IGJpbmQgPSBGdW5jdGlvbi5iaW5kOwogICAgY29uc3QgdW5iaW5kID0gYmluZC5iaW5kKGJpbmQpOwogICAgcmV0dXJuIG5ldyAodW5iaW5kKGNvbnN0cnVjdG9yLCBudWxsKS5hcHBseShudWxsLCBhcmdzKSk7CiAgfQoKICBCbG9iID0gZnVuY3Rpb24gKF9CbG9iKSB7CiAgICBmdW5jdGlvbiBzZWN1cmVCbG9iKC4uLmFyZ3MpIHsKICAgICAgY29uc3QgaW5qZWN0YWJsZU1pbWVUeXBlcyA9IFsKICAgICAgICB7IG1pbWU6ICd0ZXh0L2h0bWwnLCB1c2VYTUxwYXJzZXI6IGZhbHNlIH0sCiAgICAgICAgeyBtaW1lOiAnYXBwbGljYXRpb24veGh0bWwreG1sJywgdXNlWE1McGFyc2VyOiB0cnVlIH0sCiAgICAgICAgeyBtaW1lOiAndGV4dC94bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICdpbWFnZS9zdmcreG1sJywgdXNlWE1McGFyc2VyOiB0cnVlIH0sCiAgICAgIF07CiAgICAgIGxldCB0eXBlRWwgPSBhcmdzLmZpbmQoYXJnID0+ICh0eXBlb2YgYXJnID09PSAnb2JqZWN0JykgJiYgKHR5cGVvZiBhcmcudHlwZSA9PT0gJ3N0cmluZycpICYmIChhcmcudHlwZSkpOwoKICAgICAgaWYgKHR5cGVvZiB0eXBlRWwgIT09ICd1bmRlZmluZWQnICYmICh0eXBlb2YgYXJnc1swXVswXSA9PT0gJ3N0cmluZycpKSB7CiAgICAgICAgY29uc3QgbWltZVR5cGVJbmRleCA9IGluamVjdGFibGVNaW1lVHlwZXMuZmluZEluZGV4KG1pbWVUeXBlID0+IG1pbWVUeXBlLm1pbWUudG9Mb3dlckNhc2UoKSA9PT0gdHlwZUVsLnR5cGUudG9Mb3dlckNhc2UoKSk7CiAgICAgICAgaWYgKG1pbWVUeXBlSW5kZXggPj0gMCkgewogICAgICAgICAgbGV0IG1pbWVUeXBlID0gaW5qZWN0YWJsZU1pbWVUeXBlc1ttaW1lVHlwZUluZGV4XTsKICAgICAgICAgIGxldCBpbmplY3RlZENvZGUgPSBgPHNjcmlwdD4oCiAgICAgICAgICAgICR7aG9va0dlb30KICAgICAgICAgICkoKTs8XC9zY3JpcHQ+YDsKICAgIAogICAgICAgICAgbGV0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgICAgICAgIGxldCB4bWxEb2M7CiAgICAgICAgICBpZiAobWltZVR5cGUudXNlWE1McGFyc2VyID09PSB0cnVlKSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXS5qb2luKCcnKSwgbWltZVR5cGUubWltZSk7IC8vIEZvciBYTUwgZG9jdW1lbnRzIHdlIG5lZWQgdG8gbWVyZ2UgYWxsIGl0ZW1zIGluIG9yZGVyIHRvIG5vdCBicmVhayB0aGUgaGVhZGVyIHdoZW4gaW5qZWN0aW5nCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB4bWxEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKGFyZ3NbMF1bMF0sIG1pbWVUeXBlLm1pbWUpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh4bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIikubGVuZ3RoID09PSAwKSB7IC8vIGlmIG5vIGVycm9ycyB3ZXJlIGZvdW5kIHdoaWxlIHBhcnNpbmcuLi4KICAgICAgICAgICAgeG1sRG9jLmRvY3VtZW50RWxlbWVudC5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCBpbmplY3RlZENvZGUpOwogICAgCiAgICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgICBhcmdzWzBdID0gW25ldyBYTUxTZXJpYWxpemVyKCkuc2VyaWFsaXplVG9TdHJpbmcoeG1sRG9jKV07CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgYXJnc1swXVswXSA9IHhtbERvYy5kb2N1bWVudEVsZW1lbnQub3V0ZXJIVE1MOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gaW5zdGFudGlhdGUoX0Jsb2IsIGFyZ3MpOyAvLyBhcmd1bWVudHM/CiAgICB9CgogICAgLy8gQ29weSBwcm9wcyBhbmQgbWV0aG9kcwogICAgbGV0IHByb3BOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKF9CbG9iKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcE5hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGxldCBwcm9wTmFtZSA9IHByb3BOYW1lc1tpXTsKICAgICAgaWYgKHByb3BOYW1lIGluIHNlY3VyZUJsb2IpIHsKICAgICAgICBjb250aW51ZTsgLy8gU2tpcCBhbHJlYWR5IGV4aXN0aW5nIHByb3BzCiAgICAgIH0KICAgICAgbGV0IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9CbG9iLCBwcm9wTmFtZSk7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzZWN1cmVCbG9iLCBwcm9wTmFtZSwgZGVzYyk7CiAgICB9CgogICAgc2VjdXJlQmxvYi5wcm90b3R5cGUgPSBfQmxvYi5wcm90b3R5cGU7CiAgICByZXR1cm4gc2VjdXJlQmxvYjsKICB9KEJsb2IpOwoKICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChldmVudCkgewogICAgaWYgKGV2ZW50LnNvdXJjZSAhPT0gd2luZG93KSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGNvbnN0IG1lc3NhZ2UgPSBldmVudC5kYXRhOwogICAgc3dpdGNoIChtZXNzYWdlLm1ldGhvZCkgewogICAgICBjYXNlICd1cGRhdGVMb2NhdGlvbic6CiAgICAgICAgaWYgKCh0eXBlb2YgbWVzc2FnZS5pbmZvID09PSAnb2JqZWN0JykgJiYgKHR5cGVvZiBtZXNzYWdlLmluZm8uY29vcmRzID09PSAnb2JqZWN0JykpIHsKICAgICAgICAgIGhvb2tlZE9iai5nZW5MYXQgPSBtZXNzYWdlLmluZm8uY29vcmRzLmxhdDsKICAgICAgICAgIGhvb2tlZE9iai5nZW5Mb24gPSBtZXNzYWdlLmluZm8uY29vcmRzLmxvbjsKICAgICAgICAgIGhvb2tlZE9iai5mYWtlR2VvID0gbWVzc2FnZS5pbmZvLmZha2VJdDsKICAgICAgICB9CiAgICAgICAgYnJlYWs7CiAgICAgIGRlZmF1bHQ6CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfSwgZmFsc2UpOwogIC8vXV0+fQogICAgICAgICAgKSgpOzwvc2NyaXB0PjxnIGlkPSLqt7jro7lfNDI1NyIgZGF0YS1uYW1lPSLqt7jro7kgNDI1NyI+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkwIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNDkiIGZpbGw9IiM2NjYiIGQ9Ik03IDBhNyA3IDAgMSAxLTcgNyA3IDcgMCAwIDEgNy03IiBkYXRhLW5hbWU9Iu2MqOyKpCAzMDQ5Ii8+PHBhdGggaWQ9Iu2MqOyKpF8zMDUwIiBmaWxsPSIjZmZmIiBkPSJNMTEuMjg2IDUuMTU1YS43NDUuNzQ1IDAgMCAwLTEuMDgzIDBMNi41MzIgOC45NyA1LjI1NSA3LjY0M2EuNzQ2Ljc0NiAwIDAgMC0xLjA4My4wMTIuODE3LjgxNyAwIDAgMCAwIDEuMTE0bDEuODA2IDEuODc2LjAwOC4wMTNhLjc1NC43NTQgMCAwIDAgMS4wODggMGwuMDA5LS4wMTMgNC4yLTQuMzY3YS44MTkuODE5IDAgMCAwIC4wMDMtMS4xMjNaIiBkYXRhLW5hbWU9Iu2MqOyKpCAzMDUwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtLjQyMSAtLjY4KSIvPjxwYXRoIGlkPSLsgqzqsIHtmJVfMjE5MSIgZmlsbD0ibm9uZSIgZD0iTTAgMGgxMy43MDR2MTMuNzA0SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAyMTkxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIC4yOTYpIi8+PC9nPjwvc3ZnPg==);background-position:center right 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666;height:100%}.btn[type=icon][position=right]:disabled{background-color:#e5e9ed;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLWRpc2FibGUiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGcgaWQ9Iuq3uOujuV80MjU3IiBkYXRhLW5hbWU9Iuq3uOujuSA0MjU3Ij48cGF0aCBpZD0i7IKs6rCB7ZiVXzIxOTAiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMTMuNzA0djEzLjcwNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMjE5MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAuMjk2KSIvPjxwYXRoIGlkPSLtjKjsiqRfMzA0OSIgZmlsbD0iIzkzOWJhMyIgZD0iTTcgMGE3IDcgMCAxIDEtNyA3IDcgNyAwIDAgMSA3LTciIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNDkiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNTAiIGZpbGw9IiNmZmYiIGQ9Ik0xMS4yODYgNS4xNTVhLjc0NS43NDUgMCAwIDAtMS4wODMgMEw2LjUzMiA4Ljk3IDUuMjU1IDcuNjQzYS43NDYuNzQ2IDAgMCAwLTEuMDgzLjAxMi44MTcuODE3IDAgMCAwIDAgMS4xMTRsMS44MDYgMS44NzYuMDA4LjAxM2EuNzU0Ljc1NCAwIDAgMCAxLjA4OCAwbC4wMDktLjAxMyA0LjItNC4zNjdhLjgxOS44MTkgMCAwIDAgLjAwMy0xLjEyM1oiIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0uNDIxIC0uNjgpIi8+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkxIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48L2c+PC9zdmc+);background-position:center right 8px;background-repeat:no-repeat;background-size:14px;border:0;color:#939ba3;height:100%}.btn[type=icon][position=right].arrowup_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1NCIgZmlsbD0ibm9uZSIgZD0iTTAgMGg2djEySDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzU0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgaWQ9Ikljb25fYXJyb3d1cF8xOCIgZGF0YS1uYW1lPSJJY29uL2Fycm93dXBfMTgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01OTE5IC01Nzc5KSI+PHBhdGggaWQ9Iu2MqOyKpF8zNTg5IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDApIiBkPSJNMCAwaDE4djE4SDBaIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTg5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1OTE5IDU3NzkpIi8+PGcgaWQ9Iuq3uOujuV84NTg3IiBkYXRhLW5hbWU9Iuq3uOujuSA4NTg3IiB0cmFuc2Zvcm09InJvdGF0ZSg5MCA3NSA1ODU5KSI+PGcgaWQ9Iuq3uOujuV84NTgzIiBjbGlwLXBhdGg9InVybCgjY2xpcC1wYXRoKSIgZGF0YS1uYW1lPSLqt7jro7kgODU4MyI+PHBhdGggaWQ9Iu2MqOyKpF8zNTkwIiBmaWxsPSIjN2I3YjdiIiBkPSJNNS41IDEyYS41LjUgMCAwIDEtLjM3LS4xNjRsLTUtNS41YS41LjUgMCAwIDEgMC0uNjczbDUtNS41YS41LjUgMCAxIDEgLjc0LjY3M0wxLjE3NiA2bDQuNjk0IDUuMTY0QS41LjUgMCAwIDEgNS41IDEyIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTkwIi8+PC9nPjwvZz48L2c+PC9zdmc+)}.btn[type=icon][position=right].arrowdown_18,.btn[type=icon][position=right].arrowup_18{background-position:center right 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=right].arrowdown_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1NCIgZmlsbD0ibm9uZSIgZD0iTTAgMGg2djEySDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzU0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgaWQ9Ikljb25fYXJyb3dkb3duXzE4IiBkYXRhLW5hbWU9Ikljb24vYXJyb3dkb3duXzE4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTk3NiAtNTc3OSkiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzMzMyIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzMzMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTk3NiA1Nzc5KSIvPjxnIGlkPSLqt7jro7lfODU4NiIgZGF0YS1uYW1lPSLqt7jro7kgODU4NiIgdHJhbnNmb3JtPSJyb3RhdGUoLTkwIDU4ODUuNSAtOTMuNSkiPjxnIGlkPSLqt7jro7lfODU4MyIgY2xpcC1wYXRoPSJ1cmwoI2NsaXAtcGF0aCkiIGRhdGEtbmFtZT0i6re466O5IDg1ODMiPjxwYXRoIGlkPSLtjKjsiqRfMzU5MCIgZmlsbD0iIzdiN2I3YiIgZD0iTTUuNSAxMmEuNS41IDAgMCAxLS4zNy0uMTY0bC01LTUuNWEuNS41IDAgMCAxIDAtLjY3M2w1LTUuNWEuNS41IDAgMSAxIC43NC42NzNMMS4xNzYgNmw0LjY5NCA1LjE2NEEuNS41IDAgMCAxIDUuNSAxMiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU5MCIvPjwvZz48L2c+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=right].arrowleft_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1NCIgZmlsbD0ibm9uZSIgZD0iTTAgMGg2djEySDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzU0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgaWQ9Ikljb25fYXJyb3dsZWZ0XzE4IiBkYXRhLW5hbWU9Ikljb24vYXJyb3dsZWZ0XzE4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNjA1NCAtNTc3NikiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzMzNCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzMzNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjA1NCA1Nzc2KSIvPjxnIGlkPSLqt7jro7lfODU0MiIgZGF0YS1uYW1lPSLqt7jro7kgODU0MiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjA1NyA1Nzc5KSI+PGcgaWQ9Iuq3uOujuV84NTg1IiBkYXRhLW5hbWU9Iuq3uOujuSA4NTg1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyKSI+PGcgaWQ9Iuq3uOujuV84NTgzIiBjbGlwLXBhdGg9InVybCgjY2xpcC1wYXRoKSIgZGF0YS1uYW1lPSLqt7jro7kgODU4MyI+PHBhdGggaWQ9Iu2MqOyKpF8zNTkwIiBmaWxsPSIjN2I3YjdiIiBkPSJNNS41IDEyYS41LjUgMCAwIDEtLjM3LS4xNjRsLTUtNS41YS41LjUgMCAwIDEgMC0uNjczbDUtNS41YS41LjUgMCAxIDEgLjc0LjY3M0wxLjE3NiA2bDQuNjk0IDUuMTY0QS41LjUgMCAwIDEgNS41IDEyIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTkwIi8+PC9nPjwvZz48L2c+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=right].arrowleft_18,.btn[type=icon][position=right].arrowright_18{background-position:center right 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=right].arrowright_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1NCIgZmlsbD0ibm9uZSIgZD0iTTAgMGg2djEySDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzU0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgaWQ9Ikljb25fYXJyb3dyaWdodF8xOCIgZGF0YS1uYW1lPSJJY29uL2Fycm93cmlnaHRfMTgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02MDE4IC01Nzc2KSI+PHBhdGggaWQ9IuyCrOqwge2YlV8zMzM2IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDApIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzM2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2MDE4IDU3NzYpIi8+PGcgaWQ9Iuq3uOujuV84NTg0IiBkYXRhLW5hbWU9Iuq3uOujuSA4NTg0IiB0cmFuc2Zvcm09InJvdGF0ZSgxODAgMzAxNS41IDI4OTUuNSkiPjxnIGlkPSLqt7jro7lfODU4MyIgY2xpcC1wYXRoPSJ1cmwoI2NsaXAtcGF0aCkiIGRhdGEtbmFtZT0i6re466O5IDg1ODMiPjxwYXRoIGlkPSLtjKjsiqRfMzU5MCIgZmlsbD0iIzdiN2I3YiIgZD0iTTUuNSAxMmEuNS41IDAgMCAxLS4zNy0uMTY0bC01LTUuNWEuNS41IDAgMCAxIDAtLjY3M2w1LTUuNWEuNS41IDAgMSAxIC43NC42NzNMMS4xNzYgNmw0LjY5NCA1LjE2NEEuNS41IDAgMCAxIDUuNSAxMiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU5MCIvPjwvZz48L2c+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=right].search_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzMyNiIgZmlsbD0ibm9uZSIgZD0iTTAgMGgxNHYxNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzMyNiIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGlkPSJJY29uX3NlYXJjaF8xOCIgZGF0YS1uYW1lPSJJY29uL3NlYXJjaF8xOCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU5NTUgLTU4NjgpIj48cGF0aCBpZD0i7IKs6rCB7ZiVXzMzMzciIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMCkiIGQ9Ik0wIDBoMTh2MThIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDMzMzciIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU5NTUgNTg2OCkiLz48ZyBpZD0i6re466O5Xzg1NDAiIGRhdGEtbmFtZT0i6re466O5IDg1NDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU5NTcgNTg3MCkiPjxnIGlkPSLrp4jsiqTtgaxf6re466O5Xzg1MzkiIGNsaXAtcGF0aD0idXJsKCNjbGlwLXBhdGgpIiBkYXRhLW5hbWU9IuuniOyKpO2BrCDqt7jro7kgODUzOSI+PHBhdGggaWQ9Iu2MqOyKpF8zNTY1IiBmaWxsPSIjN2I3YjdiIiBkPSJtMTMuODU0IDEzLjE0Ni0zLjI3NS0zLjI3NGE2LjAwOCA2LjAwOCAwIDEgMC0uNzA3LjcwN2wzLjI3NCAzLjI3NWEuNS41IDAgMCAwIC43MDgtLjcwOE02IDExYTUgNSAwIDEgMSA1LTUgNS4wMDYgNS4wMDYgMCAwIDEtNSA1IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTY1Ii8+PC9nPjwvZz48L2c+PC9zdmc+)}.btn[type=icon][position=right].search_18,.btn[type=icon][position=right].trashcan_18{background-position:center right 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=right].trashcan_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1MyIgZmlsbD0ibm9uZSIgZD0iTTAgMGgxNnYxNkgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzM1MyIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGlkPSJJY29uX3RyYXNoY2FuXzE4IiBkYXRhLW5hbWU9Ikljb24vdHJhc2hjYW5fMTgiIHN0eWxlPSJtaXgtYmxlbmQtbW9kZTpub3JtYWw7aXNvbGF0aW9uOmlzb2xhdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01OTgzIC01ODcxKSI+PGcgaWQ9Iuq3uOujuV84NTc3IiBkYXRhLW5hbWU9Iuq3uOujuSA4NTc3IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzMgMjApIj48ZyBpZD0i6re466O5Xzg1NTkiIGRhdGEtbmFtZT0i6re466O5IDg1NTkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0IC0xNikiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzMzNSIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzMzNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTk5MiA1ODY3KSIvPjwvZz48L2c+PGcgaWQ9Iuq3uOujuV84NTgwIiBkYXRhLW5hbWU9Iuq3uOujuSA4NTgwIiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6bm9ybWFsO2lzb2xhdGlvbjppc29sYXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1OTg0IDU4NzIpIj48ZyBpZD0i6re466O5Xzg1NzkiIGZpbGw9IiM3YjdiN2IiIGNsaXAtcGF0aD0idXJsKCNjbGlwLXBhdGgpIiBkYXRhLW5hbWU9Iuq3uOujuSA4NTc5Ij48cGF0aCBpZD0i7Yyo7IqkXzM1ODUiIGQ9Ik0xNS41IDJIMTFWLjVhLjUuNSAwIDAgMC0uNS0uNWgtNWEuNS41IDAgMCAwLS41LjVWMkguNWEuNS41IDAgMCAwIDAgMUgydjEyYTEgMSAwIDAgMCAxIDFoMTBhMSAxIDAgMCAwIDEtMVYzaDEuNWEuNS41IDAgMCAwIDAtMU02IDFoNHYxSDZabTcgMTRIM1YzaDEwWiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU4NSIvPjxwYXRoIGlkPSLtjKjsiqRfMzU4NiIgZD0iTTUuNSAxMmEuNS41IDAgMCAwIC41LS41di01YS41LjUgMCAwIDAtMSAwdjVhLjUuNSAwIDAgMCAuNS41IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTg2Ii8+PHBhdGggaWQ9Iu2MqOyKpF8zNTg3IiBkPSJNMTAuNSAxMmEuNS41IDAgMCAwIC41LS41di01YS41LjUgMCAwIDAtMSAwdjVhLjUuNSAwIDAgMCAuNS41IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTg3Ii8+PHBhdGggaWQ9Iu2MqOyKpF8zNTg4IiBkPSJNOCAxMmEuNS41IDAgMCAwIC41LS41di01YS41LjUgMCAwIDAtMSAwdjVhLjUuNSAwIDAgMCAuNS41IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTg4Ii8+PC9nPjwvZz48L2c+PC9zdmc+)}.btn[type=icon][position=right].setting_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM0NiIgZmlsbD0ibm9uZSIgZD0iTTAgMGgxNnYxNkgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzM0NiIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGlkPSJJY29uX3NldHRpbmVfMTgiIGRhdGEtbmFtZT0iSWNvbi9zZXR0aW5lXzE4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNjAyNSAtNTg2NykiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM0NyIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzM0NyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjAyNSA1ODY3KSIvPjxnIGlkPSLqt7jro7lfODU1NiIgZGF0YS1uYW1lPSLqt7jro7kgODU1NiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjAyNiA1ODY4KSI+PGcgaWQ9Iuq3uOujuV84NTU1IiBmaWxsPSIjN2I3YjdiIiBjbGlwLXBhdGg9InVybCgjY2xpcC1wYXRoKSIgZGF0YS1uYW1lPSLqt7jro7kgODU1NSI+PHBhdGggaWQ9Iu2MqOyKpF8zNTcwIiBkPSJNMTQuMjkyIDguNDM5Yy4wMTEtLjE0Ny4wMjItLjI5Mi4wMTktLjQ0M3MtLjAwOC0uMy0uMDE5LS40NDVsMS4zMzUtMS4wMmEuOTkzLjk5MyAwIDAgMCAuMjQ0LTEuMjY3TDE0LjM0NiAyLjdhMS4wMDggMS4wMDggMCAwIDAtMS4yMTUtLjQwOWwtMS41NzYuNjE2YTYuMTMxIDYuMTMxIDAgMCAwLS44MDctLjQ2MUwxMC41Ljc4OEExLjAxIDEuMDEgMCAwIDAgOS41MTkgMEg2LjQ3NmExLjAyMyAxLjAyMyAwIDAgMC0uOTg2Ljg0NWwtLjIzMyAxLjYxN2E2LjM2MiA2LjM2MiAwIDAgMC0uOC40NTFMMi44NjcgMi4zYTEgMSAwIDAgMC0xLjIxLjQyTC4xMzIgNS4yNzNhLjk5My45OTMgMCAwIDAgLjI0NiAxLjI3NWwxLjMyOCAxLjAxNWEzLjE1MiAzLjE1MiAwIDAgMC0uMDIxLjQ0NmMwIC4xNS4wMDkuMy4wMjEuNDQ1TC4zNzIgOS40NzdhLjk4NC45ODQgMCAwIDAtLjIzNSAxLjI2M2wxLjUxOSAyLjU2YTEuMDA5IDEuMDA5IDAgMCAwIDEuMjEzLjRsMS41NzctLjYxNWE2LjY4MiA2LjY4MiAwIDAgMCAuOC40NmwuMjQ2IDEuNjZhMS4wMTIgMS4wMTIgMCAwIDAgLjk5Ljc5NWgzLjA0YTEuMDI3IDEuMDI3IDAgMCAwIC45ODUtLjg0NGwuMjMzLTEuNjE4YTYuMyA2LjMgMCAwIDAgLjgtLjQ1bDEuNTg2LjYxNWEuOTk0Ljk5NCAwIDAgMCAuMzQ5LjA2MyAxLjAxNiAxLjAxNiAwIDAgMCAuODY0LS40ODJsMS41MjItMi41NTdhMSAxIDAgMCAwLS4yNDYtMS4yNzZabS0uOCA0LjMzMi0xLjU5Mi0uNjE1LS40ODItLjE4Ny0uNDMyLjI4NWE1LjIgNS4yIDAgMCAxLS42NzYuMzc5bC0uNDg3LjIyOS0uMDc3LjUzNEw5LjUyMSAxNWwtMy4wNDYtLjAwOUw2LjI0IDEzLjRsLS4wNzctLjUyNC0uNDc4LS4yM0E1LjYwOCA1LjYwOCAwIDAgMSA1IDEyLjI2MWwtLjQzNC0uMjkxLS40ODYuMTktMS41NjcuNjMyLTEuNTM0LTIuNTIxIDEuMzM0LTEuMDIzLjQzMS0uMzI5LS4wNDQtLjU0YTQuOTg2IDQuOTg2IDAgMCAxLS4wMTctLjM3IDIuMjA2IDIuMjA2IDAgMCAxIC4wMS0uM2wuMDg0LS41NzktLjQ2Ni0uMzU2LTEuMzItLjk4OEwyLjUwNiAzLjIzbDEuNTg2LjYxNi40ODIuMTg3LjQzMy0uMjg2YTUuMzIyIDUuMzIyIDAgMCAxIC42NzYtLjM4bC40ODgtLjIzLjA3Ni0uNTM3LjIyOS0xLjZoMy4wNDNsLjI0MSAxLjYuMDc3LjUyNy40ODIuMjI5YTUuMzI4IDUuMzI4IDAgMCAxIC42ODEuMzgybC40MzQuMjkzLjQ4OC0uMTkxIDEuNTY4LS42MjcgMS41MzMgMi41MjMtMS4zMzQgMS4wMi0uNDMuMzI5LjA0LjUzOWMuMDA5LjEzLjAxNS4yNTguMDE4LjM4OXMtLjAwOS4yMjgtLjAxOC4zNTJsLS4wNDEuNTQxLjQzMS4zMjggMS4zMTEuOTgxWiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU3MCIvPjxwYXRoIGlkPSLtjKjsiqRfMzU3MSIgZD0iTTggNWEzIDMgMCAxIDAgMyAzIDMgMyAwIDAgMC0zLTNtMCA1YTIgMiAwIDEgMSAyLTIgMiAyIDAgMCAxLTIgMiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU3MSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLS4wMDIpIi8+PC9nPjwvZz48L2c+PC9zdmc+)}.btn[type=icon][position=right].attach,.btn[type=icon][position=right].setting_18{background-position:center right 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=right].attach{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY3OCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTY3Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3Njc3Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMTAuNSAxLjVBMy41IDMuNSAwIDAgMCA3IDV2Ni41YTIgMiAwIDAgMCA0IDB2LTZoLTF2NmExIDEgMCAwIDEtMiAwVjVhMi41IDIuNSAwIDAgMSA1IDB2Ni41YTQgNCAwIDAgMS04IDB2LThINHY4YTUgNSAwIDAgMCAxMCAwVjVhMy41IDMuNSAwIDAgMC0zLjUtMy41IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTE5Ii8+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=right].search-document{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY3MCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTYzIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzY2NyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NjY2Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMTMuMzc0IDE3SDMuNjI2QTEuNjE1IDEuNjE1IDAgMCAxIDIgMTUuNFYyLjZBMS42MTUgMS42MTUgMCAwIDEgMy42MjYgMWg3LjkyYzEuMDc1IDEuMDU5IDEuMyAxLjI3MSAxLjU0MSAxLjUuMjYzLjI0OC41MzYuNSAxLjkxNCAxLjg2MVY2LjVIMTRWNC43NzdjLTEuMDctMS4wNTUtMS4zMzUtMS4zLTEuNTY5LTEuNTI1bC0uMDMtLjAyOVExMS43NiAyLjYyIDExLjEzNSAySDMuNjI2QS42MTMuNjEzIDAgMCAwIDMgMi42djEyLjhhLjYxNC42MTQgMCAwIDAgLjYyNS42aDkuNzQ5YS42MTQuNjE0IDAgMCAwIC42MjYtLjZ2LS45aDF2LjlhMS42MTUgMS42MTUgMCAwIDEtMS42MjYgMS42IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTA4Ii8+PHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjN2I3YjdiIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE0IDVoLTIuMzA5QS42MzQuNjM0IDAgMCAxIDExIDQuNDI4YS41NzIuNTcyIDAgMCAxIDAtLjExN1YyIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTA5Ii8+PHBhdGggZmlsbD0iIzdiN2I3YiIgZD0iTTUuNSA3aDRhLjUuNSAwIDAgMSAwIDFoLTRhLjUuNSAwIDAgMSAwLTEiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MTAiLz48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNNS41IDloM2EuNS41IDAgMCAxIDAgMWgtM2EuNS41IDAgMCAxIDAtMSIgZGF0YS1uYW1lPSLtjKjsiqQgMzUxMSIvPjxwYXRoIGZpbGw9IiM3YjdiN2IiIGQ9Ik01LjUgMTFoM2EuNS41IDAgMCAxIDAgMWgtM2EuNS41IDAgMCAxIDAtMSIgZGF0YS1uYW1lPSLtjKjsiqQgMzUxMiIvPjwvZz48L2c+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzY2OSI+PGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjN2I3YjdiIiBjbGlwLXBhdGg9InVybCgjYSkiIGRhdGEtbmFtZT0i6re466O5IDc2NjgiPjxwYXRoIGQ9Ik0xMS4zMjggOC40MTRhMyAzIDAgMSAxIDAgNC4yNDMgMyAzIDAgMCAxIDAtNC4yNDNaIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTEzIi8+PHBhdGggc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJtMTUuNDUgMTIuOTQ5IDEuNzY4IDEuNzY4IiBkYXRhLW5hbWU9IuyEoCA0NzEiLz48L2c+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=right].calendar,.btn[type=icon][position=right].search-document{background-position:center right 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=right].calendar{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTc0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgZmlsbD0iIzdiN2I3YiIgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NjgyIj48cGF0aCBkPSJNMTUgM2gtMVYyaC0ydjFINlYySDR2MUgzYTEgMSAwIDAgMC0xIDF2MTFhMSAxIDAgMCAwIDEgMWgxMmExIDEgMCAwIDAgMS0xVjRhMSAxIDAgMCAwLTEtMW0wIDEySDNWNmgxMloiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MjAiLz48cGF0aCBkPSJNNSA4aDJ2Mkg1eiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzE2OCIvPjxwYXRoIGQ9Ik04IDhoMnYySDh6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTY5Ii8+PHBhdGggZD0iTTExIDhoMnYyaC0yeiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzE3MCIvPjxwYXRoIGQ9Ik01IDExaDJ2Mkg1eiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzE3MSIvPjxwYXRoIGQ9Ik04IDExaDJ2Mkg4eiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzE3MiIvPjxwYXRoIGQ9Ik0xMSAxMWgydjJoLTJ6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTczIi8+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=right].document{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY4NiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTc4Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3Njg1Ij48cGF0aCBmaWxsPSIjNzc3IiBkPSJNNC41IDNhLjQ2NS40NjUgMCAwIDAtLjUuNHYxMS4yYS40NjUuNDY1IDAgMCAwIC41LjRoOWEuNDY1LjQ2NSAwIDAgMCAuNS0uNFY1LjM3MnEtLjcwOC0uNjY4LTEuNDMzLTEuMzE3LS41ODItLjUyLTEuMTUtMS4wNTVabTAtMWg3LjMxYzIuMDUxIDEuOTE0Ljc1OC42NjggMy4xOSAyLjkzOFYxNC42YTEuNDUzIDEuNDUzIDAgMCAxLTEuNSAxLjRoLTlBMS40NTMgMS40NTMgMCAwIDEgMyAxNC42VjMuNEExLjQ1MyAxLjQ1MyAwIDAgMSA0LjUgMiIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyMSIvPjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzc3NyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xNCA1LjVoLTEuOTI0YS41MjkuNTI5IDAgMCAxLS41NzYtLjQ3OC41MTMuNTEzIDAgMCAxIDAtLjFWMyIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyMiIvPjxwYXRoIGZpbGw9IiNhNmE2YTYiIGQ9Ik02IDhoNnYxSDZ6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTc1Ii8+PHBhdGggZmlsbD0iI2E2YTZhNiIgZD0iTTYgMTBoNnYxSDZ6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTc2Ii8+PHBhdGggZmlsbD0iI2E2YTZhNiIgZD0iTTYgMTJoNnYxSDZ6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTc3Ii8+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=right].document,.btn[type=icon][position=right].note{background-position:center right 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=right].note{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzY4OSI+PHBhdGggZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzE3OSIvPjxwYXRoIGZpbGw9IiM3YjdiN2IiIGQ9Ik0xNSAxNkgzYTEgMSAwIDAgMS0xLTFWM2ExIDEgMCAwIDEgMS0xaDEyYTEgMSAwIDAgMSAxIDF2MTJhMSAxIDAgMCAxLTEgMU0zIDE1aDEyVjVIM1oiIGRhdGEtbmFtZT0i7Yyo7IqkIDM0OTkiLz48L2c+PC9zdmc+)}.btn[type=icon][position=right].reset{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY5MiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTgwIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NjkxIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMTYuMzU0IDlhNy41IDcuNSAwIDAgMS0xMy4xIDQuOTg4LjUuNSAwIDEgMSAuNzQ2LS42NjJBNi40ODcgNi40ODcgMCAxIDAgMy41NjUgNS4yaDEuNTgxYS41LjUgMCAwIDEgMCAxaC0zYS41LjUgMCAwIDEtLjUtLjV2LTNhLjUuNSAwIDEgMSAxIDB2Mi4xMzJBNy40ODIgNy40ODIgMCAwIDEgMTYuMzU0IDkiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MjMiLz48L2c+PC9zdmc+)}.btn[type=icon][position=right].refresh,.btn[type=icon][position=right].reset{background-position:center right 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=right].refresh{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY5MiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTgwIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NjkxIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMS42NDYgOWE3LjUgNy41IDAgMCAwIDEzLjEgNC45ODguNS41IDAgMSAwLS43NDYtLjY2MiA2LjQ4NyA2LjQ4NyAwIDEgMSAuNDM1LTguMTI2aC0xLjU4MWEuNS41IDAgMCAwIDAgMWgzYS41LjUgMCAwIDAgLjUtLjV2LTNhLjUuNSAwIDAgMC0xIDB2Mi4xMzJBNy40ODIgNy40ODIgMCAwIDAgMS42NDYgOSIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyMyIvPjwvZz48L3N2Zz4=)}.btn[type=icon][position=right].download{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcwNSI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzA0Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMi41MzggMTZBLjUzOS41MzkgMCAwIDEgMiAxNS40NjJ2LTMuMjMxYS41MzguNTM4IDAgMSAxIDEuMDc3IDB2Mi42OTJoMTEuODQ2di0yLjY5MmEuNTM4LjUzOCAwIDEgMSAxLjA3NyAwdjMuMjMxYS41MzkuNTM5IDAgMCAxLS41MzguNTM4Wm02LjEyMi00Ljk2N0w0Ljg1MiA3LjIyN2EuNTM4LjUzOCAwIDAgMSAuNzU5LS43NjRMOC40NiA5LjMxMlYyLjUzOGEuNTM4LjUzOCAwIDEgMSAxLjA3NyAwdjYuODUzbDIuOTI4LTIuOTI2YS41NC41NCAwIDEgMSAuNzYyLjc2NEw5LjQyIDExLjAzNGEuNTM0LjUzNCAwIDAgMS0uNzYgMCIgZGF0YS1uYW1lPSLtjKjsiqQgMzUzNCIvPjwvZz48L3N2Zz4=)}.btn[type=icon][position=right].download,.btn[type=icon][position=right].excel-save{background-position:center right 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=right].excel-save{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY5OSI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTgyIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3Njk4Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMyAxOGExIDEgMCAwIDEtMS0xdi0xLjg1OEwxIDE1YTEgMSAwIDAgMS0xLTFWNWExIDEgMCAwIDEgMS0xbDEtLjE0MlYyYTEgMSAwIDAgMSAxLTFoOXYxaDF2MWgxdjFoMXYxaC0xVjRoLTFWM2gtMVYySDN2MS43MTRMOCAzYTEgMSAwIDAgMSAxIDF2MTFhMSAxIDAgMCAxLTEgMWwtNS0uNzE2VjE3aDEyYTEgMSAwIDAgMS0xIDFabTEuNS02LjkwNy43NjMgMS4yMDdINy4zTDUuNDg2IDkuNTM4IDcuMyA2LjY5NEg1LjM3N0w0LjUgOC4wMzZsLS44OC0xLjM0MkgxLjdsMS44MSAyLjg0Ny0xLjgxIDIuNzY0IDIuMDMxLS4wMDUuNzY5LTEuMjA2Wm0xMC4wMDYgMy45MjdoLS4wMjVhLjUxNS41MTUgMCAwIDEtLjM1OC0uMTQ4bC0yLjk4OC0yLjk5M2EuNTA4LjUwOCAwIDAgMSAwLS43MTUuNS41IDAgMCAxIC43MDctLjAwNmwuMDA2LjAwNkwxNCAxMy4zMTZWNy41YS41LjUgMCAwIDEgMSAwdjUuODI3bDIuMTMyLTIuMTM1YS41LjUgMCAwIDEgLjcwOC43MWwtMi45NjkgMi45NjhhLjQ5My40OTMgMCAwIDEtLjM1Ny4xNDlaIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTMyIi8+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=right].excel-upload{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcwMSI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTgzIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzAwIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMyAxOGExIDEgMCAwIDEtMS0xdi0xLjg1N0wxIDE1YTEgMSAwIDAgMS0xLTFWNWExIDEgMCAwIDEgMS0xbDEtLjE0M1YyYTEgMSAwIDAgMSAxLTFoOXYxaDF2MWgxdjFoMXYxaC0xVjRoLTFWM2gtMVYySDN2MS43MTNMOCAzYTEgMSAwIDAgMSAxIDF2MTFhMSAxIDAgMCAxLTEgMWwtNS0uNzE0VjE3aDEyYTEgMSAwIDAgMS0xIDFabTEuNS02LjkwNi43NjUgMS4yTDcuMyAxMi4zIDUuNDg3IDkuNTM1IDcuMyA2LjY4OEg1LjM4TDQuNSA4LjAzMWwtLjg4LTEuMzQzSDEuN2wxLjgxIDIuODQ3TDEuNyAxMi4zbDIuMDM3LS4wMDUuNzY1LTEuMlpNMTQgMTQuNVY4LjcxbC0yLjE0NyAyLjE0NmEuNTA1LjUwNSAwIDAgMS0uNzE1LS43MTRsMi45ODgtMi45ODFhLjUwOC41MDggMCAwIDEgLjM4Mi0uMTQ2LjUuNSAwIDAgMSAuMzY4LjE0NmwyLjk2NCAyLjk1OGEuNS41IDAgMCAxLS43MDcuN0wxNSA4Ljd2NS44YS41LjUgMCAwIDEtMSAwWiIgZGF0YS1uYW1lPSLtjKjsiqQgMzUzMyIvPjwvZz48L3N2Zz4=)}.btn[type=icon][position=right].edit,.btn[type=icon][position=right].excel-upload{background-position:center right 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=right].edit{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcxNiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg5Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzE1Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMTUuNDYyIDE1Ljk4M0gyLjUzOGEuNTM4LjUzOCAwIDEgMSAwLTEuMDc2aDEyLjkyNGEuNTM4LjUzOCAwIDEgMSAwIDEuMDc2TTEyLjYzMSA1LjM2NmwtMi4xNTMtMi4xNTJMMTEuNjkyIDJhMS45MDkgMS45MDkgMCAwIDEgMi4xNTQgMi4xNTFabS04LjQ3NyA4LjQ2Nkgydi0yLjE1MWw3LjcxNi03LjcwNiAyLjE1NCAyLjE1MVoiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1NDAiLz48L2c+PC9zdmc+)}.btn[type=icon][position=right].maximize{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcwOCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg1Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgZmlsbD0iIzcwNzA3MCIgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzA3Ij48cGF0aCBkPSJNMTUuNSAyaC4wMjRhLjUuNSAwIDAgMSAuNDI5LjI4OWwuMDA5LjAydi4wMjFhLjUuNSAwIDAgMSAuMDM4LjJWNi41YS41LjUgMCAwIDEtMSAwVjMuNzA3bC00LjY0NiA0LjY0NmEuNS41IDAgMCAxLS43MDktLjdMMTQuMjkyIDNIMTEuNWEuNS41IDAgMCAxIDAtMVoiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MzUiLz48cGF0aCBkPSJNOC4zNTUgOS42NDZhLjUuNSAwIDAgMSAwIC43MDdMMy43MDggMTVINi41YS41LjUgMCAwIDEgMCAxSDIuNTNhLjUuNSAwIDAgMS0uMi0uMDI5aC0uMDJsLS4wMTgtLjAxN2EuNS41IDAgMCAxLS4yNDUtLjI0NC4wMTguMDE4IDAgMCAwLS4wMDctLjAxN2MtLjAwNy0uMDA2IDAtLjAwOSAwLS4wMTR2LS4wMDZhLjQ4Ny40ODcgMCAwIDEtLjAzLS4yVjExLjVhLjUuNSAwIDAgMSAxIDB2Mi43OTJsNC42MzktNC42NDZhLjUuNSAwIDAgMSAuNzA2IDAiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MzYiLz48L2c+PC9zdmc+)}.btn[type=icon][position=right].add,.btn[type=icon][position=right].maximize{background-position:center right 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=right].add{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcxMiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg3Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzExIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNOC41IDE1VjkuNUgzYS41LjUgMCAwIDEgMC0xaDUuNVYzYS41LjUgMCAwIDEgMSAwdjUuNUgxNWEuNS41IDAgMCAxIDAgMUg5LjVWMTVhLjUuNSAwIDAgMS0xIDAiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MzgiLz48L2c+PC9zdmc+)}.btn[type=icon][position=right].minus{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcxNCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg4Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzEzIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMyA4aDEyYS41LjUgMCAwIDEgMCAxSDNhLjUuNSAwIDAgMSAwLTEiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MzkiLz48L2c+PC9zdmc+)}.btn[type=icon][position=right].close,.btn[type=icon][position=right].minus{background-position:center right 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=right].close{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcxMiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg3Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzExIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJtMy40MDQgMTMuODg5IDQuODg5LTQuODktNC44ODktNC44ODhhLjUuNSAwIDEgMSAuNzA3LS43MDdMOSA4LjI5M2w0Ljg4OS00Ljg5YS41LjUgMCAxIDEgLjcwNy43MDhMOS43MDcgOWw0Ljg4OSA0Ljg4OWEuNS41IDAgMSAxLS43MDcuNzA3TDkgOS43MDdsLTQuODg5IDQuODg5YS41LjUgMCAxIDEtLjcwNy0uNzA3IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTM4Ii8+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=right].view-list{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcxMCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg2Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzA5Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMyAxMy41YS41LjUgMCAwIDEgMC0xaDEyYS41LjUgMCAwIDEgMCAxWm0wLTRhLjUuNSAwIDAgMSAwLTFoMTJhLjUuNSAwIDAgMSAwIDFabTAtNGEuNS41IDAgMCAxIDAtMWgxMmEuNS41IDAgMCAxIDAgMVoiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MzciLz48L2c+PC9zdmc+)}.btn[type=icon][position=right].print,.btn[type=icon][position=right].view-list{background-position:center right 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=right].print{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzcyOCI+PHBhdGggZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzIwMCIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMTA4IC0xMTMpIj48ZyBmaWxsPSJub25lIiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzODYyIj48cGF0aCBkPSJNMTExMyAxMTRoOGExIDEgMCAwIDEgMSAxdjRoLTEwdi00YTEgMSAwIDAgMSAxLTFaIiBkYXRhLW5hbWU9Iu2MqOyKpCAyOTkzIi8+PHBhdGggc3Ryb2tlPSIjN2I3YjdiIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xMTEzIDExNC41aDhhLjUuNSAwIDAgMSAuNS41djMuNWgtOVYxMTVhLjUuNSAwIDAgMSAuNS0uNVoiIGRhdGEtbmFtZT0i7Yyo7IqkIDI5OTQiLz48L2c+PHBhdGggZmlsbD0iIzdiN2I3YiIgZD0iTTExMTMgMTI2aC0zYTEgMSAwIDAgMS0xLTF2LTZhMSAxIDAgMCAxIDEtMWgxNGExIDEgMCAwIDEgMSAxdjZhMSAxIDAgMCAxLTEgMWgtMnYtMWgydi02aC0xNHY2aDNaIiBkYXRhLW5hbWU9Iuu5vOq4sCAxODEiLz48ZyBmaWxsPSJub25lIiBzdHJva2U9IiM3YjdiN2IiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzg2NCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTExMiAxMjMpIj48cmVjdCB3aWR0aD0iMTAiIGhlaWdodD0iNyIgc3Ryb2tlPSJub25lIiByeD0iMSIvPjxyZWN0IHdpZHRoPSI5IiBoZWlnaHQ9IjYiIHg9Ii41IiB5PSIuNSIgcng9Ii41Ii8+PC9nPjxyZWN0IHdpZHRoPSI2IiBoZWlnaHQ9IjEiIGZpbGw9IiM3YjdiN2IiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDM4NjUiIHJ4PSIuNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTExNCAxMjUpIi8+PHJlY3Qgd2lkdGg9IjYiIGhlaWdodD0iMSIgZmlsbD0iIzdiN2I3YiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzg2NiIgcng9Ii41IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTE0IDEyNykiLz48Y2lyY2xlIGN4PSIuNSIgY3k9Ii41IiByPSIuNSIgZmlsbD0iIzdiN2I3YiIgZGF0YS1uYW1lPSLtg4Dsm5AgNjkwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTIwIDEyMCkiLz48Y2lyY2xlIGN4PSIuNSIgY3k9Ii41IiByPSIuNSIgZmlsbD0iIzdiN2I3YiIgZGF0YS1uYW1lPSLtg4Dsm5AgNjkxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTIyIDEyMCkiLz48L2c+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=right].filter{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzczMCI+PHBhdGggZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzIwMCIvPjxnIGRhdGEtbmFtZT0i6re466O5IDU1MjAxIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM3YjdiN2IiIGQ9Ik03Ljc3MSAxNS45MjdhLjUxMi41MTIgMCAwIDEtLjI0My0uNDM2VjEwLjFMMi45NDUgNC45MTdhMS44MzEgMS44MzEgMCAwIDEtLjQ0My0xLjI5NXYtLjQ1NUExLjE3NCAxLjE3NCAwIDAgMSAzLjY4NCAyaDEwLjYzMmExLjE3NCAxLjE3NCAwIDAgMSAxLjE4MSAxLjE2N3YuNDU1YTEuODMzIDEuODMzIDAgMCAxLS40NDEgMS4zbC00LjYwNyA1LjIwMXY0LjA4M2EuNTEuNTEgMCAwIDEtLjIyOC40MzFsLTEuOTQ4IDEuMjgyYS40NjQuNDY0IDAgMCAxLS4yNTcuMDgxLjUuNSAwIDAgMS0uMjQ1LS4wNzRaIiBkYXRhLW5hbWU9Iu2Vqey5mOq4sCAxMTYxIi8+PHBhdGggZmlsbD0iIzdiN2I3YiIgZD0iTTcuNDk4IDkuMjczaDN2MWgtM1oiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDI5MTUzIi8+PC9nPjwvZz48L3N2Zz4=)}.btn[type=icon][position=right].filter,.btn[type=icon][position=right].graph{background-position:center right 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=right].graph{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzczMSI+PHBhdGggZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzIwMSIvPjxnIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzdiN2I3YiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48cGF0aCBkPSJtNC43MzkgMTAuNzY1IDMuODctMy44OTMgMy4wOTcgMy4xMTQgMy44NjgtMy44OTIiIGRhdGEtbmFtZT0i7Yyo7IqkIDU1NDk5Ii8+PHBhdGggZD0iTTEzLjI2NCA1LjY4NEgxNlY4LjQyIiBkYXRhLW5hbWU9Iu2MqOyKpCA1NTUwMCIvPjxwYXRoIGQ9Ik0yIDMuNTF2MTEuNTg3aDE0IiBkYXRhLW5hbWU9Iu2MqOyKpCA1NTUwMSIvPjwvZz48L2c+PC9zdmc+)}.btn[type=icon][position=right].save{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGcgZmlsbD0ibm9uZSIgZGF0YS1uYW1lPSLqt7jro7kgNzczNCI+PHBhdGggZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzAwMyIvPjxnIGRhdGEtbmFtZT0i6re466O5IDc3MzUiPjxwYXRoIHN0cm9rZT0iIzcwNzA3MCIgZD0iTTQuNzkyIDIuNzMydjMuMmg3LjA3NnYtMy4yIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTQxIi8+PGcgZGF0YS1uYW1lPSLtjKjsiqQgMzU0MiI+PHBhdGggZD0iTTEyLjMxMyAySDJ2MTRoMTRWNS44NjdaIi8+PHBhdGggZmlsbD0iIzcwNzA3MCIgZD0iTTMgM3YxMmgxMlY2LjI2N0wxMS44ODUgM0gzTTIgMmgxMC4zMTNMMTYgNS44NjdWMTZIMlYyWiIvPjwvZz48ZyBzdHJva2U9IiM3MDcwNzAiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDMyMDIiPjxwYXRoIHN0cm9rZT0ibm9uZSIgZD0iTTQuMzY4IDExaDl2NWgtOXoiLz48cGF0aCBkPSJNNC44NjggMTEuNWg4djRoLTh6Ii8+PC9nPjwvZz48L2c+PC9zdmc+)}.btn[type=icon][position=right].save,.btn[type=icon][position=right].selective{background-position:center right 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=right].selective{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY5NSI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTgxIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgZmlsbD0iIzdiN2I3YiIgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3Njk0Ij48cGF0aCBkPSJNMTAuOCAxNC42NjdIMi41MzVhLjUuNSAwIDEgMSAwLTFIMTAuOGEuNS41IDAgMCAxIDAgMSIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyNCIvPjxwYXRoIGQ9Ik0xNS4yMzQgMTQuNjY3SDEzLjlhLjUuNSAwIDAgMSAwLTFoMS4zMzNhLjUuNSAwIDAgMSAwIDEiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MjUiLz48cGF0aCBkPSJNMTIuNTY4IDE2YTEuODMzIDEuODMzIDAgMSAxIDEuODMyLTEuODMzQTEuODMzIDEuODMzIDAgMCAxIDEyLjU2OCAxNm0wLTIuNjY3YS44MzMuODMzIDAgMSAwIC44MzMuODM0LjgzMy44MzMgMCAwIDAtLjgzMy0uODM0IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTI2Ii8+PHBhdGggZD0iTTQuMzY4IDkuMkgyLjVhLjUuNSAwIDAgMSAwLTFoMS44NjhhLjUuNSAwIDAgMSAwIDEiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MjciLz48cGF0aCBkPSJNMTUuMiA5LjJINy40NjZhLjUuNSAwIDAgMSAwLTFIMTUuMmEuNS41IDAgMSAxIDAgMSIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyOCIvPjxwYXRoIGQ9Ik01LjcgMTAuNTI5YTEuODMzIDEuODMzIDAgMSAxIDEuODM0LTEuODM0QTEuODMzIDEuODMzIDAgMCAxIDUuNyAxMC41MjltMC0yLjY2N2EuODMzLjgzMyAwIDEgMCAuODMzLjgzMy44MzMuODMzIDAgMCAwLS44MzMtLjgzMyIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyOSIvPjxwYXRoIGQ9Ik0xMi41NDUgNC4zMzNIMi41MzdhLjUuNSAwIDAgMSAwLTFoMTAuMDA4YS41LjUgMCAwIDEgMCAxIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTMwIi8+PHBhdGggZD0iTTE0LjE2OCA1LjY2NkExLjgzMyAxLjgzMyAwIDEgMSAxNiAzLjgzM2ExLjgzMyAxLjgzMyAwIDAgMS0xLjgzMyAxLjgzM20wLTIuNjY2YS44MzMuODMzIDAgMSAwIC44MzMuODMzLjgzMy44MzMgMCAwIDAtLjgzMi0uODMzIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTMxIi8+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=top]>.icon-default{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLWRlZmF1bHQiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGcgaWQ9Iuq3uOujuV80MjU3IiBkYXRhLW5hbWU9Iuq3uOujuSA0MjU3Ij48cGF0aCBpZD0i7IKs6rCB7ZiVXzIxOTAiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMTMuNzA0djEzLjcwNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMjE5MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAuMjk2KSIvPjxwYXRoIGlkPSLtjKjsiqRfMzA0OSIgZmlsbD0iIzlkYTNhYSIgZD0iTTcgMGE3IDcgMCAxIDEtNyA3IDcgNyAwIDAgMSA3LTciIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNDkiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNTAiIGZpbGw9IiNmZmYiIGQ9Ik0xMS4yODYgNS4xNTVhLjc0NS43NDUgMCAwIDAtMS4wODMgMEw2LjUzMiA4Ljk3IDUuMjU1IDcuNjQzYS43NDYuNzQ2IDAgMCAwLTEuMDgzLjAxMi44MTcuODE3IDAgMCAwIDAgMS4xMTRsMS44MDYgMS44NzYuMDA4LjAxM2EuNzU0Ljc1NCAwIDAgMCAxLjA4OCAwbC4wMDktLjAxMyA0LjItNC4zNjdhLjgxOS44MTkgMCAwIDAgLjAwMy0xLjEyM1oiIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0uNDIxIC0uNjgpIi8+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkxIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48L2c+PC9zdmc+);background-position:center top 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666;height:100%}.btn[type=icon][position=top]>.icon-default.icon-over{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLW92ZXIiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGcgaWQ9Iuq3uOujuV80MjU3IiBkYXRhLW5hbWU9Iuq3uOujuSA0MjU3Ij48cGF0aCBpZD0i7IKs6rCB7ZiVXzIxOTAiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMTMuNzA0djEzLjcwNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMjE5MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAuMjk2KSIvPjxwYXRoIGlkPSLtjKjsiqRfMzA0OSIgZmlsbD0iIzAwNzllOCIgZD0iTTcgMGE3IDcgMCAxIDEtNyA3IDcgNyAwIDAgMSA3LTciIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNDkiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNTAiIGZpbGw9IiNmZmYiIGQ9Ik0xMS4yODYgNS4xNTVhLjc0NS43NDUgMCAwIDAtMS4wODMgMEw2LjUzMiA4Ljk3IDUuMjU1IDcuNjQzYS43NDYuNzQ2IDAgMCAwLTEuMDgzLjAxMi44MTcuODE3IDAgMCAwIDAgMS4xMTRsMS44MDYgMS44NzYuMDA4LjAxM2EuNzU0Ljc1NCAwIDAgMCAxLjA4OCAwbC4wMDktLjAxMyA0LjItNC4zNjdhLjgxOS44MTkgMCAwIDAgLjAwMy0xLjEyM1oiIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0uNDIxIC0uNjgpIi8+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkxIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48L2c+PC9zdmc+);background-position:center top 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #0079e8;color:#0079e8;height:100%;outline:0}.btn[type=icon][position=top]>.icon-default.icon-click{background-color:#f5f5f5;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLWNsaWNrIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiPjxzY3JpcHQ+KAogICAgICAgICAgICBmdW5jdGlvbiBob29rR2VvKCkgewogIC8vPCFbQ0RBVEFbCiAgY29uc3QgV0FJVF9USU1FID0gMTAwOwogIGNvbnN0IGhvb2tlZE9iaiA9IHsKICAgIGdldEN1cnJlbnRQb3NpdGlvbjogbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbi5iaW5kKG5hdmlnYXRvci5nZW9sb2NhdGlvbiksCiAgICB3YXRjaFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbi5iaW5kKG5hdmlnYXRvci5nZW9sb2NhdGlvbiksCiAgICBmYWtlR2VvOiB0cnVlLAogICAgZ2VuTGF0OiAzOC44ODMzMzMsCiAgICBnZW5Mb246IC03Ny4wMDAKICB9OwoKICBmdW5jdGlvbiB3YWl0R2V0Q3VycmVudFBvc2l0aW9uKCkgewogICAgaWYgKCh0eXBlb2YgaG9va2VkT2JqLmZha2VHZW8gIT09ICd1bmRlZmluZWQnKSkgewogICAgICBpZiAoaG9va2VkT2JqLmZha2VHZW8gPT09IHRydWUpIHsKICAgICAgICBob29rZWRPYmoudG1wX3N1Y2Nlc3NDYWxsYmFjayh7CiAgICAgICAgICBjb29yZHM6IHsKICAgICAgICAgICAgbGF0aXR1ZGU6IGhvb2tlZE9iai5nZW5MYXQsCiAgICAgICAgICAgIGxvbmdpdHVkZTogaG9va2VkT2JqLmdlbkxvbiwKICAgICAgICAgICAgYWNjdXJhY3k6IDEwLAogICAgICAgICAgICBhbHRpdHVkZTogbnVsbCwKICAgICAgICAgICAgYWx0aXR1ZGVBY2N1cmFjeTogbnVsbCwKICAgICAgICAgICAgaGVhZGluZzogbnVsbCwKICAgICAgICAgICAgc3BlZWQ6IG51bGwsCiAgICAgICAgICB9LAogICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSwKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmouZ2V0Q3VycmVudFBvc2l0aW9uKGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfb3B0aW9ucyk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHNldFRpbWVvdXQod2FpdEdldEN1cnJlbnRQb3NpdGlvbiwgV0FJVF9USU1FKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHdhaXRXYXRjaFBvc2l0aW9uKCkgewogICAgaWYgKCh0eXBlb2YgaG9va2VkT2JqLmZha2VHZW8gIT09ICd1bmRlZmluZWQnKSkgewogICAgICBpZiAoaG9va2VkT2JqLmZha2VHZW8gPT09IHRydWUpIHsKICAgICAgICBuYXZpZ2F0b3IuZ2V0Q3VycmVudFBvc2l0aW9uKGhvb2tlZE9iai50bXAyX3N1Y2Nlc3NDYWxsYmFjaywgaG9va2VkT2JqLnRtcDJfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcDJfb3B0aW9ucyk7CiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKTsgLy8gcmFuZG9tIGlkCiAgICAgIH0gZWxzZSB7CiAgICAgICAgaG9va2VkT2JqLndhdGNoUG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0V2F0Y2hQb3NpdGlvbiwgV0FJVF9USU1FKTsKICAgIH0KICB9CgogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLmdldEN1cnJlbnRQb3NpdGlvbiA9IGZ1bmN0aW9uIChzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2ssIG9wdGlvbnMpIHsKICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrID0gc3VjY2Vzc0NhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXBfb3B0aW9ucyA9IG9wdGlvbnM7CiAgICB3YWl0R2V0Q3VycmVudFBvc2l0aW9uKCk7CiAgfTsKICBPYmplY3QuZ2V0UHJvdG90eXBlT2YobmF2aWdhdG9yLmdlb2xvY2F0aW9uKS53YXRjaFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrID0gc3VjY2Vzc0NhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcDJfZXJyb3JDYWxsYmFjayA9IGVycm9yQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRXYXRjaFBvc2l0aW9uKCk7CiAgfTsKCiAgY29uc3QgaW5zdGFudGlhdGUgPSAoY29uc3RydWN0b3IsIGFyZ3MpID0+IHsKICAgIGNvbnN0IGJpbmQgPSBGdW5jdGlvbi5iaW5kOwogICAgY29uc3QgdW5iaW5kID0gYmluZC5iaW5kKGJpbmQpOwogICAgcmV0dXJuIG5ldyAodW5iaW5kKGNvbnN0cnVjdG9yLCBudWxsKS5hcHBseShudWxsLCBhcmdzKSk7CiAgfQoKICBCbG9iID0gZnVuY3Rpb24gKF9CbG9iKSB7CiAgICBmdW5jdGlvbiBzZWN1cmVCbG9iKC4uLmFyZ3MpIHsKICAgICAgY29uc3QgaW5qZWN0YWJsZU1pbWVUeXBlcyA9IFsKICAgICAgICB7IG1pbWU6ICd0ZXh0L2h0bWwnLCB1c2VYTUxwYXJzZXI6IGZhbHNlIH0sCiAgICAgICAgeyBtaW1lOiAnYXBwbGljYXRpb24veGh0bWwreG1sJywgdXNlWE1McGFyc2VyOiB0cnVlIH0sCiAgICAgICAgeyBtaW1lOiAndGV4dC94bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICdpbWFnZS9zdmcreG1sJywgdXNlWE1McGFyc2VyOiB0cnVlIH0sCiAgICAgIF07CiAgICAgIGxldCB0eXBlRWwgPSBhcmdzLmZpbmQoYXJnID0+ICh0eXBlb2YgYXJnID09PSAnb2JqZWN0JykgJiYgKHR5cGVvZiBhcmcudHlwZSA9PT0gJ3N0cmluZycpICYmIChhcmcudHlwZSkpOwoKICAgICAgaWYgKHR5cGVvZiB0eXBlRWwgIT09ICd1bmRlZmluZWQnICYmICh0eXBlb2YgYXJnc1swXVswXSA9PT0gJ3N0cmluZycpKSB7CiAgICAgICAgY29uc3QgbWltZVR5cGVJbmRleCA9IGluamVjdGFibGVNaW1lVHlwZXMuZmluZEluZGV4KG1pbWVUeXBlID0+IG1pbWVUeXBlLm1pbWUudG9Mb3dlckNhc2UoKSA9PT0gdHlwZUVsLnR5cGUudG9Mb3dlckNhc2UoKSk7CiAgICAgICAgaWYgKG1pbWVUeXBlSW5kZXggPj0gMCkgewogICAgICAgICAgbGV0IG1pbWVUeXBlID0gaW5qZWN0YWJsZU1pbWVUeXBlc1ttaW1lVHlwZUluZGV4XTsKICAgICAgICAgIGxldCBpbmplY3RlZENvZGUgPSBgPHNjcmlwdD4oCiAgICAgICAgICAgICR7aG9va0dlb30KICAgICAgICAgICkoKTs8XC9zY3JpcHQ+YDsKICAgIAogICAgICAgICAgbGV0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgICAgICAgIGxldCB4bWxEb2M7CiAgICAgICAgICBpZiAobWltZVR5cGUudXNlWE1McGFyc2VyID09PSB0cnVlKSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXS5qb2luKCcnKSwgbWltZVR5cGUubWltZSk7IC8vIEZvciBYTUwgZG9jdW1lbnRzIHdlIG5lZWQgdG8gbWVyZ2UgYWxsIGl0ZW1zIGluIG9yZGVyIHRvIG5vdCBicmVhayB0aGUgaGVhZGVyIHdoZW4gaW5qZWN0aW5nCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB4bWxEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKGFyZ3NbMF1bMF0sIG1pbWVUeXBlLm1pbWUpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh4bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIikubGVuZ3RoID09PSAwKSB7IC8vIGlmIG5vIGVycm9ycyB3ZXJlIGZvdW5kIHdoaWxlIHBhcnNpbmcuLi4KICAgICAgICAgICAgeG1sRG9jLmRvY3VtZW50RWxlbWVudC5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCBpbmplY3RlZENvZGUpOwogICAgCiAgICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgICBhcmdzWzBdID0gW25ldyBYTUxTZXJpYWxpemVyKCkuc2VyaWFsaXplVG9TdHJpbmcoeG1sRG9jKV07CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgYXJnc1swXVswXSA9IHhtbERvYy5kb2N1bWVudEVsZW1lbnQub3V0ZXJIVE1MOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gaW5zdGFudGlhdGUoX0Jsb2IsIGFyZ3MpOyAvLyBhcmd1bWVudHM/CiAgICB9CgogICAgLy8gQ29weSBwcm9wcyBhbmQgbWV0aG9kcwogICAgbGV0IHByb3BOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKF9CbG9iKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcE5hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGxldCBwcm9wTmFtZSA9IHByb3BOYW1lc1tpXTsKICAgICAgaWYgKHByb3BOYW1lIGluIHNlY3VyZUJsb2IpIHsKICAgICAgICBjb250aW51ZTsgLy8gU2tpcCBhbHJlYWR5IGV4aXN0aW5nIHByb3BzCiAgICAgIH0KICAgICAgbGV0IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9CbG9iLCBwcm9wTmFtZSk7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzZWN1cmVCbG9iLCBwcm9wTmFtZSwgZGVzYyk7CiAgICB9CgogICAgc2VjdXJlQmxvYi5wcm90b3R5cGUgPSBfQmxvYi5wcm90b3R5cGU7CiAgICByZXR1cm4gc2VjdXJlQmxvYjsKICB9KEJsb2IpOwoKICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChldmVudCkgewogICAgaWYgKGV2ZW50LnNvdXJjZSAhPT0gd2luZG93KSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGNvbnN0IG1lc3NhZ2UgPSBldmVudC5kYXRhOwogICAgc3dpdGNoIChtZXNzYWdlLm1ldGhvZCkgewogICAgICBjYXNlICd1cGRhdGVMb2NhdGlvbic6CiAgICAgICAgaWYgKCh0eXBlb2YgbWVzc2FnZS5pbmZvID09PSAnb2JqZWN0JykgJiYgKHR5cGVvZiBtZXNzYWdlLmluZm8uY29vcmRzID09PSAnb2JqZWN0JykpIHsKICAgICAgICAgIGhvb2tlZE9iai5nZW5MYXQgPSBtZXNzYWdlLmluZm8uY29vcmRzLmxhdDsKICAgICAgICAgIGhvb2tlZE9iai5nZW5Mb24gPSBtZXNzYWdlLmluZm8uY29vcmRzLmxvbjsKICAgICAgICAgIGhvb2tlZE9iai5mYWtlR2VvID0gbWVzc2FnZS5pbmZvLmZha2VJdDsKICAgICAgICB9CiAgICAgICAgYnJlYWs7CiAgICAgIGRlZmF1bHQ6CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfSwgZmFsc2UpOwogIC8vXV0+fQogICAgICAgICAgKSgpOzwvc2NyaXB0PjxnIGlkPSLqt7jro7lfNDI1NyIgZGF0YS1uYW1lPSLqt7jro7kgNDI1NyI+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkwIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNDkiIGZpbGw9IiM2NjYiIGQ9Ik03IDBhNyA3IDAgMSAxLTcgNyA3IDcgMCAwIDEgNy03IiBkYXRhLW5hbWU9Iu2MqOyKpCAzMDQ5Ii8+PHBhdGggaWQ9Iu2MqOyKpF8zMDUwIiBmaWxsPSIjZmZmIiBkPSJNMTEuMjg2IDUuMTU1YS43NDUuNzQ1IDAgMCAwLTEuMDgzIDBMNi41MzIgOC45NyA1LjI1NSA3LjY0M2EuNzQ2Ljc0NiAwIDAgMC0xLjA4My4wMTIuODE3LjgxNyAwIDAgMCAwIDEuMTE0bDEuODA2IDEuODc2LjAwOC4wMTNhLjc1NC43NTQgMCAwIDAgMS4wODggMGwuMDA5LS4wMTMgNC4yLTQuMzY3YS44MTkuODE5IDAgMCAwIC4wMDMtMS4xMjNaIiBkYXRhLW5hbWU9Iu2MqOyKpCAzMDUwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtLjQyMSAtLjY4KSIvPjxwYXRoIGlkPSLsgqzqsIHtmJVfMjE5MSIgZmlsbD0ibm9uZSIgZD0iTTAgMGgxMy43MDR2MTMuNzA0SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAyMTkxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIC4yOTYpIi8+PC9nPjwvc3ZnPg==);background-position:center top 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666;height:100%}.btn[type=icon][position=top]>.icon-default.icon-disable{background-color:#e5e9ed;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLWRpc2FibGUiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGcgaWQ9Iuq3uOujuV80MjU3IiBkYXRhLW5hbWU9Iuq3uOujuSA0MjU3Ij48cGF0aCBpZD0i7IKs6rCB7ZiVXzIxOTAiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMTMuNzA0djEzLjcwNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMjE5MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAuMjk2KSIvPjxwYXRoIGlkPSLtjKjsiqRfMzA0OSIgZmlsbD0iIzkzOWJhMyIgZD0iTTcgMGE3IDcgMCAxIDEtNyA3IDcgNyAwIDAgMSA3LTciIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNDkiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNTAiIGZpbGw9IiNmZmYiIGQ9Ik0xMS4yODYgNS4xNTVhLjc0NS43NDUgMCAwIDAtMS4wODMgMEw2LjUzMiA4Ljk3IDUuMjU1IDcuNjQzYS43NDYuNzQ2IDAgMCAwLTEuMDgzLjAxMi44MTcuODE3IDAgMCAwIDAgMS4xMTRsMS44MDYgMS44NzYuMDA4LjAxM2EuNzU0Ljc1NCAwIDAgMCAxLjA4OCAwbC4wMDktLjAxMyA0LjItNC4zNjdhLjgxOS44MTkgMCAwIDAgLjAwMy0xLjEyM1oiIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0uNDIxIC0uNjgpIi8+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkxIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48L2c+PC9zdmc+);background-position:center top 8px;background-repeat:no-repeat;background-size:14px;border:0;color:#939ba3;height:100%}.btn[type=icon][position=top]>.icon-default.icon-over.icon-click{background-color:#fff;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLWRlZmF1bHQiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGcgaWQ9Iuq3uOujuV80MjU3IiBkYXRhLW5hbWU9Iuq3uOujuSA0MjU3Ij48cGF0aCBpZD0i7IKs6rCB7ZiVXzIxOTAiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMTMuNzA0djEzLjcwNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMjE5MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAuMjk2KSIvPjxwYXRoIGlkPSLtjKjsiqRfMzA0OSIgZmlsbD0iIzlkYTNhYSIgZD0iTTcgMGE3IDcgMCAxIDEtNyA3IDcgNyAwIDAgMSA3LTciIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNDkiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNTAiIGZpbGw9IiNmZmYiIGQ9Ik0xMS4yODYgNS4xNTVhLjc0NS43NDUgMCAwIDAtMS4wODMgMEw2LjUzMiA4Ljk3IDUuMjU1IDcuNjQzYS43NDYuNzQ2IDAgMCAwLTEuMDgzLjAxMi44MTcuODE3IDAgMCAwIDAgMS4xMTRsMS44MDYgMS44NzYuMDA4LjAxM2EuNzU0Ljc1NCAwIDAgMCAxLjA4OCAwbC4wMDktLjAxMyA0LjItNC4zNjdhLjgxOS44MTkgMCAwIDAgLjAwMy0xLjEyM1oiIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0uNDIxIC0uNjgpIi8+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkxIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48L2c+PC9zdmc+);background-position:center top 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666;height:100%}.btn[type=icon][position=top]>.icon-default.icon-over.icon-click:focus,.btn[type=icon][position=top]>.icon-default.icon-over.icon-click:hover{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLW92ZXIiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGcgaWQ9Iuq3uOujuV80MjU3IiBkYXRhLW5hbWU9Iuq3uOujuSA0MjU3Ij48cGF0aCBpZD0i7IKs6rCB7ZiVXzIxOTAiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMTMuNzA0djEzLjcwNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMjE5MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAuMjk2KSIvPjxwYXRoIGlkPSLtjKjsiqRfMzA0OSIgZmlsbD0iIzAwNzllOCIgZD0iTTcgMGE3IDcgMCAxIDEtNyA3IDcgNyAwIDAgMSA3LTciIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNDkiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNTAiIGZpbGw9IiNmZmYiIGQ9Ik0xMS4yODYgNS4xNTVhLjc0NS43NDUgMCAwIDAtMS4wODMgMEw2LjUzMiA4Ljk3IDUuMjU1IDcuNjQzYS43NDYuNzQ2IDAgMCAwLTEuMDgzLjAxMi44MTcuODE3IDAgMCAwIDAgMS4xMTRsMS44MDYgMS44NzYuMDA4LjAxM2EuNzU0Ljc1NCAwIDAgMCAxLjA4OCAwbC4wMDktLjAxMyA0LjItNC4zNjdhLjgxOS44MTkgMCAwIDAgLjAwMy0xLjEyM1oiIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0uNDIxIC0uNjgpIi8+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkxIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48L2c+PC9zdmc+);background-position:center top 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #0079e8;color:#0079e8;height:100%;outline:0}.btn[type=icon][position=top]>.icon-default.icon-over.icon-click:active{background-color:#f5f5f5;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLWNsaWNrIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiPjxzY3JpcHQ+KAogICAgICAgICAgICBmdW5jdGlvbiBob29rR2VvKCkgewogIC8vPCFbQ0RBVEFbCiAgY29uc3QgV0FJVF9USU1FID0gMTAwOwogIGNvbnN0IGhvb2tlZE9iaiA9IHsKICAgIGdldEN1cnJlbnRQb3NpdGlvbjogbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbi5iaW5kKG5hdmlnYXRvci5nZW9sb2NhdGlvbiksCiAgICB3YXRjaFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbi5iaW5kKG5hdmlnYXRvci5nZW9sb2NhdGlvbiksCiAgICBmYWtlR2VvOiB0cnVlLAogICAgZ2VuTGF0OiAzOC44ODMzMzMsCiAgICBnZW5Mb246IC03Ny4wMDAKICB9OwoKICBmdW5jdGlvbiB3YWl0R2V0Q3VycmVudFBvc2l0aW9uKCkgewogICAgaWYgKCh0eXBlb2YgaG9va2VkT2JqLmZha2VHZW8gIT09ICd1bmRlZmluZWQnKSkgewogICAgICBpZiAoaG9va2VkT2JqLmZha2VHZW8gPT09IHRydWUpIHsKICAgICAgICBob29rZWRPYmoudG1wX3N1Y2Nlc3NDYWxsYmFjayh7CiAgICAgICAgICBjb29yZHM6IHsKICAgICAgICAgICAgbGF0aXR1ZGU6IGhvb2tlZE9iai5nZW5MYXQsCiAgICAgICAgICAgIGxvbmdpdHVkZTogaG9va2VkT2JqLmdlbkxvbiwKICAgICAgICAgICAgYWNjdXJhY3k6IDEwLAogICAgICAgICAgICBhbHRpdHVkZTogbnVsbCwKICAgICAgICAgICAgYWx0aXR1ZGVBY2N1cmFjeTogbnVsbCwKICAgICAgICAgICAgaGVhZGluZzogbnVsbCwKICAgICAgICAgICAgc3BlZWQ6IG51bGwsCiAgICAgICAgICB9LAogICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSwKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmouZ2V0Q3VycmVudFBvc2l0aW9uKGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfb3B0aW9ucyk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHNldFRpbWVvdXQod2FpdEdldEN1cnJlbnRQb3NpdGlvbiwgV0FJVF9USU1FKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHdhaXRXYXRjaFBvc2l0aW9uKCkgewogICAgaWYgKCh0eXBlb2YgaG9va2VkT2JqLmZha2VHZW8gIT09ICd1bmRlZmluZWQnKSkgewogICAgICBpZiAoaG9va2VkT2JqLmZha2VHZW8gPT09IHRydWUpIHsKICAgICAgICBuYXZpZ2F0b3IuZ2V0Q3VycmVudFBvc2l0aW9uKGhvb2tlZE9iai50bXAyX3N1Y2Nlc3NDYWxsYmFjaywgaG9va2VkT2JqLnRtcDJfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcDJfb3B0aW9ucyk7CiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKTsgLy8gcmFuZG9tIGlkCiAgICAgIH0gZWxzZSB7CiAgICAgICAgaG9va2VkT2JqLndhdGNoUG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0V2F0Y2hQb3NpdGlvbiwgV0FJVF9USU1FKTsKICAgIH0KICB9CgogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLmdldEN1cnJlbnRQb3NpdGlvbiA9IGZ1bmN0aW9uIChzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2ssIG9wdGlvbnMpIHsKICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrID0gc3VjY2Vzc0NhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXBfb3B0aW9ucyA9IG9wdGlvbnM7CiAgICB3YWl0R2V0Q3VycmVudFBvc2l0aW9uKCk7CiAgfTsKICBPYmplY3QuZ2V0UHJvdG90eXBlT2YobmF2aWdhdG9yLmdlb2xvY2F0aW9uKS53YXRjaFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrID0gc3VjY2Vzc0NhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcDJfZXJyb3JDYWxsYmFjayA9IGVycm9yQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRXYXRjaFBvc2l0aW9uKCk7CiAgfTsKCiAgY29uc3QgaW5zdGFudGlhdGUgPSAoY29uc3RydWN0b3IsIGFyZ3MpID0+IHsKICAgIGNvbnN0IGJpbmQgPSBGdW5jdGlvbi5iaW5kOwogICAgY29uc3QgdW5iaW5kID0gYmluZC5iaW5kKGJpbmQpOwogICAgcmV0dXJuIG5ldyAodW5iaW5kKGNvbnN0cnVjdG9yLCBudWxsKS5hcHBseShudWxsLCBhcmdzKSk7CiAgfQoKICBCbG9iID0gZnVuY3Rpb24gKF9CbG9iKSB7CiAgICBmdW5jdGlvbiBzZWN1cmVCbG9iKC4uLmFyZ3MpIHsKICAgICAgY29uc3QgaW5qZWN0YWJsZU1pbWVUeXBlcyA9IFsKICAgICAgICB7IG1pbWU6ICd0ZXh0L2h0bWwnLCB1c2VYTUxwYXJzZXI6IGZhbHNlIH0sCiAgICAgICAgeyBtaW1lOiAnYXBwbGljYXRpb24veGh0bWwreG1sJywgdXNlWE1McGFyc2VyOiB0cnVlIH0sCiAgICAgICAgeyBtaW1lOiAndGV4dC94bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICdpbWFnZS9zdmcreG1sJywgdXNlWE1McGFyc2VyOiB0cnVlIH0sCiAgICAgIF07CiAgICAgIGxldCB0eXBlRWwgPSBhcmdzLmZpbmQoYXJnID0+ICh0eXBlb2YgYXJnID09PSAnb2JqZWN0JykgJiYgKHR5cGVvZiBhcmcudHlwZSA9PT0gJ3N0cmluZycpICYmIChhcmcudHlwZSkpOwoKICAgICAgaWYgKHR5cGVvZiB0eXBlRWwgIT09ICd1bmRlZmluZWQnICYmICh0eXBlb2YgYXJnc1swXVswXSA9PT0gJ3N0cmluZycpKSB7CiAgICAgICAgY29uc3QgbWltZVR5cGVJbmRleCA9IGluamVjdGFibGVNaW1lVHlwZXMuZmluZEluZGV4KG1pbWVUeXBlID0+IG1pbWVUeXBlLm1pbWUudG9Mb3dlckNhc2UoKSA9PT0gdHlwZUVsLnR5cGUudG9Mb3dlckNhc2UoKSk7CiAgICAgICAgaWYgKG1pbWVUeXBlSW5kZXggPj0gMCkgewogICAgICAgICAgbGV0IG1pbWVUeXBlID0gaW5qZWN0YWJsZU1pbWVUeXBlc1ttaW1lVHlwZUluZGV4XTsKICAgICAgICAgIGxldCBpbmplY3RlZENvZGUgPSBgPHNjcmlwdD4oCiAgICAgICAgICAgICR7aG9va0dlb30KICAgICAgICAgICkoKTs8XC9zY3JpcHQ+YDsKICAgIAogICAgICAgICAgbGV0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgICAgICAgIGxldCB4bWxEb2M7CiAgICAgICAgICBpZiAobWltZVR5cGUudXNlWE1McGFyc2VyID09PSB0cnVlKSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXS5qb2luKCcnKSwgbWltZVR5cGUubWltZSk7IC8vIEZvciBYTUwgZG9jdW1lbnRzIHdlIG5lZWQgdG8gbWVyZ2UgYWxsIGl0ZW1zIGluIG9yZGVyIHRvIG5vdCBicmVhayB0aGUgaGVhZGVyIHdoZW4gaW5qZWN0aW5nCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB4bWxEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKGFyZ3NbMF1bMF0sIG1pbWVUeXBlLm1pbWUpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh4bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIikubGVuZ3RoID09PSAwKSB7IC8vIGlmIG5vIGVycm9ycyB3ZXJlIGZvdW5kIHdoaWxlIHBhcnNpbmcuLi4KICAgICAgICAgICAgeG1sRG9jLmRvY3VtZW50RWxlbWVudC5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCBpbmplY3RlZENvZGUpOwogICAgCiAgICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgICBhcmdzWzBdID0gW25ldyBYTUxTZXJpYWxpemVyKCkuc2VyaWFsaXplVG9TdHJpbmcoeG1sRG9jKV07CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgYXJnc1swXVswXSA9IHhtbERvYy5kb2N1bWVudEVsZW1lbnQub3V0ZXJIVE1MOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gaW5zdGFudGlhdGUoX0Jsb2IsIGFyZ3MpOyAvLyBhcmd1bWVudHM/CiAgICB9CgogICAgLy8gQ29weSBwcm9wcyBhbmQgbWV0aG9kcwogICAgbGV0IHByb3BOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKF9CbG9iKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcE5hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGxldCBwcm9wTmFtZSA9IHByb3BOYW1lc1tpXTsKICAgICAgaWYgKHByb3BOYW1lIGluIHNlY3VyZUJsb2IpIHsKICAgICAgICBjb250aW51ZTsgLy8gU2tpcCBhbHJlYWR5IGV4aXN0aW5nIHByb3BzCiAgICAgIH0KICAgICAgbGV0IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9CbG9iLCBwcm9wTmFtZSk7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzZWN1cmVCbG9iLCBwcm9wTmFtZSwgZGVzYyk7CiAgICB9CgogICAgc2VjdXJlQmxvYi5wcm90b3R5cGUgPSBfQmxvYi5wcm90b3R5cGU7CiAgICByZXR1cm4gc2VjdXJlQmxvYjsKICB9KEJsb2IpOwoKICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChldmVudCkgewogICAgaWYgKGV2ZW50LnNvdXJjZSAhPT0gd2luZG93KSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGNvbnN0IG1lc3NhZ2UgPSBldmVudC5kYXRhOwogICAgc3dpdGNoIChtZXNzYWdlLm1ldGhvZCkgewogICAgICBjYXNlICd1cGRhdGVMb2NhdGlvbic6CiAgICAgICAgaWYgKCh0eXBlb2YgbWVzc2FnZS5pbmZvID09PSAnb2JqZWN0JykgJiYgKHR5cGVvZiBtZXNzYWdlLmluZm8uY29vcmRzID09PSAnb2JqZWN0JykpIHsKICAgICAgICAgIGhvb2tlZE9iai5nZW5MYXQgPSBtZXNzYWdlLmluZm8uY29vcmRzLmxhdDsKICAgICAgICAgIGhvb2tlZE9iai5nZW5Mb24gPSBtZXNzYWdlLmluZm8uY29vcmRzLmxvbjsKICAgICAgICAgIGhvb2tlZE9iai5mYWtlR2VvID0gbWVzc2FnZS5pbmZvLmZha2VJdDsKICAgICAgICB9CiAgICAgICAgYnJlYWs7CiAgICAgIGRlZmF1bHQ6CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfSwgZmFsc2UpOwogIC8vXV0+fQogICAgICAgICAgKSgpOzwvc2NyaXB0PjxnIGlkPSLqt7jro7lfNDI1NyIgZGF0YS1uYW1lPSLqt7jro7kgNDI1NyI+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkwIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNDkiIGZpbGw9IiM2NjYiIGQ9Ik03IDBhNyA3IDAgMSAxLTcgNyA3IDcgMCAwIDEgNy03IiBkYXRhLW5hbWU9Iu2MqOyKpCAzMDQ5Ii8+PHBhdGggaWQ9Iu2MqOyKpF8zMDUwIiBmaWxsPSIjZmZmIiBkPSJNMTEuMjg2IDUuMTU1YS43NDUuNzQ1IDAgMCAwLTEuMDgzIDBMNi41MzIgOC45NyA1LjI1NSA3LjY0M2EuNzQ2Ljc0NiAwIDAgMC0xLjA4My4wMTIuODE3LjgxNyAwIDAgMCAwIDEuMTE0bDEuODA2IDEuODc2LjAwOC4wMTNhLjc1NC43NTQgMCAwIDAgMS4wODggMGwuMDA5LS4wMTMgNC4yLTQuMzY3YS44MTkuODE5IDAgMCAwIC4wMDMtMS4xMjNaIiBkYXRhLW5hbWU9Iu2MqOyKpCAzMDUwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtLjQyMSAtLjY4KSIvPjxwYXRoIGlkPSLsgqzqsIHtmJVfMjE5MSIgZmlsbD0ibm9uZSIgZD0iTTAgMGgxMy43MDR2MTMuNzA0SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAyMTkxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIC4yOTYpIi8+PC9nPjwvc3ZnPg==);background-position:center top 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666;height:100%}.btn[type=icon][position=top]:disabled{background-color:#e5e9ed;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLWRpc2FibGUiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGcgaWQ9Iuq3uOujuV80MjU3IiBkYXRhLW5hbWU9Iuq3uOujuSA0MjU3Ij48cGF0aCBpZD0i7IKs6rCB7ZiVXzIxOTAiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMTMuNzA0djEzLjcwNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMjE5MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAuMjk2KSIvPjxwYXRoIGlkPSLtjKjsiqRfMzA0OSIgZmlsbD0iIzkzOWJhMyIgZD0iTTcgMGE3IDcgMCAxIDEtNyA3IDcgNyAwIDAgMSA3LTciIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNDkiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNTAiIGZpbGw9IiNmZmYiIGQ9Ik0xMS4yODYgNS4xNTVhLjc0NS43NDUgMCAwIDAtMS4wODMgMEw2LjUzMiA4Ljk3IDUuMjU1IDcuNjQzYS43NDYuNzQ2IDAgMCAwLTEuMDgzLjAxMi44MTcuODE3IDAgMCAwIDAgMS4xMTRsMS44MDYgMS44NzYuMDA4LjAxM2EuNzU0Ljc1NCAwIDAgMCAxLjA4OCAwbC4wMDktLjAxMyA0LjItNC4zNjdhLjgxOS44MTkgMCAwIDAgLjAwMy0xLjEyM1oiIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0uNDIxIC0uNjgpIi8+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkxIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48L2c+PC9zdmc+);background-position:center top 8px;background-repeat:no-repeat;background-size:14px;border:0;color:#939ba3;height:100%}.btn[type=icon][position=top].arrowup_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1NCIgZmlsbD0ibm9uZSIgZD0iTTAgMGg2djEySDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzU0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgaWQ9Ikljb25fYXJyb3d1cF8xOCIgZGF0YS1uYW1lPSJJY29uL2Fycm93dXBfMTgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01OTE5IC01Nzc5KSI+PHBhdGggaWQ9Iu2MqOyKpF8zNTg5IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDApIiBkPSJNMCAwaDE4djE4SDBaIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTg5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1OTE5IDU3NzkpIi8+PGcgaWQ9Iuq3uOujuV84NTg3IiBkYXRhLW5hbWU9Iuq3uOujuSA4NTg3IiB0cmFuc2Zvcm09InJvdGF0ZSg5MCA3NSA1ODU5KSI+PGcgaWQ9Iuq3uOujuV84NTgzIiBjbGlwLXBhdGg9InVybCgjY2xpcC1wYXRoKSIgZGF0YS1uYW1lPSLqt7jro7kgODU4MyI+PHBhdGggaWQ9Iu2MqOyKpF8zNTkwIiBmaWxsPSIjN2I3YjdiIiBkPSJNNS41IDEyYS41LjUgMCAwIDEtLjM3LS4xNjRsLTUtNS41YS41LjUgMCAwIDEgMC0uNjczbDUtNS41YS41LjUgMCAxIDEgLjc0LjY3M0wxLjE3NiA2bDQuNjk0IDUuMTY0QS41LjUgMCAwIDEgNS41IDEyIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTkwIi8+PC9nPjwvZz48L2c+PC9zdmc+)}.btn[type=icon][position=top].arrowdown_18,.btn[type=icon][position=top].arrowup_18{background-position:center top 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=top].arrowdown_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1NCIgZmlsbD0ibm9uZSIgZD0iTTAgMGg2djEySDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzU0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgaWQ9Ikljb25fYXJyb3dkb3duXzE4IiBkYXRhLW5hbWU9Ikljb24vYXJyb3dkb3duXzE4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTk3NiAtNTc3OSkiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzMzMyIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzMzMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTk3NiA1Nzc5KSIvPjxnIGlkPSLqt7jro7lfODU4NiIgZGF0YS1uYW1lPSLqt7jro7kgODU4NiIgdHJhbnNmb3JtPSJyb3RhdGUoLTkwIDU4ODUuNSAtOTMuNSkiPjxnIGlkPSLqt7jro7lfODU4MyIgY2xpcC1wYXRoPSJ1cmwoI2NsaXAtcGF0aCkiIGRhdGEtbmFtZT0i6re466O5IDg1ODMiPjxwYXRoIGlkPSLtjKjsiqRfMzU5MCIgZmlsbD0iIzdiN2I3YiIgZD0iTTUuNSAxMmEuNS41IDAgMCAxLS4zNy0uMTY0bC01LTUuNWEuNS41IDAgMCAxIDAtLjY3M2w1LTUuNWEuNS41IDAgMSAxIC43NC42NzNMMS4xNzYgNmw0LjY5NCA1LjE2NEEuNS41IDAgMCAxIDUuNSAxMiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU5MCIvPjwvZz48L2c+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=top].arrowleft_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1NCIgZmlsbD0ibm9uZSIgZD0iTTAgMGg2djEySDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzU0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgaWQ9Ikljb25fYXJyb3dsZWZ0XzE4IiBkYXRhLW5hbWU9Ikljb24vYXJyb3dsZWZ0XzE4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNjA1NCAtNTc3NikiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzMzNCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzMzNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjA1NCA1Nzc2KSIvPjxnIGlkPSLqt7jro7lfODU0MiIgZGF0YS1uYW1lPSLqt7jro7kgODU0MiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjA1NyA1Nzc5KSI+PGcgaWQ9Iuq3uOujuV84NTg1IiBkYXRhLW5hbWU9Iuq3uOujuSA4NTg1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyKSI+PGcgaWQ9Iuq3uOujuV84NTgzIiBjbGlwLXBhdGg9InVybCgjY2xpcC1wYXRoKSIgZGF0YS1uYW1lPSLqt7jro7kgODU4MyI+PHBhdGggaWQ9Iu2MqOyKpF8zNTkwIiBmaWxsPSIjN2I3YjdiIiBkPSJNNS41IDEyYS41LjUgMCAwIDEtLjM3LS4xNjRsLTUtNS41YS41LjUgMCAwIDEgMC0uNjczbDUtNS41YS41LjUgMCAxIDEgLjc0LjY3M0wxLjE3NiA2bDQuNjk0IDUuMTY0QS41LjUgMCAwIDEgNS41IDEyIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTkwIi8+PC9nPjwvZz48L2c+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=top].arrowleft_18,.btn[type=icon][position=top].arrowright_18{background-position:center top 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=top].arrowright_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1NCIgZmlsbD0ibm9uZSIgZD0iTTAgMGg2djEySDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzU0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgaWQ9Ikljb25fYXJyb3dyaWdodF8xOCIgZGF0YS1uYW1lPSJJY29uL2Fycm93cmlnaHRfMTgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02MDE4IC01Nzc2KSI+PHBhdGggaWQ9IuyCrOqwge2YlV8zMzM2IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDApIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzM2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2MDE4IDU3NzYpIi8+PGcgaWQ9Iuq3uOujuV84NTg0IiBkYXRhLW5hbWU9Iuq3uOujuSA4NTg0IiB0cmFuc2Zvcm09InJvdGF0ZSgxODAgMzAxNS41IDI4OTUuNSkiPjxnIGlkPSLqt7jro7lfODU4MyIgY2xpcC1wYXRoPSJ1cmwoI2NsaXAtcGF0aCkiIGRhdGEtbmFtZT0i6re466O5IDg1ODMiPjxwYXRoIGlkPSLtjKjsiqRfMzU5MCIgZmlsbD0iIzdiN2I3YiIgZD0iTTUuNSAxMmEuNS41IDAgMCAxLS4zNy0uMTY0bC01LTUuNWEuNS41IDAgMCAxIDAtLjY3M2w1LTUuNWEuNS41IDAgMSAxIC43NC42NzNMMS4xNzYgNmw0LjY5NCA1LjE2NEEuNS41IDAgMCAxIDUuNSAxMiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU5MCIvPjwvZz48L2c+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=top].search_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzMyNiIgZmlsbD0ibm9uZSIgZD0iTTAgMGgxNHYxNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzMyNiIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGlkPSJJY29uX3NlYXJjaF8xOCIgZGF0YS1uYW1lPSJJY29uL3NlYXJjaF8xOCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU5NTUgLTU4NjgpIj48cGF0aCBpZD0i7IKs6rCB7ZiVXzMzMzciIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMCkiIGQ9Ik0wIDBoMTh2MThIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDMzMzciIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU5NTUgNTg2OCkiLz48ZyBpZD0i6re466O5Xzg1NDAiIGRhdGEtbmFtZT0i6re466O5IDg1NDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU5NTcgNTg3MCkiPjxnIGlkPSLrp4jsiqTtgaxf6re466O5Xzg1MzkiIGNsaXAtcGF0aD0idXJsKCNjbGlwLXBhdGgpIiBkYXRhLW5hbWU9IuuniOyKpO2BrCDqt7jro7kgODUzOSI+PHBhdGggaWQ9Iu2MqOyKpF8zNTY1IiBmaWxsPSIjN2I3YjdiIiBkPSJtMTMuODU0IDEzLjE0Ni0zLjI3NS0zLjI3NGE2LjAwOCA2LjAwOCAwIDEgMC0uNzA3LjcwN2wzLjI3NCAzLjI3NWEuNS41IDAgMCAwIC43MDgtLjcwOE02IDExYTUgNSAwIDEgMSA1LTUgNS4wMDYgNS4wMDYgMCAwIDEtNSA1IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTY1Ii8+PC9nPjwvZz48L2c+PC9zdmc+)}.btn[type=icon][position=top].search_18,.btn[type=icon][position=top].trashcan_18{background-position:center top 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=top].trashcan_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1MyIgZmlsbD0ibm9uZSIgZD0iTTAgMGgxNnYxNkgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzM1MyIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGlkPSJJY29uX3RyYXNoY2FuXzE4IiBkYXRhLW5hbWU9Ikljb24vdHJhc2hjYW5fMTgiIHN0eWxlPSJtaXgtYmxlbmQtbW9kZTpub3JtYWw7aXNvbGF0aW9uOmlzb2xhdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01OTgzIC01ODcxKSI+PGcgaWQ9Iuq3uOujuV84NTc3IiBkYXRhLW5hbWU9Iuq3uOujuSA4NTc3IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzMgMjApIj48ZyBpZD0i6re466O5Xzg1NTkiIGRhdGEtbmFtZT0i6re466O5IDg1NTkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0IC0xNikiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzMzNSIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzMzNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTk5MiA1ODY3KSIvPjwvZz48L2c+PGcgaWQ9Iuq3uOujuV84NTgwIiBkYXRhLW5hbWU9Iuq3uOujuSA4NTgwIiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6bm9ybWFsO2lzb2xhdGlvbjppc29sYXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1OTg0IDU4NzIpIj48ZyBpZD0i6re466O5Xzg1NzkiIGZpbGw9IiM3YjdiN2IiIGNsaXAtcGF0aD0idXJsKCNjbGlwLXBhdGgpIiBkYXRhLW5hbWU9Iuq3uOujuSA4NTc5Ij48cGF0aCBpZD0i7Yyo7IqkXzM1ODUiIGQ9Ik0xNS41IDJIMTFWLjVhLjUuNSAwIDAgMC0uNS0uNWgtNWEuNS41IDAgMCAwLS41LjVWMkguNWEuNS41IDAgMCAwIDAgMUgydjEyYTEgMSAwIDAgMCAxIDFoMTBhMSAxIDAgMCAwIDEtMVYzaDEuNWEuNS41IDAgMCAwIDAtMU02IDFoNHYxSDZabTcgMTRIM1YzaDEwWiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU4NSIvPjxwYXRoIGlkPSLtjKjsiqRfMzU4NiIgZD0iTTUuNSAxMmEuNS41IDAgMCAwIC41LS41di01YS41LjUgMCAwIDAtMSAwdjVhLjUuNSAwIDAgMCAuNS41IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTg2Ii8+PHBhdGggaWQ9Iu2MqOyKpF8zNTg3IiBkPSJNMTAuNSAxMmEuNS41IDAgMCAwIC41LS41di01YS41LjUgMCAwIDAtMSAwdjVhLjUuNSAwIDAgMCAuNS41IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTg3Ii8+PHBhdGggaWQ9Iu2MqOyKpF8zNTg4IiBkPSJNOCAxMmEuNS41IDAgMCAwIC41LS41di01YS41LjUgMCAwIDAtMSAwdjVhLjUuNSAwIDAgMCAuNS41IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTg4Ii8+PC9nPjwvZz48L2c+PC9zdmc+)}.btn[type=icon][position=top].setting_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM0NiIgZmlsbD0ibm9uZSIgZD0iTTAgMGgxNnYxNkgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzM0NiIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGlkPSJJY29uX3NldHRpbmVfMTgiIGRhdGEtbmFtZT0iSWNvbi9zZXR0aW5lXzE4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNjAyNSAtNTg2NykiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM0NyIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzM0NyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjAyNSA1ODY3KSIvPjxnIGlkPSLqt7jro7lfODU1NiIgZGF0YS1uYW1lPSLqt7jro7kgODU1NiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjAyNiA1ODY4KSI+PGcgaWQ9Iuq3uOujuV84NTU1IiBmaWxsPSIjN2I3YjdiIiBjbGlwLXBhdGg9InVybCgjY2xpcC1wYXRoKSIgZGF0YS1uYW1lPSLqt7jro7kgODU1NSI+PHBhdGggaWQ9Iu2MqOyKpF8zNTcwIiBkPSJNMTQuMjkyIDguNDM5Yy4wMTEtLjE0Ny4wMjItLjI5Mi4wMTktLjQ0M3MtLjAwOC0uMy0uMDE5LS40NDVsMS4zMzUtMS4wMmEuOTkzLjk5MyAwIDAgMCAuMjQ0LTEuMjY3TDE0LjM0NiAyLjdhMS4wMDggMS4wMDggMCAwIDAtMS4yMTUtLjQwOWwtMS41NzYuNjE2YTYuMTMxIDYuMTMxIDAgMCAwLS44MDctLjQ2MUwxMC41Ljc4OEExLjAxIDEuMDEgMCAwIDAgOS41MTkgMEg2LjQ3NmExLjAyMyAxLjAyMyAwIDAgMC0uOTg2Ljg0NWwtLjIzMyAxLjYxN2E2LjM2MiA2LjM2MiAwIDAgMC0uOC40NTFMMi44NjcgMi4zYTEgMSAwIDAgMC0xLjIxLjQyTC4xMzIgNS4yNzNhLjk5My45OTMgMCAwIDAgLjI0NiAxLjI3NWwxLjMyOCAxLjAxNWEzLjE1MiAzLjE1MiAwIDAgMC0uMDIxLjQ0NmMwIC4xNS4wMDkuMy4wMjEuNDQ1TC4zNzIgOS40NzdhLjk4NC45ODQgMCAwIDAtLjIzNSAxLjI2M2wxLjUxOSAyLjU2YTEuMDA5IDEuMDA5IDAgMCAwIDEuMjEzLjRsMS41NzctLjYxNWE2LjY4MiA2LjY4MiAwIDAgMCAuOC40NmwuMjQ2IDEuNjZhMS4wMTIgMS4wMTIgMCAwIDAgLjk5Ljc5NWgzLjA0YTEuMDI3IDEuMDI3IDAgMCAwIC45ODUtLjg0NGwuMjMzLTEuNjE4YTYuMyA2LjMgMCAwIDAgLjgtLjQ1bDEuNTg2LjYxNWEuOTk0Ljk5NCAwIDAgMCAuMzQ5LjA2MyAxLjAxNiAxLjAxNiAwIDAgMCAuODY0LS40ODJsMS41MjItMi41NTdhMSAxIDAgMCAwLS4yNDYtMS4yNzZabS0uOCA0LjMzMi0xLjU5Mi0uNjE1LS40ODItLjE4Ny0uNDMyLjI4NWE1LjIgNS4yIDAgMCAxLS42NzYuMzc5bC0uNDg3LjIyOS0uMDc3LjUzNEw5LjUyMSAxNWwtMy4wNDYtLjAwOUw2LjI0IDEzLjRsLS4wNzctLjUyNC0uNDc4LS4yM0E1LjYwOCA1LjYwOCAwIDAgMSA1IDEyLjI2MWwtLjQzNC0uMjkxLS40ODYuMTktMS41NjcuNjMyLTEuNTM0LTIuNTIxIDEuMzM0LTEuMDIzLjQzMS0uMzI5LS4wNDQtLjU0YTQuOTg2IDQuOTg2IDAgMCAxLS4wMTctLjM3IDIuMjA2IDIuMjA2IDAgMCAxIC4wMS0uM2wuMDg0LS41NzktLjQ2Ni0uMzU2LTEuMzItLjk4OEwyLjUwNiAzLjIzbDEuNTg2LjYxNi40ODIuMTg3LjQzMy0uMjg2YTUuMzIyIDUuMzIyIDAgMCAxIC42NzYtLjM4bC40ODgtLjIzLjA3Ni0uNTM3LjIyOS0xLjZoMy4wNDNsLjI0MSAxLjYuMDc3LjUyNy40ODIuMjI5YTUuMzI4IDUuMzI4IDAgMCAxIC42ODEuMzgybC40MzQuMjkzLjQ4OC0uMTkxIDEuNTY4LS42MjcgMS41MzMgMi41MjMtMS4zMzQgMS4wMi0uNDMuMzI5LjA0LjUzOWMuMDA5LjEzLjAxNS4yNTguMDE4LjM4OXMtLjAwOS4yMjgtLjAxOC4zNTJsLS4wNDEuNTQxLjQzMS4zMjggMS4zMTEuOTgxWiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU3MCIvPjxwYXRoIGlkPSLtjKjsiqRfMzU3MSIgZD0iTTggNWEzIDMgMCAxIDAgMyAzIDMgMyAwIDAgMC0zLTNtMCA1YTIgMiAwIDEgMSAyLTIgMiAyIDAgMCAxLTIgMiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU3MSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLS4wMDIpIi8+PC9nPjwvZz48L2c+PC9zdmc+)}.btn[type=icon][position=top].attach,.btn[type=icon][position=top].setting_18{background-position:center top 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=top].attach{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY3OCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTY3Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3Njc3Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMTAuNSAxLjVBMy41IDMuNSAwIDAgMCA3IDV2Ni41YTIgMiAwIDAgMCA0IDB2LTZoLTF2NmExIDEgMCAwIDEtMiAwVjVhMi41IDIuNSAwIDAgMSA1IDB2Ni41YTQgNCAwIDAgMS04IDB2LThINHY4YTUgNSAwIDAgMCAxMCAwVjVhMy41IDMuNSAwIDAgMC0zLjUtMy41IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTE5Ii8+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=top].search-document{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY3MCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTYzIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzY2NyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NjY2Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMTMuMzc0IDE3SDMuNjI2QTEuNjE1IDEuNjE1IDAgMCAxIDIgMTUuNFYyLjZBMS42MTUgMS42MTUgMCAwIDEgMy42MjYgMWg3LjkyYzEuMDc1IDEuMDU5IDEuMyAxLjI3MSAxLjU0MSAxLjUuMjYzLjI0OC41MzYuNSAxLjkxNCAxLjg2MVY2LjVIMTRWNC43NzdjLTEuMDctMS4wNTUtMS4zMzUtMS4zLTEuNTY5LTEuNTI1bC0uMDMtLjAyOVExMS43NiAyLjYyIDExLjEzNSAySDMuNjI2QS42MTMuNjEzIDAgMCAwIDMgMi42djEyLjhhLjYxNC42MTQgMCAwIDAgLjYyNS42aDkuNzQ5YS42MTQuNjE0IDAgMCAwIC42MjYtLjZ2LS45aDF2LjlhMS42MTUgMS42MTUgMCAwIDEtMS42MjYgMS42IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTA4Ii8+PHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjN2I3YjdiIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE0IDVoLTIuMzA5QS42MzQuNjM0IDAgMCAxIDExIDQuNDI4YS41NzIuNTcyIDAgMCAxIDAtLjExN1YyIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTA5Ii8+PHBhdGggZmlsbD0iIzdiN2I3YiIgZD0iTTUuNSA3aDRhLjUuNSAwIDAgMSAwIDFoLTRhLjUuNSAwIDAgMSAwLTEiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MTAiLz48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNNS41IDloM2EuNS41IDAgMCAxIDAgMWgtM2EuNS41IDAgMCAxIDAtMSIgZGF0YS1uYW1lPSLtjKjsiqQgMzUxMSIvPjxwYXRoIGZpbGw9IiM3YjdiN2IiIGQ9Ik01LjUgMTFoM2EuNS41IDAgMCAxIDAgMWgtM2EuNS41IDAgMCAxIDAtMSIgZGF0YS1uYW1lPSLtjKjsiqQgMzUxMiIvPjwvZz48L2c+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzY2OSI+PGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjN2I3YjdiIiBjbGlwLXBhdGg9InVybCgjYSkiIGRhdGEtbmFtZT0i6re466O5IDc2NjgiPjxwYXRoIGQ9Ik0xMS4zMjggOC40MTRhMyAzIDAgMSAxIDAgNC4yNDMgMyAzIDAgMCAxIDAtNC4yNDNaIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTEzIi8+PHBhdGggc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJtMTUuNDUgMTIuOTQ5IDEuNzY4IDEuNzY4IiBkYXRhLW5hbWU9IuyEoCA0NzEiLz48L2c+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=top].calendar,.btn[type=icon][position=top].search-document{background-position:center top 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=top].calendar{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTc0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgZmlsbD0iIzdiN2I3YiIgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NjgyIj48cGF0aCBkPSJNMTUgM2gtMVYyaC0ydjFINlYySDR2MUgzYTEgMSAwIDAgMC0xIDF2MTFhMSAxIDAgMCAwIDEgMWgxMmExIDEgMCAwIDAgMS0xVjRhMSAxIDAgMCAwLTEtMW0wIDEySDNWNmgxMloiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MjAiLz48cGF0aCBkPSJNNSA4aDJ2Mkg1eiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzE2OCIvPjxwYXRoIGQ9Ik04IDhoMnYySDh6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTY5Ii8+PHBhdGggZD0iTTExIDhoMnYyaC0yeiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzE3MCIvPjxwYXRoIGQ9Ik01IDExaDJ2Mkg1eiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzE3MSIvPjxwYXRoIGQ9Ik04IDExaDJ2Mkg4eiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzE3MiIvPjxwYXRoIGQ9Ik0xMSAxMWgydjJoLTJ6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTczIi8+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=top].document{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY4NiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTc4Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3Njg1Ij48cGF0aCBmaWxsPSIjNzc3IiBkPSJNNC41IDNhLjQ2NS40NjUgMCAwIDAtLjUuNHYxMS4yYS40NjUuNDY1IDAgMCAwIC41LjRoOWEuNDY1LjQ2NSAwIDAgMCAuNS0uNFY1LjM3MnEtLjcwOC0uNjY4LTEuNDMzLTEuMzE3LS41ODItLjUyLTEuMTUtMS4wNTVabTAtMWg3LjMxYzIuMDUxIDEuOTE0Ljc1OC42NjggMy4xOSAyLjkzOFYxNC42YTEuNDUzIDEuNDUzIDAgMCAxLTEuNSAxLjRoLTlBMS40NTMgMS40NTMgMCAwIDEgMyAxNC42VjMuNEExLjQ1MyAxLjQ1MyAwIDAgMSA0LjUgMiIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyMSIvPjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzc3NyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xNCA1LjVoLTEuOTI0YS41MjkuNTI5IDAgMCAxLS41NzYtLjQ3OC41MTMuNTEzIDAgMCAxIDAtLjFWMyIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyMiIvPjxwYXRoIGZpbGw9IiNhNmE2YTYiIGQ9Ik02IDhoNnYxSDZ6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTc1Ii8+PHBhdGggZmlsbD0iI2E2YTZhNiIgZD0iTTYgMTBoNnYxSDZ6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTc2Ii8+PHBhdGggZmlsbD0iI2E2YTZhNiIgZD0iTTYgMTJoNnYxSDZ6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTc3Ii8+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=top].document,.btn[type=icon][position=top].note{background-position:center top 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=top].note{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzY4OSI+PHBhdGggZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzE3OSIvPjxwYXRoIGZpbGw9IiM3YjdiN2IiIGQ9Ik0xNSAxNkgzYTEgMSAwIDAgMS0xLTFWM2ExIDEgMCAwIDEgMS0xaDEyYTEgMSAwIDAgMSAxIDF2MTJhMSAxIDAgMCAxLTEgMU0zIDE1aDEyVjVIM1oiIGRhdGEtbmFtZT0i7Yyo7IqkIDM0OTkiLz48L2c+PC9zdmc+)}.btn[type=icon][position=top].reset{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY5MiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTgwIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NjkxIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMTYuMzU0IDlhNy41IDcuNSAwIDAgMS0xMy4xIDQuOTg4LjUuNSAwIDEgMSAuNzQ2LS42NjJBNi40ODcgNi40ODcgMCAxIDAgMy41NjUgNS4yaDEuNTgxYS41LjUgMCAwIDEgMCAxaC0zYS41LjUgMCAwIDEtLjUtLjV2LTNhLjUuNSAwIDEgMSAxIDB2Mi4xMzJBNy40ODIgNy40ODIgMCAwIDEgMTYuMzU0IDkiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MjMiLz48L2c+PC9zdmc+)}.btn[type=icon][position=top].refresh,.btn[type=icon][position=top].reset{background-position:center top 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=top].refresh{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY5MiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTgwIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NjkxIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMS42NDYgOWE3LjUgNy41IDAgMCAwIDEzLjEgNC45ODguNS41IDAgMSAwLS43NDYtLjY2MiA2LjQ4NyA2LjQ4NyAwIDEgMSAuNDM1LTguMTI2aC0xLjU4MWEuNS41IDAgMCAwIDAgMWgzYS41LjUgMCAwIDAgLjUtLjV2LTNhLjUuNSAwIDAgMC0xIDB2Mi4xMzJBNy40ODIgNy40ODIgMCAwIDAgMS42NDYgOSIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyMyIvPjwvZz48L3N2Zz4=)}.btn[type=icon][position=top].download{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcwNSI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzA0Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMi41MzggMTZBLjUzOS41MzkgMCAwIDEgMiAxNS40NjJ2LTMuMjMxYS41MzguNTM4IDAgMSAxIDEuMDc3IDB2Mi42OTJoMTEuODQ2di0yLjY5MmEuNTM4LjUzOCAwIDEgMSAxLjA3NyAwdjMuMjMxYS41MzkuNTM5IDAgMCAxLS41MzguNTM4Wm02LjEyMi00Ljk2N0w0Ljg1MiA3LjIyN2EuNTM4LjUzOCAwIDAgMSAuNzU5LS43NjRMOC40NiA5LjMxMlYyLjUzOGEuNTM4LjUzOCAwIDEgMSAxLjA3NyAwdjYuODUzbDIuOTI4LTIuOTI2YS41NC41NCAwIDEgMSAuNzYyLjc2NEw5LjQyIDExLjAzNGEuNTM0LjUzNCAwIDAgMS0uNzYgMCIgZGF0YS1uYW1lPSLtjKjsiqQgMzUzNCIvPjwvZz48L3N2Zz4=)}.btn[type=icon][position=top].download,.btn[type=icon][position=top].excel-save{background-position:center top 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=top].excel-save{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY5OSI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTgyIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3Njk4Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMyAxOGExIDEgMCAwIDEtMS0xdi0xLjg1OEwxIDE1YTEgMSAwIDAgMS0xLTFWNWExIDEgMCAwIDEgMS0xbDEtLjE0MlYyYTEgMSAwIDAgMSAxLTFoOXYxaDF2MWgxdjFoMXYxaC0xVjRoLTFWM2gtMVYySDN2MS43MTRMOCAzYTEgMSAwIDAgMSAxIDF2MTFhMSAxIDAgMCAxLTEgMWwtNS0uNzE2VjE3aDEyYTEgMSAwIDAgMS0xIDFabTEuNS02LjkwNy43NjMgMS4yMDdINy4zTDUuNDg2IDkuNTM4IDcuMyA2LjY5NEg1LjM3N0w0LjUgOC4wMzZsLS44OC0xLjM0MkgxLjdsMS44MSAyLjg0Ny0xLjgxIDIuNzY0IDIuMDMxLS4wMDUuNzY5LTEuMjA2Wm0xMC4wMDYgMy45MjdoLS4wMjVhLjUxNS41MTUgMCAwIDEtLjM1OC0uMTQ4bC0yLjk4OC0yLjk5M2EuNTA4LjUwOCAwIDAgMSAwLS43MTUuNS41IDAgMCAxIC43MDctLjAwNmwuMDA2LjAwNkwxNCAxMy4zMTZWNy41YS41LjUgMCAwIDEgMSAwdjUuODI3bDIuMTMyLTIuMTM1YS41LjUgMCAwIDEgLjcwOC43MWwtMi45NjkgMi45NjhhLjQ5My40OTMgMCAwIDEtLjM1Ny4xNDlaIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTMyIi8+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=top].excel-upload{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcwMSI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTgzIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzAwIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMyAxOGExIDEgMCAwIDEtMS0xdi0xLjg1N0wxIDE1YTEgMSAwIDAgMS0xLTFWNWExIDEgMCAwIDEgMS0xbDEtLjE0M1YyYTEgMSAwIDAgMSAxLTFoOXYxaDF2MWgxdjFoMXYxaC0xVjRoLTFWM2gtMVYySDN2MS43MTNMOCAzYTEgMSAwIDAgMSAxIDF2MTFhMSAxIDAgMCAxLTEgMWwtNS0uNzE0VjE3aDEyYTEgMSAwIDAgMS0xIDFabTEuNS02LjkwNi43NjUgMS4yTDcuMyAxMi4zIDUuNDg3IDkuNTM1IDcuMyA2LjY4OEg1LjM4TDQuNSA4LjAzMWwtLjg4LTEuMzQzSDEuN2wxLjgxIDIuODQ3TDEuNyAxMi4zbDIuMDM3LS4wMDUuNzY1LTEuMlpNMTQgMTQuNVY4LjcxbC0yLjE0NyAyLjE0NmEuNTA1LjUwNSAwIDAgMS0uNzE1LS43MTRsMi45ODgtMi45ODFhLjUwOC41MDggMCAwIDEgLjM4Mi0uMTQ2LjUuNSAwIDAgMSAuMzY4LjE0NmwyLjk2NCAyLjk1OGEuNS41IDAgMCAxLS43MDcuN0wxNSA4Ljd2NS44YS41LjUgMCAwIDEtMSAwWiIgZGF0YS1uYW1lPSLtjKjsiqQgMzUzMyIvPjwvZz48L3N2Zz4=)}.btn[type=icon][position=top].edit,.btn[type=icon][position=top].excel-upload{background-position:center top 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=top].edit{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcxNiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg5Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzE1Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMTUuNDYyIDE1Ljk4M0gyLjUzOGEuNTM4LjUzOCAwIDEgMSAwLTEuMDc2aDEyLjkyNGEuNTM4LjUzOCAwIDEgMSAwIDEuMDc2TTEyLjYzMSA1LjM2NmwtMi4xNTMtMi4xNTJMMTEuNjkyIDJhMS45MDkgMS45MDkgMCAwIDEgMi4xNTQgMi4xNTFabS04LjQ3NyA4LjQ2Nkgydi0yLjE1MWw3LjcxNi03LjcwNiAyLjE1NCAyLjE1MVoiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1NDAiLz48L2c+PC9zdmc+)}.btn[type=icon][position=top].maximize{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcwOCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg1Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgZmlsbD0iIzcwNzA3MCIgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzA3Ij48cGF0aCBkPSJNMTUuNSAyaC4wMjRhLjUuNSAwIDAgMSAuNDI5LjI4OWwuMDA5LjAydi4wMjFhLjUuNSAwIDAgMSAuMDM4LjJWNi41YS41LjUgMCAwIDEtMSAwVjMuNzA3bC00LjY0NiA0LjY0NmEuNS41IDAgMCAxLS43MDktLjdMMTQuMjkyIDNIMTEuNWEuNS41IDAgMCAxIDAtMVoiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MzUiLz48cGF0aCBkPSJNOC4zNTUgOS42NDZhLjUuNSAwIDAgMSAwIC43MDdMMy43MDggMTVINi41YS41LjUgMCAwIDEgMCAxSDIuNTNhLjUuNSAwIDAgMS0uMi0uMDI5aC0uMDJsLS4wMTgtLjAxN2EuNS41IDAgMCAxLS4yNDUtLjI0NC4wMTguMDE4IDAgMCAwLS4wMDctLjAxN2MtLjAwNy0uMDA2IDAtLjAwOSAwLS4wMTR2LS4wMDZhLjQ4Ny40ODcgMCAwIDEtLjAzLS4yVjExLjVhLjUuNSAwIDAgMSAxIDB2Mi43OTJsNC42MzktNC42NDZhLjUuNSAwIDAgMSAuNzA2IDAiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MzYiLz48L2c+PC9zdmc+)}.btn[type=icon][position=top].add,.btn[type=icon][position=top].maximize{background-position:center top 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=top].add{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcxMiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg3Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzExIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNOC41IDE1VjkuNUgzYS41LjUgMCAwIDEgMC0xaDUuNVYzYS41LjUgMCAwIDEgMSAwdjUuNUgxNWEuNS41IDAgMCAxIDAgMUg5LjVWMTVhLjUuNSAwIDAgMS0xIDAiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MzgiLz48L2c+PC9zdmc+)}.btn[type=icon][position=top].minus{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcxNCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg4Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzEzIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMyA4aDEyYS41LjUgMCAwIDEgMCAxSDNhLjUuNSAwIDAgMSAwLTEiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MzkiLz48L2c+PC9zdmc+)}.btn[type=icon][position=top].close,.btn[type=icon][position=top].minus{background-position:center top 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=top].close{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcxMiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg3Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzExIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJtMy40MDQgMTMuODg5IDQuODg5LTQuODktNC44ODktNC44ODhhLjUuNSAwIDEgMSAuNzA3LS43MDdMOSA4LjI5M2w0Ljg4OS00Ljg5YS41LjUgMCAxIDEgLjcwNy43MDhMOS43MDcgOWw0Ljg4OSA0Ljg4OWEuNS41IDAgMSAxLS43MDcuNzA3TDkgOS43MDdsLTQuODg5IDQuODg5YS41LjUgMCAxIDEtLjcwNy0uNzA3IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTM4Ii8+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=top].view-list{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcxMCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg2Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzA5Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMyAxMy41YS41LjUgMCAwIDEgMC0xaDEyYS41LjUgMCAwIDEgMCAxWm0wLTRhLjUuNSAwIDAgMSAwLTFoMTJhLjUuNSAwIDAgMSAwIDFabTAtNGEuNS41IDAgMCAxIDAtMWgxMmEuNS41IDAgMCAxIDAgMVoiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MzciLz48L2c+PC9zdmc+)}.btn[type=icon][position=top].print,.btn[type=icon][position=top].view-list{background-position:center top 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=top].print{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzcyOCI+PHBhdGggZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzIwMCIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMTA4IC0xMTMpIj48ZyBmaWxsPSJub25lIiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzODYyIj48cGF0aCBkPSJNMTExMyAxMTRoOGExIDEgMCAwIDEgMSAxdjRoLTEwdi00YTEgMSAwIDAgMSAxLTFaIiBkYXRhLW5hbWU9Iu2MqOyKpCAyOTkzIi8+PHBhdGggc3Ryb2tlPSIjN2I3YjdiIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xMTEzIDExNC41aDhhLjUuNSAwIDAgMSAuNS41djMuNWgtOVYxMTVhLjUuNSAwIDAgMSAuNS0uNVoiIGRhdGEtbmFtZT0i7Yyo7IqkIDI5OTQiLz48L2c+PHBhdGggZmlsbD0iIzdiN2I3YiIgZD0iTTExMTMgMTI2aC0zYTEgMSAwIDAgMS0xLTF2LTZhMSAxIDAgMCAxIDEtMWgxNGExIDEgMCAwIDEgMSAxdjZhMSAxIDAgMCAxLTEgMWgtMnYtMWgydi02aC0xNHY2aDNaIiBkYXRhLW5hbWU9Iuu5vOq4sCAxODEiLz48ZyBmaWxsPSJub25lIiBzdHJva2U9IiM3YjdiN2IiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzg2NCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTExMiAxMjMpIj48cmVjdCB3aWR0aD0iMTAiIGhlaWdodD0iNyIgc3Ryb2tlPSJub25lIiByeD0iMSIvPjxyZWN0IHdpZHRoPSI5IiBoZWlnaHQ9IjYiIHg9Ii41IiB5PSIuNSIgcng9Ii41Ii8+PC9nPjxyZWN0IHdpZHRoPSI2IiBoZWlnaHQ9IjEiIGZpbGw9IiM3YjdiN2IiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDM4NjUiIHJ4PSIuNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTExNCAxMjUpIi8+PHJlY3Qgd2lkdGg9IjYiIGhlaWdodD0iMSIgZmlsbD0iIzdiN2I3YiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzg2NiIgcng9Ii41IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTE0IDEyNykiLz48Y2lyY2xlIGN4PSIuNSIgY3k9Ii41IiByPSIuNSIgZmlsbD0iIzdiN2I3YiIgZGF0YS1uYW1lPSLtg4Dsm5AgNjkwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTIwIDEyMCkiLz48Y2lyY2xlIGN4PSIuNSIgY3k9Ii41IiByPSIuNSIgZmlsbD0iIzdiN2I3YiIgZGF0YS1uYW1lPSLtg4Dsm5AgNjkxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTIyIDEyMCkiLz48L2c+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=top].filter{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzczMCI+PHBhdGggZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzIwMCIvPjxnIGRhdGEtbmFtZT0i6re466O5IDU1MjAxIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM3YjdiN2IiIGQ9Ik03Ljc3MSAxNS45MjdhLjUxMi41MTIgMCAwIDEtLjI0My0uNDM2VjEwLjFMMi45NDUgNC45MTdhMS44MzEgMS44MzEgMCAwIDEtLjQ0My0xLjI5NXYtLjQ1NUExLjE3NCAxLjE3NCAwIDAgMSAzLjY4NCAyaDEwLjYzMmExLjE3NCAxLjE3NCAwIDAgMSAxLjE4MSAxLjE2N3YuNDU1YTEuODMzIDEuODMzIDAgMCAxLS40NDEgMS4zbC00LjYwNyA1LjIwMXY0LjA4M2EuNTEuNTEgMCAwIDEtLjIyOC40MzFsLTEuOTQ4IDEuMjgyYS40NjQuNDY0IDAgMCAxLS4yNTcuMDgxLjUuNSAwIDAgMS0uMjQ1LS4wNzRaIiBkYXRhLW5hbWU9Iu2Vqey5mOq4sCAxMTYxIi8+PHBhdGggZmlsbD0iIzdiN2I3YiIgZD0iTTcuNDk4IDkuMjczaDN2MWgtM1oiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDI5MTUzIi8+PC9nPjwvZz48L3N2Zz4=)}.btn[type=icon][position=top].filter,.btn[type=icon][position=top].graph{background-position:center top 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=top].graph{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzczMSI+PHBhdGggZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzIwMSIvPjxnIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzdiN2I3YiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48cGF0aCBkPSJtNC43MzkgMTAuNzY1IDMuODctMy44OTMgMy4wOTcgMy4xMTQgMy44NjgtMy44OTIiIGRhdGEtbmFtZT0i7Yyo7IqkIDU1NDk5Ii8+PHBhdGggZD0iTTEzLjI2NCA1LjY4NEgxNlY4LjQyIiBkYXRhLW5hbWU9Iu2MqOyKpCA1NTUwMCIvPjxwYXRoIGQ9Ik0yIDMuNTF2MTEuNTg3aDE0IiBkYXRhLW5hbWU9Iu2MqOyKpCA1NTUwMSIvPjwvZz48L2c+PC9zdmc+)}.btn[type=icon][position=top].save{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGcgZmlsbD0ibm9uZSIgZGF0YS1uYW1lPSLqt7jro7kgNzczNCI+PHBhdGggZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzAwMyIvPjxnIGRhdGEtbmFtZT0i6re466O5IDc3MzUiPjxwYXRoIHN0cm9rZT0iIzcwNzA3MCIgZD0iTTQuNzkyIDIuNzMydjMuMmg3LjA3NnYtMy4yIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTQxIi8+PGcgZGF0YS1uYW1lPSLtjKjsiqQgMzU0MiI+PHBhdGggZD0iTTEyLjMxMyAySDJ2MTRoMTRWNS44NjdaIi8+PHBhdGggZmlsbD0iIzcwNzA3MCIgZD0iTTMgM3YxMmgxMlY2LjI2N0wxMS44ODUgM0gzTTIgMmgxMC4zMTNMMTYgNS44NjdWMTZIMlYyWiIvPjwvZz48ZyBzdHJva2U9IiM3MDcwNzAiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDMyMDIiPjxwYXRoIHN0cm9rZT0ibm9uZSIgZD0iTTQuMzY4IDExaDl2NWgtOXoiLz48cGF0aCBkPSJNNC44NjggMTEuNWg4djRoLTh6Ii8+PC9nPjwvZz48L2c+PC9zdmc+)}.btn[type=icon][position=top].save,.btn[type=icon][position=top].selective{background-position:center top 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=top].selective{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY5NSI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTgxIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgZmlsbD0iIzdiN2I3YiIgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3Njk0Ij48cGF0aCBkPSJNMTAuOCAxNC42NjdIMi41MzVhLjUuNSAwIDEgMSAwLTFIMTAuOGEuNS41IDAgMCAxIDAgMSIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyNCIvPjxwYXRoIGQ9Ik0xNS4yMzQgMTQuNjY3SDEzLjlhLjUuNSAwIDAgMSAwLTFoMS4zMzNhLjUuNSAwIDAgMSAwIDEiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MjUiLz48cGF0aCBkPSJNMTIuNTY4IDE2YTEuODMzIDEuODMzIDAgMSAxIDEuODMyLTEuODMzQTEuODMzIDEuODMzIDAgMCAxIDEyLjU2OCAxNm0wLTIuNjY3YS44MzMuODMzIDAgMSAwIC44MzMuODM0LjgzMy44MzMgMCAwIDAtLjgzMy0uODM0IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTI2Ii8+PHBhdGggZD0iTTQuMzY4IDkuMkgyLjVhLjUuNSAwIDAgMSAwLTFoMS44NjhhLjUuNSAwIDAgMSAwIDEiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MjciLz48cGF0aCBkPSJNMTUuMiA5LjJINy40NjZhLjUuNSAwIDAgMSAwLTFIMTUuMmEuNS41IDAgMSAxIDAgMSIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyOCIvPjxwYXRoIGQ9Ik01LjcgMTAuNTI5YTEuODMzIDEuODMzIDAgMSAxIDEuODM0LTEuODM0QTEuODMzIDEuODMzIDAgMCAxIDUuNyAxMC41MjltMC0yLjY2N2EuODMzLjgzMyAwIDEgMCAuODMzLjgzMy44MzMuODMzIDAgMCAwLS44MzMtLjgzMyIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyOSIvPjxwYXRoIGQ9Ik0xMi41NDUgNC4zMzNIMi41MzdhLjUuNSAwIDAgMSAwLTFoMTAuMDA4YS41LjUgMCAwIDEgMCAxIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTMwIi8+PHBhdGggZD0iTTE0LjE2OCA1LjY2NkExLjgzMyAxLjgzMyAwIDEgMSAxNiAzLjgzM2ExLjgzMyAxLjgzMyAwIDAgMS0xLjgzMyAxLjgzM20wLTIuNjY2YS44MzMuODMzIDAgMSAwIC44MzMuODMzLjgzMy44MzMgMCAwIDAtLjgzMi0uODMzIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTMxIi8+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=bottom]>.icon-default{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLWRlZmF1bHQiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGcgaWQ9Iuq3uOujuV80MjU3IiBkYXRhLW5hbWU9Iuq3uOujuSA0MjU3Ij48cGF0aCBpZD0i7IKs6rCB7ZiVXzIxOTAiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMTMuNzA0djEzLjcwNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMjE5MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAuMjk2KSIvPjxwYXRoIGlkPSLtjKjsiqRfMzA0OSIgZmlsbD0iIzlkYTNhYSIgZD0iTTcgMGE3IDcgMCAxIDEtNyA3IDcgNyAwIDAgMSA3LTciIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNDkiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNTAiIGZpbGw9IiNmZmYiIGQ9Ik0xMS4yODYgNS4xNTVhLjc0NS43NDUgMCAwIDAtMS4wODMgMEw2LjUzMiA4Ljk3IDUuMjU1IDcuNjQzYS43NDYuNzQ2IDAgMCAwLTEuMDgzLjAxMi44MTcuODE3IDAgMCAwIDAgMS4xMTRsMS44MDYgMS44NzYuMDA4LjAxM2EuNzU0Ljc1NCAwIDAgMCAxLjA4OCAwbC4wMDktLjAxMyA0LjItNC4zNjdhLjgxOS44MTkgMCAwIDAgLjAwMy0xLjEyM1oiIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0uNDIxIC0uNjgpIi8+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkxIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48L2c+PC9zdmc+);background-position:center bottom 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666;height:100%}.btn[type=icon][position=bottom]>.icon-default.icon-over{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLW92ZXIiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGcgaWQ9Iuq3uOujuV80MjU3IiBkYXRhLW5hbWU9Iuq3uOujuSA0MjU3Ij48cGF0aCBpZD0i7IKs6rCB7ZiVXzIxOTAiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMTMuNzA0djEzLjcwNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMjE5MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAuMjk2KSIvPjxwYXRoIGlkPSLtjKjsiqRfMzA0OSIgZmlsbD0iIzAwNzllOCIgZD0iTTcgMGE3IDcgMCAxIDEtNyA3IDcgNyAwIDAgMSA3LTciIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNDkiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNTAiIGZpbGw9IiNmZmYiIGQ9Ik0xMS4yODYgNS4xNTVhLjc0NS43NDUgMCAwIDAtMS4wODMgMEw2LjUzMiA4Ljk3IDUuMjU1IDcuNjQzYS43NDYuNzQ2IDAgMCAwLTEuMDgzLjAxMi44MTcuODE3IDAgMCAwIDAgMS4xMTRsMS44MDYgMS44NzYuMDA4LjAxM2EuNzU0Ljc1NCAwIDAgMCAxLjA4OCAwbC4wMDktLjAxMyA0LjItNC4zNjdhLjgxOS44MTkgMCAwIDAgLjAwMy0xLjEyM1oiIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0uNDIxIC0uNjgpIi8+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkxIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48L2c+PC9zdmc+);background-position:center bottom 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #0079e8;color:#0079e8;height:100%;outline:0}.btn[type=icon][position=bottom]>.icon-default.icon-click{background-color:#f5f5f5;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLWNsaWNrIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiPjxzY3JpcHQ+KAogICAgICAgICAgICBmdW5jdGlvbiBob29rR2VvKCkgewogIC8vPCFbQ0RBVEFbCiAgY29uc3QgV0FJVF9USU1FID0gMTAwOwogIGNvbnN0IGhvb2tlZE9iaiA9IHsKICAgIGdldEN1cnJlbnRQb3NpdGlvbjogbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbi5iaW5kKG5hdmlnYXRvci5nZW9sb2NhdGlvbiksCiAgICB3YXRjaFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbi5iaW5kKG5hdmlnYXRvci5nZW9sb2NhdGlvbiksCiAgICBmYWtlR2VvOiB0cnVlLAogICAgZ2VuTGF0OiAzOC44ODMzMzMsCiAgICBnZW5Mb246IC03Ny4wMDAKICB9OwoKICBmdW5jdGlvbiB3YWl0R2V0Q3VycmVudFBvc2l0aW9uKCkgewogICAgaWYgKCh0eXBlb2YgaG9va2VkT2JqLmZha2VHZW8gIT09ICd1bmRlZmluZWQnKSkgewogICAgICBpZiAoaG9va2VkT2JqLmZha2VHZW8gPT09IHRydWUpIHsKICAgICAgICBob29rZWRPYmoudG1wX3N1Y2Nlc3NDYWxsYmFjayh7CiAgICAgICAgICBjb29yZHM6IHsKICAgICAgICAgICAgbGF0aXR1ZGU6IGhvb2tlZE9iai5nZW5MYXQsCiAgICAgICAgICAgIGxvbmdpdHVkZTogaG9va2VkT2JqLmdlbkxvbiwKICAgICAgICAgICAgYWNjdXJhY3k6IDEwLAogICAgICAgICAgICBhbHRpdHVkZTogbnVsbCwKICAgICAgICAgICAgYWx0aXR1ZGVBY2N1cmFjeTogbnVsbCwKICAgICAgICAgICAgaGVhZGluZzogbnVsbCwKICAgICAgICAgICAgc3BlZWQ6IG51bGwsCiAgICAgICAgICB9LAogICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSwKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmouZ2V0Q3VycmVudFBvc2l0aW9uKGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfb3B0aW9ucyk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHNldFRpbWVvdXQod2FpdEdldEN1cnJlbnRQb3NpdGlvbiwgV0FJVF9USU1FKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHdhaXRXYXRjaFBvc2l0aW9uKCkgewogICAgaWYgKCh0eXBlb2YgaG9va2VkT2JqLmZha2VHZW8gIT09ICd1bmRlZmluZWQnKSkgewogICAgICBpZiAoaG9va2VkT2JqLmZha2VHZW8gPT09IHRydWUpIHsKICAgICAgICBuYXZpZ2F0b3IuZ2V0Q3VycmVudFBvc2l0aW9uKGhvb2tlZE9iai50bXAyX3N1Y2Nlc3NDYWxsYmFjaywgaG9va2VkT2JqLnRtcDJfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcDJfb3B0aW9ucyk7CiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKTsgLy8gcmFuZG9tIGlkCiAgICAgIH0gZWxzZSB7CiAgICAgICAgaG9va2VkT2JqLndhdGNoUG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0V2F0Y2hQb3NpdGlvbiwgV0FJVF9USU1FKTsKICAgIH0KICB9CgogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLmdldEN1cnJlbnRQb3NpdGlvbiA9IGZ1bmN0aW9uIChzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2ssIG9wdGlvbnMpIHsKICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrID0gc3VjY2Vzc0NhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXBfb3B0aW9ucyA9IG9wdGlvbnM7CiAgICB3YWl0R2V0Q3VycmVudFBvc2l0aW9uKCk7CiAgfTsKICBPYmplY3QuZ2V0UHJvdG90eXBlT2YobmF2aWdhdG9yLmdlb2xvY2F0aW9uKS53YXRjaFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrID0gc3VjY2Vzc0NhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcDJfZXJyb3JDYWxsYmFjayA9IGVycm9yQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRXYXRjaFBvc2l0aW9uKCk7CiAgfTsKCiAgY29uc3QgaW5zdGFudGlhdGUgPSAoY29uc3RydWN0b3IsIGFyZ3MpID0+IHsKICAgIGNvbnN0IGJpbmQgPSBGdW5jdGlvbi5iaW5kOwogICAgY29uc3QgdW5iaW5kID0gYmluZC5iaW5kKGJpbmQpOwogICAgcmV0dXJuIG5ldyAodW5iaW5kKGNvbnN0cnVjdG9yLCBudWxsKS5hcHBseShudWxsLCBhcmdzKSk7CiAgfQoKICBCbG9iID0gZnVuY3Rpb24gKF9CbG9iKSB7CiAgICBmdW5jdGlvbiBzZWN1cmVCbG9iKC4uLmFyZ3MpIHsKICAgICAgY29uc3QgaW5qZWN0YWJsZU1pbWVUeXBlcyA9IFsKICAgICAgICB7IG1pbWU6ICd0ZXh0L2h0bWwnLCB1c2VYTUxwYXJzZXI6IGZhbHNlIH0sCiAgICAgICAgeyBtaW1lOiAnYXBwbGljYXRpb24veGh0bWwreG1sJywgdXNlWE1McGFyc2VyOiB0cnVlIH0sCiAgICAgICAgeyBtaW1lOiAndGV4dC94bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICdpbWFnZS9zdmcreG1sJywgdXNlWE1McGFyc2VyOiB0cnVlIH0sCiAgICAgIF07CiAgICAgIGxldCB0eXBlRWwgPSBhcmdzLmZpbmQoYXJnID0+ICh0eXBlb2YgYXJnID09PSAnb2JqZWN0JykgJiYgKHR5cGVvZiBhcmcudHlwZSA9PT0gJ3N0cmluZycpICYmIChhcmcudHlwZSkpOwoKICAgICAgaWYgKHR5cGVvZiB0eXBlRWwgIT09ICd1bmRlZmluZWQnICYmICh0eXBlb2YgYXJnc1swXVswXSA9PT0gJ3N0cmluZycpKSB7CiAgICAgICAgY29uc3QgbWltZVR5cGVJbmRleCA9IGluamVjdGFibGVNaW1lVHlwZXMuZmluZEluZGV4KG1pbWVUeXBlID0+IG1pbWVUeXBlLm1pbWUudG9Mb3dlckNhc2UoKSA9PT0gdHlwZUVsLnR5cGUudG9Mb3dlckNhc2UoKSk7CiAgICAgICAgaWYgKG1pbWVUeXBlSW5kZXggPj0gMCkgewogICAgICAgICAgbGV0IG1pbWVUeXBlID0gaW5qZWN0YWJsZU1pbWVUeXBlc1ttaW1lVHlwZUluZGV4XTsKICAgICAgICAgIGxldCBpbmplY3RlZENvZGUgPSBgPHNjcmlwdD4oCiAgICAgICAgICAgICR7aG9va0dlb30KICAgICAgICAgICkoKTs8XC9zY3JpcHQ+YDsKICAgIAogICAgICAgICAgbGV0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgICAgICAgIGxldCB4bWxEb2M7CiAgICAgICAgICBpZiAobWltZVR5cGUudXNlWE1McGFyc2VyID09PSB0cnVlKSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXS5qb2luKCcnKSwgbWltZVR5cGUubWltZSk7IC8vIEZvciBYTUwgZG9jdW1lbnRzIHdlIG5lZWQgdG8gbWVyZ2UgYWxsIGl0ZW1zIGluIG9yZGVyIHRvIG5vdCBicmVhayB0aGUgaGVhZGVyIHdoZW4gaW5qZWN0aW5nCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB4bWxEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKGFyZ3NbMF1bMF0sIG1pbWVUeXBlLm1pbWUpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh4bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIikubGVuZ3RoID09PSAwKSB7IC8vIGlmIG5vIGVycm9ycyB3ZXJlIGZvdW5kIHdoaWxlIHBhcnNpbmcuLi4KICAgICAgICAgICAgeG1sRG9jLmRvY3VtZW50RWxlbWVudC5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCBpbmplY3RlZENvZGUpOwogICAgCiAgICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgICBhcmdzWzBdID0gW25ldyBYTUxTZXJpYWxpemVyKCkuc2VyaWFsaXplVG9TdHJpbmcoeG1sRG9jKV07CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgYXJnc1swXVswXSA9IHhtbERvYy5kb2N1bWVudEVsZW1lbnQub3V0ZXJIVE1MOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gaW5zdGFudGlhdGUoX0Jsb2IsIGFyZ3MpOyAvLyBhcmd1bWVudHM/CiAgICB9CgogICAgLy8gQ29weSBwcm9wcyBhbmQgbWV0aG9kcwogICAgbGV0IHByb3BOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKF9CbG9iKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcE5hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGxldCBwcm9wTmFtZSA9IHByb3BOYW1lc1tpXTsKICAgICAgaWYgKHByb3BOYW1lIGluIHNlY3VyZUJsb2IpIHsKICAgICAgICBjb250aW51ZTsgLy8gU2tpcCBhbHJlYWR5IGV4aXN0aW5nIHByb3BzCiAgICAgIH0KICAgICAgbGV0IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9CbG9iLCBwcm9wTmFtZSk7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzZWN1cmVCbG9iLCBwcm9wTmFtZSwgZGVzYyk7CiAgICB9CgogICAgc2VjdXJlQmxvYi5wcm90b3R5cGUgPSBfQmxvYi5wcm90b3R5cGU7CiAgICByZXR1cm4gc2VjdXJlQmxvYjsKICB9KEJsb2IpOwoKICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChldmVudCkgewogICAgaWYgKGV2ZW50LnNvdXJjZSAhPT0gd2luZG93KSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGNvbnN0IG1lc3NhZ2UgPSBldmVudC5kYXRhOwogICAgc3dpdGNoIChtZXNzYWdlLm1ldGhvZCkgewogICAgICBjYXNlICd1cGRhdGVMb2NhdGlvbic6CiAgICAgICAgaWYgKCh0eXBlb2YgbWVzc2FnZS5pbmZvID09PSAnb2JqZWN0JykgJiYgKHR5cGVvZiBtZXNzYWdlLmluZm8uY29vcmRzID09PSAnb2JqZWN0JykpIHsKICAgICAgICAgIGhvb2tlZE9iai5nZW5MYXQgPSBtZXNzYWdlLmluZm8uY29vcmRzLmxhdDsKICAgICAgICAgIGhvb2tlZE9iai5nZW5Mb24gPSBtZXNzYWdlLmluZm8uY29vcmRzLmxvbjsKICAgICAgICAgIGhvb2tlZE9iai5mYWtlR2VvID0gbWVzc2FnZS5pbmZvLmZha2VJdDsKICAgICAgICB9CiAgICAgICAgYnJlYWs7CiAgICAgIGRlZmF1bHQ6CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfSwgZmFsc2UpOwogIC8vXV0+fQogICAgICAgICAgKSgpOzwvc2NyaXB0PjxnIGlkPSLqt7jro7lfNDI1NyIgZGF0YS1uYW1lPSLqt7jro7kgNDI1NyI+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkwIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNDkiIGZpbGw9IiM2NjYiIGQ9Ik03IDBhNyA3IDAgMSAxLTcgNyA3IDcgMCAwIDEgNy03IiBkYXRhLW5hbWU9Iu2MqOyKpCAzMDQ5Ii8+PHBhdGggaWQ9Iu2MqOyKpF8zMDUwIiBmaWxsPSIjZmZmIiBkPSJNMTEuMjg2IDUuMTU1YS43NDUuNzQ1IDAgMCAwLTEuMDgzIDBMNi41MzIgOC45NyA1LjI1NSA3LjY0M2EuNzQ2Ljc0NiAwIDAgMC0xLjA4My4wMTIuODE3LjgxNyAwIDAgMCAwIDEuMTE0bDEuODA2IDEuODc2LjAwOC4wMTNhLjc1NC43NTQgMCAwIDAgMS4wODggMGwuMDA5LS4wMTMgNC4yLTQuMzY3YS44MTkuODE5IDAgMCAwIC4wMDMtMS4xMjNaIiBkYXRhLW5hbWU9Iu2MqOyKpCAzMDUwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtLjQyMSAtLjY4KSIvPjxwYXRoIGlkPSLsgqzqsIHtmJVfMjE5MSIgZmlsbD0ibm9uZSIgZD0iTTAgMGgxMy43MDR2MTMuNzA0SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAyMTkxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIC4yOTYpIi8+PC9nPjwvc3ZnPg==);background-position:center bottom 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666;height:100%}.btn[type=icon][position=bottom]>.icon-default.icon-disable{background-color:#e5e9ed;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLWRpc2FibGUiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGcgaWQ9Iuq3uOujuV80MjU3IiBkYXRhLW5hbWU9Iuq3uOujuSA0MjU3Ij48cGF0aCBpZD0i7IKs6rCB7ZiVXzIxOTAiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMTMuNzA0djEzLjcwNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMjE5MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAuMjk2KSIvPjxwYXRoIGlkPSLtjKjsiqRfMzA0OSIgZmlsbD0iIzkzOWJhMyIgZD0iTTcgMGE3IDcgMCAxIDEtNyA3IDcgNyAwIDAgMSA3LTciIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNDkiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNTAiIGZpbGw9IiNmZmYiIGQ9Ik0xMS4yODYgNS4xNTVhLjc0NS43NDUgMCAwIDAtMS4wODMgMEw2LjUzMiA4Ljk3IDUuMjU1IDcuNjQzYS43NDYuNzQ2IDAgMCAwLTEuMDgzLjAxMi44MTcuODE3IDAgMCAwIDAgMS4xMTRsMS44MDYgMS44NzYuMDA4LjAxM2EuNzU0Ljc1NCAwIDAgMCAxLjA4OCAwbC4wMDktLjAxMyA0LjItNC4zNjdhLjgxOS44MTkgMCAwIDAgLjAwMy0xLjEyM1oiIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0uNDIxIC0uNjgpIi8+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkxIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48L2c+PC9zdmc+);background-position:center bottom 8px;background-repeat:no-repeat;background-size:14px;border:0;color:#939ba3;height:100%}.btn[type=icon][position=bottom]>.icon-default.icon-over.icon-click{background-color:#fff;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLWRlZmF1bHQiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGcgaWQ9Iuq3uOujuV80MjU3IiBkYXRhLW5hbWU9Iuq3uOujuSA0MjU3Ij48cGF0aCBpZD0i7IKs6rCB7ZiVXzIxOTAiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMTMuNzA0djEzLjcwNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMjE5MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAuMjk2KSIvPjxwYXRoIGlkPSLtjKjsiqRfMzA0OSIgZmlsbD0iIzlkYTNhYSIgZD0iTTcgMGE3IDcgMCAxIDEtNyA3IDcgNyAwIDAgMSA3LTciIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNDkiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNTAiIGZpbGw9IiNmZmYiIGQ9Ik0xMS4yODYgNS4xNTVhLjc0NS43NDUgMCAwIDAtMS4wODMgMEw2LjUzMiA4Ljk3IDUuMjU1IDcuNjQzYS43NDYuNzQ2IDAgMCAwLTEuMDgzLjAxMi44MTcuODE3IDAgMCAwIDAgMS4xMTRsMS44MDYgMS44NzYuMDA4LjAxM2EuNzU0Ljc1NCAwIDAgMCAxLjA4OCAwbC4wMDktLjAxMyA0LjItNC4zNjdhLjgxOS44MTkgMCAwIDAgLjAwMy0xLjEyM1oiIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0uNDIxIC0uNjgpIi8+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkxIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48L2c+PC9zdmc+);background-position:center bottom 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666;height:100%}.btn[type=icon][position=bottom]>.icon-default.icon-over.icon-click:focus,.btn[type=icon][position=bottom]>.icon-default.icon-over.icon-click:hover{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLW92ZXIiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGcgaWQ9Iuq3uOujuV80MjU3IiBkYXRhLW5hbWU9Iuq3uOujuSA0MjU3Ij48cGF0aCBpZD0i7IKs6rCB7ZiVXzIxOTAiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMTMuNzA0djEzLjcwNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMjE5MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAuMjk2KSIvPjxwYXRoIGlkPSLtjKjsiqRfMzA0OSIgZmlsbD0iIzAwNzllOCIgZD0iTTcgMGE3IDcgMCAxIDEtNyA3IDcgNyAwIDAgMSA3LTciIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNDkiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNTAiIGZpbGw9IiNmZmYiIGQ9Ik0xMS4yODYgNS4xNTVhLjc0NS43NDUgMCAwIDAtMS4wODMgMEw2LjUzMiA4Ljk3IDUuMjU1IDcuNjQzYS43NDYuNzQ2IDAgMCAwLTEuMDgzLjAxMi44MTcuODE3IDAgMCAwIDAgMS4xMTRsMS44MDYgMS44NzYuMDA4LjAxM2EuNzU0Ljc1NCAwIDAgMCAxLjA4OCAwbC4wMDktLjAxMyA0LjItNC4zNjdhLjgxOS44MTkgMCAwIDAgLjAwMy0xLjEyM1oiIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0uNDIxIC0uNjgpIi8+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkxIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48L2c+PC9zdmc+);background-position:center bottom 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #0079e8;color:#0079e8;height:100%;outline:0}.btn[type=icon][position=bottom]>.icon-default.icon-over.icon-click:active{background-color:#f5f5f5;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLWNsaWNrIiB3aWR0aD0iMTQiIGhlaWdodD0iMTQiPjxzY3JpcHQ+KAogICAgICAgICAgICBmdW5jdGlvbiBob29rR2VvKCkgewogIC8vPCFbQ0RBVEFbCiAgY29uc3QgV0FJVF9USU1FID0gMTAwOwogIGNvbnN0IGhvb2tlZE9iaiA9IHsKICAgIGdldEN1cnJlbnRQb3NpdGlvbjogbmF2aWdhdG9yLmdlb2xvY2F0aW9uLmdldEN1cnJlbnRQb3NpdGlvbi5iaW5kKG5hdmlnYXRvci5nZW9sb2NhdGlvbiksCiAgICB3YXRjaFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbi5iaW5kKG5hdmlnYXRvci5nZW9sb2NhdGlvbiksCiAgICBmYWtlR2VvOiB0cnVlLAogICAgZ2VuTGF0OiAzOC44ODMzMzMsCiAgICBnZW5Mb246IC03Ny4wMDAKICB9OwoKICBmdW5jdGlvbiB3YWl0R2V0Q3VycmVudFBvc2l0aW9uKCkgewogICAgaWYgKCh0eXBlb2YgaG9va2VkT2JqLmZha2VHZW8gIT09ICd1bmRlZmluZWQnKSkgewogICAgICBpZiAoaG9va2VkT2JqLmZha2VHZW8gPT09IHRydWUpIHsKICAgICAgICBob29rZWRPYmoudG1wX3N1Y2Nlc3NDYWxsYmFjayh7CiAgICAgICAgICBjb29yZHM6IHsKICAgICAgICAgICAgbGF0aXR1ZGU6IGhvb2tlZE9iai5nZW5MYXQsCiAgICAgICAgICAgIGxvbmdpdHVkZTogaG9va2VkT2JqLmdlbkxvbiwKICAgICAgICAgICAgYWNjdXJhY3k6IDEwLAogICAgICAgICAgICBhbHRpdHVkZTogbnVsbCwKICAgICAgICAgICAgYWx0aXR1ZGVBY2N1cmFjeTogbnVsbCwKICAgICAgICAgICAgaGVhZGluZzogbnVsbCwKICAgICAgICAgICAgc3BlZWQ6IG51bGwsCiAgICAgICAgICB9LAogICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLmdldFRpbWUoKSwKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmouZ2V0Q3VycmVudFBvc2l0aW9uKGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfb3B0aW9ucyk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHNldFRpbWVvdXQod2FpdEdldEN1cnJlbnRQb3NpdGlvbiwgV0FJVF9USU1FKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHdhaXRXYXRjaFBvc2l0aW9uKCkgewogICAgaWYgKCh0eXBlb2YgaG9va2VkT2JqLmZha2VHZW8gIT09ICd1bmRlZmluZWQnKSkgewogICAgICBpZiAoaG9va2VkT2JqLmZha2VHZW8gPT09IHRydWUpIHsKICAgICAgICBuYXZpZ2F0b3IuZ2V0Q3VycmVudFBvc2l0aW9uKGhvb2tlZE9iai50bXAyX3N1Y2Nlc3NDYWxsYmFjaywgaG9va2VkT2JqLnRtcDJfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcDJfb3B0aW9ucyk7CiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwKTsgLy8gcmFuZG9tIGlkCiAgICAgIH0gZWxzZSB7CiAgICAgICAgaG9va2VkT2JqLndhdGNoUG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0V2F0Y2hQb3NpdGlvbiwgV0FJVF9USU1FKTsKICAgIH0KICB9CgogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLmdldEN1cnJlbnRQb3NpdGlvbiA9IGZ1bmN0aW9uIChzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2ssIG9wdGlvbnMpIHsKICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrID0gc3VjY2Vzc0NhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXBfb3B0aW9ucyA9IG9wdGlvbnM7CiAgICB3YWl0R2V0Q3VycmVudFBvc2l0aW9uKCk7CiAgfTsKICBPYmplY3QuZ2V0UHJvdG90eXBlT2YobmF2aWdhdG9yLmdlb2xvY2F0aW9uKS53YXRjaFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrID0gc3VjY2Vzc0NhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcDJfZXJyb3JDYWxsYmFjayA9IGVycm9yQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRXYXRjaFBvc2l0aW9uKCk7CiAgfTsKCiAgY29uc3QgaW5zdGFudGlhdGUgPSAoY29uc3RydWN0b3IsIGFyZ3MpID0+IHsKICAgIGNvbnN0IGJpbmQgPSBGdW5jdGlvbi5iaW5kOwogICAgY29uc3QgdW5iaW5kID0gYmluZC5iaW5kKGJpbmQpOwogICAgcmV0dXJuIG5ldyAodW5iaW5kKGNvbnN0cnVjdG9yLCBudWxsKS5hcHBseShudWxsLCBhcmdzKSk7CiAgfQoKICBCbG9iID0gZnVuY3Rpb24gKF9CbG9iKSB7CiAgICBmdW5jdGlvbiBzZWN1cmVCbG9iKC4uLmFyZ3MpIHsKICAgICAgY29uc3QgaW5qZWN0YWJsZU1pbWVUeXBlcyA9IFsKICAgICAgICB7IG1pbWU6ICd0ZXh0L2h0bWwnLCB1c2VYTUxwYXJzZXI6IGZhbHNlIH0sCiAgICAgICAgeyBtaW1lOiAnYXBwbGljYXRpb24veGh0bWwreG1sJywgdXNlWE1McGFyc2VyOiB0cnVlIH0sCiAgICAgICAgeyBtaW1lOiAndGV4dC94bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICdpbWFnZS9zdmcreG1sJywgdXNlWE1McGFyc2VyOiB0cnVlIH0sCiAgICAgIF07CiAgICAgIGxldCB0eXBlRWwgPSBhcmdzLmZpbmQoYXJnID0+ICh0eXBlb2YgYXJnID09PSAnb2JqZWN0JykgJiYgKHR5cGVvZiBhcmcudHlwZSA9PT0gJ3N0cmluZycpICYmIChhcmcudHlwZSkpOwoKICAgICAgaWYgKHR5cGVvZiB0eXBlRWwgIT09ICd1bmRlZmluZWQnICYmICh0eXBlb2YgYXJnc1swXVswXSA9PT0gJ3N0cmluZycpKSB7CiAgICAgICAgY29uc3QgbWltZVR5cGVJbmRleCA9IGluamVjdGFibGVNaW1lVHlwZXMuZmluZEluZGV4KG1pbWVUeXBlID0+IG1pbWVUeXBlLm1pbWUudG9Mb3dlckNhc2UoKSA9PT0gdHlwZUVsLnR5cGUudG9Mb3dlckNhc2UoKSk7CiAgICAgICAgaWYgKG1pbWVUeXBlSW5kZXggPj0gMCkgewogICAgICAgICAgbGV0IG1pbWVUeXBlID0gaW5qZWN0YWJsZU1pbWVUeXBlc1ttaW1lVHlwZUluZGV4XTsKICAgICAgICAgIGxldCBpbmplY3RlZENvZGUgPSBgPHNjcmlwdD4oCiAgICAgICAgICAgICR7aG9va0dlb30KICAgICAgICAgICkoKTs8XC9zY3JpcHQ+YDsKICAgIAogICAgICAgICAgbGV0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgICAgICAgIGxldCB4bWxEb2M7CiAgICAgICAgICBpZiAobWltZVR5cGUudXNlWE1McGFyc2VyID09PSB0cnVlKSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXS5qb2luKCcnKSwgbWltZVR5cGUubWltZSk7IC8vIEZvciBYTUwgZG9jdW1lbnRzIHdlIG5lZWQgdG8gbWVyZ2UgYWxsIGl0ZW1zIGluIG9yZGVyIHRvIG5vdCBicmVhayB0aGUgaGVhZGVyIHdoZW4gaW5qZWN0aW5nCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB4bWxEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKGFyZ3NbMF1bMF0sIG1pbWVUeXBlLm1pbWUpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh4bWxEb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIikubGVuZ3RoID09PSAwKSB7IC8vIGlmIG5vIGVycm9ycyB3ZXJlIGZvdW5kIHdoaWxlIHBhcnNpbmcuLi4KICAgICAgICAgICAgeG1sRG9jLmRvY3VtZW50RWxlbWVudC5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCBpbmplY3RlZENvZGUpOwogICAgCiAgICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgICBhcmdzWzBdID0gW25ldyBYTUxTZXJpYWxpemVyKCkuc2VyaWFsaXplVG9TdHJpbmcoeG1sRG9jKV07CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgYXJnc1swXVswXSA9IHhtbERvYy5kb2N1bWVudEVsZW1lbnQub3V0ZXJIVE1MOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gaW5zdGFudGlhdGUoX0Jsb2IsIGFyZ3MpOyAvLyBhcmd1bWVudHM/CiAgICB9CgogICAgLy8gQ29weSBwcm9wcyBhbmQgbWV0aG9kcwogICAgbGV0IHByb3BOYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKF9CbG9iKTsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcE5hbWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGxldCBwcm9wTmFtZSA9IHByb3BOYW1lc1tpXTsKICAgICAgaWYgKHByb3BOYW1lIGluIHNlY3VyZUJsb2IpIHsKICAgICAgICBjb250aW51ZTsgLy8gU2tpcCBhbHJlYWR5IGV4aXN0aW5nIHByb3BzCiAgICAgIH0KICAgICAgbGV0IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF9CbG9iLCBwcm9wTmFtZSk7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzZWN1cmVCbG9iLCBwcm9wTmFtZSwgZGVzYyk7CiAgICB9CgogICAgc2VjdXJlQmxvYi5wcm90b3R5cGUgPSBfQmxvYi5wcm90b3R5cGU7CiAgICByZXR1cm4gc2VjdXJlQmxvYjsKICB9KEJsb2IpOwoKICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChldmVudCkgewogICAgaWYgKGV2ZW50LnNvdXJjZSAhPT0gd2luZG93KSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGNvbnN0IG1lc3NhZ2UgPSBldmVudC5kYXRhOwogICAgc3dpdGNoIChtZXNzYWdlLm1ldGhvZCkgewogICAgICBjYXNlICd1cGRhdGVMb2NhdGlvbic6CiAgICAgICAgaWYgKCh0eXBlb2YgbWVzc2FnZS5pbmZvID09PSAnb2JqZWN0JykgJiYgKHR5cGVvZiBtZXNzYWdlLmluZm8uY29vcmRzID09PSAnb2JqZWN0JykpIHsKICAgICAgICAgIGhvb2tlZE9iai5nZW5MYXQgPSBtZXNzYWdlLmluZm8uY29vcmRzLmxhdDsKICAgICAgICAgIGhvb2tlZE9iai5nZW5Mb24gPSBtZXNzYWdlLmluZm8uY29vcmRzLmxvbjsKICAgICAgICAgIGhvb2tlZE9iai5mYWtlR2VvID0gbWVzc2FnZS5pbmZvLmZha2VJdDsKICAgICAgICB9CiAgICAgICAgYnJlYWs7CiAgICAgIGRlZmF1bHQ6CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfSwgZmFsc2UpOwogIC8vXV0+fQogICAgICAgICAgKSgpOzwvc2NyaXB0PjxnIGlkPSLqt7jro7lfNDI1NyIgZGF0YS1uYW1lPSLqt7jro7kgNDI1NyI+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkwIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNDkiIGZpbGw9IiM2NjYiIGQ9Ik03IDBhNyA3IDAgMSAxLTcgNyA3IDcgMCAwIDEgNy03IiBkYXRhLW5hbWU9Iu2MqOyKpCAzMDQ5Ii8+PHBhdGggaWQ9Iu2MqOyKpF8zMDUwIiBmaWxsPSIjZmZmIiBkPSJNMTEuMjg2IDUuMTU1YS43NDUuNzQ1IDAgMCAwLTEuMDgzIDBMNi41MzIgOC45NyA1LjI1NSA3LjY0M2EuNzQ2Ljc0NiAwIDAgMC0xLjA4My4wMTIuODE3LjgxNyAwIDAgMCAwIDEuMTE0bDEuODA2IDEuODc2LjAwOC4wMTNhLjc1NC43NTQgMCAwIDAgMS4wODggMGwuMDA5LS4wMTMgNC4yLTQuMzY3YS44MTkuODE5IDAgMCAwIC4wMDMtMS4xMjNaIiBkYXRhLW5hbWU9Iu2MqOyKpCAzMDUwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtLjQyMSAtLjY4KSIvPjxwYXRoIGlkPSLsgqzqsIHtmJVfMjE5MSIgZmlsbD0ibm9uZSIgZD0iTTAgMGgxMy43MDR2MTMuNzA0SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAyMTkxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIC4yOTYpIi8+PC9nPjwvc3ZnPg==);background-position:center bottom 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666;height:100%}.btn[type=icon][position=bottom]:disabled{background-color:#e5e9ed;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGlkPSJpY29uLWNoZWNrLWRpc2FibGUiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGcgaWQ9Iuq3uOujuV80MjU3IiBkYXRhLW5hbWU9Iuq3uOujuSA0MjU3Ij48cGF0aCBpZD0i7IKs6rCB7ZiVXzIxOTAiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMTMuNzA0djEzLjcwNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMjE5MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAuMjk2KSIvPjxwYXRoIGlkPSLtjKjsiqRfMzA0OSIgZmlsbD0iIzkzOWJhMyIgZD0iTTcgMGE3IDcgMCAxIDEtNyA3IDcgNyAwIDAgMSA3LTciIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNDkiLz48cGF0aCBpZD0i7Yyo7IqkXzMwNTAiIGZpbGw9IiNmZmYiIGQ9Ik0xMS4yODYgNS4xNTVhLjc0NS43NDUgMCAwIDAtMS4wODMgMEw2LjUzMiA4Ljk3IDUuMjU1IDcuNjQzYS43NDYuNzQ2IDAgMCAwLTEuMDgzLjAxMi44MTcuODE3IDAgMCAwIDAgMS4xMTRsMS44MDYgMS44NzYuMDA4LjAxM2EuNzU0Ljc1NCAwIDAgMCAxLjA4OCAwbC4wMDktLjAxMyA0LjItNC4zNjdhLjgxOS44MTkgMCAwIDAgLjAwMy0xLjEyM1oiIGRhdGEtbmFtZT0i7Yyo7IqkIDMwNTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0uNDIxIC0uNjgpIi8+PHBhdGggaWQ9IuyCrOqwge2YlV8yMTkxIiBmaWxsPSJub25lIiBkPSJNMCAwaDEzLjcwNHYxMy43MDRIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDIxOTEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgLjI5NikiLz48L2c+PC9zdmc+);background-position:center bottom 8px;background-repeat:no-repeat;background-size:14px;border:0;color:#939ba3;height:100%}.btn[type=icon][position=bottom].arrowup_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1NCIgZmlsbD0ibm9uZSIgZD0iTTAgMGg2djEySDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzU0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgaWQ9Ikljb25fYXJyb3d1cF8xOCIgZGF0YS1uYW1lPSJJY29uL2Fycm93dXBfMTgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01OTE5IC01Nzc5KSI+PHBhdGggaWQ9Iu2MqOyKpF8zNTg5IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDApIiBkPSJNMCAwaDE4djE4SDBaIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTg5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1OTE5IDU3NzkpIi8+PGcgaWQ9Iuq3uOujuV84NTg3IiBkYXRhLW5hbWU9Iuq3uOujuSA4NTg3IiB0cmFuc2Zvcm09InJvdGF0ZSg5MCA3NSA1ODU5KSI+PGcgaWQ9Iuq3uOujuV84NTgzIiBjbGlwLXBhdGg9InVybCgjY2xpcC1wYXRoKSIgZGF0YS1uYW1lPSLqt7jro7kgODU4MyI+PHBhdGggaWQ9Iu2MqOyKpF8zNTkwIiBmaWxsPSIjN2I3YjdiIiBkPSJNNS41IDEyYS41LjUgMCAwIDEtLjM3LS4xNjRsLTUtNS41YS41LjUgMCAwIDEgMC0uNjczbDUtNS41YS41LjUgMCAxIDEgLjc0LjY3M0wxLjE3NiA2bDQuNjk0IDUuMTY0QS41LjUgMCAwIDEgNS41IDEyIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTkwIi8+PC9nPjwvZz48L2c+PC9zdmc+)}.btn[type=icon][position=bottom].arrowdown_18,.btn[type=icon][position=bottom].arrowup_18{background-position:center bottom 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=bottom].arrowdown_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1NCIgZmlsbD0ibm9uZSIgZD0iTTAgMGg2djEySDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzU0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgaWQ9Ikljb25fYXJyb3dkb3duXzE4IiBkYXRhLW5hbWU9Ikljb24vYXJyb3dkb3duXzE4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTk3NiAtNTc3OSkiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzMzMyIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzMzMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTk3NiA1Nzc5KSIvPjxnIGlkPSLqt7jro7lfODU4NiIgZGF0YS1uYW1lPSLqt7jro7kgODU4NiIgdHJhbnNmb3JtPSJyb3RhdGUoLTkwIDU4ODUuNSAtOTMuNSkiPjxnIGlkPSLqt7jro7lfODU4MyIgY2xpcC1wYXRoPSJ1cmwoI2NsaXAtcGF0aCkiIGRhdGEtbmFtZT0i6re466O5IDg1ODMiPjxwYXRoIGlkPSLtjKjsiqRfMzU5MCIgZmlsbD0iIzdiN2I3YiIgZD0iTTUuNSAxMmEuNS41IDAgMCAxLS4zNy0uMTY0bC01LTUuNWEuNS41IDAgMCAxIDAtLjY3M2w1LTUuNWEuNS41IDAgMSAxIC43NC42NzNMMS4xNzYgNmw0LjY5NCA1LjE2NEEuNS41IDAgMCAxIDUuNSAxMiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU5MCIvPjwvZz48L2c+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=bottom].arrowleft_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1NCIgZmlsbD0ibm9uZSIgZD0iTTAgMGg2djEySDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzU0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgaWQ9Ikljb25fYXJyb3dsZWZ0XzE4IiBkYXRhLW5hbWU9Ikljb24vYXJyb3dsZWZ0XzE4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNjA1NCAtNTc3NikiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzMzNCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzMzNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjA1NCA1Nzc2KSIvPjxnIGlkPSLqt7jro7lfODU0MiIgZGF0YS1uYW1lPSLqt7jro7kgODU0MiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjA1NyA1Nzc5KSI+PGcgaWQ9Iuq3uOujuV84NTg1IiBkYXRhLW5hbWU9Iuq3uOujuSA4NTg1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyKSI+PGcgaWQ9Iuq3uOujuV84NTgzIiBjbGlwLXBhdGg9InVybCgjY2xpcC1wYXRoKSIgZGF0YS1uYW1lPSLqt7jro7kgODU4MyI+PHBhdGggaWQ9Iu2MqOyKpF8zNTkwIiBmaWxsPSIjN2I3YjdiIiBkPSJNNS41IDEyYS41LjUgMCAwIDEtLjM3LS4xNjRsLTUtNS41YS41LjUgMCAwIDEgMC0uNjczbDUtNS41YS41LjUgMCAxIDEgLjc0LjY3M0wxLjE3NiA2bDQuNjk0IDUuMTY0QS41LjUgMCAwIDEgNS41IDEyIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTkwIi8+PC9nPjwvZz48L2c+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=bottom].arrowleft_18,.btn[type=icon][position=bottom].arrowright_18{background-position:center bottom 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=bottom].arrowright_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1NCIgZmlsbD0ibm9uZSIgZD0iTTAgMGg2djEySDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzU0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgaWQ9Ikljb25fYXJyb3dyaWdodF8xOCIgZGF0YS1uYW1lPSJJY29uL2Fycm93cmlnaHRfMTgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02MDE4IC01Nzc2KSI+PHBhdGggaWQ9IuyCrOqwge2YlV8zMzM2IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDApIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzM2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2MDE4IDU3NzYpIi8+PGcgaWQ9Iuq3uOujuV84NTg0IiBkYXRhLW5hbWU9Iuq3uOujuSA4NTg0IiB0cmFuc2Zvcm09InJvdGF0ZSgxODAgMzAxNS41IDI4OTUuNSkiPjxnIGlkPSLqt7jro7lfODU4MyIgY2xpcC1wYXRoPSJ1cmwoI2NsaXAtcGF0aCkiIGRhdGEtbmFtZT0i6re466O5IDg1ODMiPjxwYXRoIGlkPSLtjKjsiqRfMzU5MCIgZmlsbD0iIzdiN2I3YiIgZD0iTTUuNSAxMmEuNS41IDAgMCAxLS4zNy0uMTY0bC01LTUuNWEuNS41IDAgMCAxIDAtLjY3M2w1LTUuNWEuNS41IDAgMSAxIC43NC42NzNMMS4xNzYgNmw0LjY5NCA1LjE2NEEuNS41IDAgMCAxIDUuNSAxMiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU5MCIvPjwvZz48L2c+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=bottom].search_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzMyNiIgZmlsbD0ibm9uZSIgZD0iTTAgMGgxNHYxNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzMyNiIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGlkPSJJY29uX3NlYXJjaF8xOCIgZGF0YS1uYW1lPSJJY29uL3NlYXJjaF8xOCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU5NTUgLTU4NjgpIj48cGF0aCBpZD0i7IKs6rCB7ZiVXzMzMzciIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMCkiIGQ9Ik0wIDBoMTh2MThIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDMzMzciIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU5NTUgNTg2OCkiLz48ZyBpZD0i6re466O5Xzg1NDAiIGRhdGEtbmFtZT0i6re466O5IDg1NDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU5NTcgNTg3MCkiPjxnIGlkPSLrp4jsiqTtgaxf6re466O5Xzg1MzkiIGNsaXAtcGF0aD0idXJsKCNjbGlwLXBhdGgpIiBkYXRhLW5hbWU9IuuniOyKpO2BrCDqt7jro7kgODUzOSI+PHBhdGggaWQ9Iu2MqOyKpF8zNTY1IiBmaWxsPSIjN2I3YjdiIiBkPSJtMTMuODU0IDEzLjE0Ni0zLjI3NS0zLjI3NGE2LjAwOCA2LjAwOCAwIDEgMC0uNzA3LjcwN2wzLjI3NCAzLjI3NWEuNS41IDAgMCAwIC43MDgtLjcwOE02IDExYTUgNSAwIDEgMSA1LTUgNS4wMDYgNS4wMDYgMCAwIDEtNSA1IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTY1Ii8+PC9nPjwvZz48L2c+PC9zdmc+)}.btn[type=icon][position=bottom].search_18,.btn[type=icon][position=bottom].trashcan_18{background-position:center bottom 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=bottom].trashcan_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1MyIgZmlsbD0ibm9uZSIgZD0iTTAgMGgxNnYxNkgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzM1MyIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGlkPSJJY29uX3RyYXNoY2FuXzE4IiBkYXRhLW5hbWU9Ikljb24vdHJhc2hjYW5fMTgiIHN0eWxlPSJtaXgtYmxlbmQtbW9kZTpub3JtYWw7aXNvbGF0aW9uOmlzb2xhdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01OTgzIC01ODcxKSI+PGcgaWQ9Iuq3uOujuV84NTc3IiBkYXRhLW5hbWU9Iuq3uOujuSA4NTc3IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzMgMjApIj48ZyBpZD0i6re466O5Xzg1NTkiIGRhdGEtbmFtZT0i6re466O5IDg1NTkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0IC0xNikiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzMzNSIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzMzNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTk5MiA1ODY3KSIvPjwvZz48L2c+PGcgaWQ9Iuq3uOujuV84NTgwIiBkYXRhLW5hbWU9Iuq3uOujuSA4NTgwIiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6bm9ybWFsO2lzb2xhdGlvbjppc29sYXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1OTg0IDU4NzIpIj48ZyBpZD0i6re466O5Xzg1NzkiIGZpbGw9IiM3YjdiN2IiIGNsaXAtcGF0aD0idXJsKCNjbGlwLXBhdGgpIiBkYXRhLW5hbWU9Iuq3uOujuSA4NTc5Ij48cGF0aCBpZD0i7Yyo7IqkXzM1ODUiIGQ9Ik0xNS41IDJIMTFWLjVhLjUuNSAwIDAgMC0uNS0uNWgtNWEuNS41IDAgMCAwLS41LjVWMkguNWEuNS41IDAgMCAwIDAgMUgydjEyYTEgMSAwIDAgMCAxIDFoMTBhMSAxIDAgMCAwIDEtMVYzaDEuNWEuNS41IDAgMCAwIDAtMU02IDFoNHYxSDZabTcgMTRIM1YzaDEwWiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU4NSIvPjxwYXRoIGlkPSLtjKjsiqRfMzU4NiIgZD0iTTUuNSAxMmEuNS41IDAgMCAwIC41LS41di01YS41LjUgMCAwIDAtMSAwdjVhLjUuNSAwIDAgMCAuNS41IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTg2Ii8+PHBhdGggaWQ9Iu2MqOyKpF8zNTg3IiBkPSJNMTAuNSAxMmEuNS41IDAgMCAwIC41LS41di01YS41LjUgMCAwIDAtMSAwdjVhLjUuNSAwIDAgMCAuNS41IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTg3Ii8+PHBhdGggaWQ9Iu2MqOyKpF8zNTg4IiBkPSJNOCAxMmEuNS41IDAgMCAwIC41LS41di01YS41LjUgMCAwIDAtMSAwdjVhLjUuNSAwIDAgMCAuNS41IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTg4Ii8+PC9nPjwvZz48L2c+PC9zdmc+)}.btn[type=icon][position=bottom].setting_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM0NiIgZmlsbD0ibm9uZSIgZD0iTTAgMGgxNnYxNkgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzM0NiIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGlkPSJJY29uX3NldHRpbmVfMTgiIGRhdGEtbmFtZT0iSWNvbi9zZXR0aW5lXzE4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNjAyNSAtNTg2NykiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM0NyIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzM0NyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjAyNSA1ODY3KSIvPjxnIGlkPSLqt7jro7lfODU1NiIgZGF0YS1uYW1lPSLqt7jro7kgODU1NiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjAyNiA1ODY4KSI+PGcgaWQ9Iuq3uOujuV84NTU1IiBmaWxsPSIjN2I3YjdiIiBjbGlwLXBhdGg9InVybCgjY2xpcC1wYXRoKSIgZGF0YS1uYW1lPSLqt7jro7kgODU1NSI+PHBhdGggaWQ9Iu2MqOyKpF8zNTcwIiBkPSJNMTQuMjkyIDguNDM5Yy4wMTEtLjE0Ny4wMjItLjI5Mi4wMTktLjQ0M3MtLjAwOC0uMy0uMDE5LS40NDVsMS4zMzUtMS4wMmEuOTkzLjk5MyAwIDAgMCAuMjQ0LTEuMjY3TDE0LjM0NiAyLjdhMS4wMDggMS4wMDggMCAwIDAtMS4yMTUtLjQwOWwtMS41NzYuNjE2YTYuMTMxIDYuMTMxIDAgMCAwLS44MDctLjQ2MUwxMC41Ljc4OEExLjAxIDEuMDEgMCAwIDAgOS41MTkgMEg2LjQ3NmExLjAyMyAxLjAyMyAwIDAgMC0uOTg2Ljg0NWwtLjIzMyAxLjYxN2E2LjM2MiA2LjM2MiAwIDAgMC0uOC40NTFMMi44NjcgMi4zYTEgMSAwIDAgMC0xLjIxLjQyTC4xMzIgNS4yNzNhLjk5My45OTMgMCAwIDAgLjI0NiAxLjI3NWwxLjMyOCAxLjAxNWEzLjE1MiAzLjE1MiAwIDAgMC0uMDIxLjQ0NmMwIC4xNS4wMDkuMy4wMjEuNDQ1TC4zNzIgOS40NzdhLjk4NC45ODQgMCAwIDAtLjIzNSAxLjI2M2wxLjUxOSAyLjU2YTEuMDA5IDEuMDA5IDAgMCAwIDEuMjEzLjRsMS41NzctLjYxNWE2LjY4MiA2LjY4MiAwIDAgMCAuOC40NmwuMjQ2IDEuNjZhMS4wMTIgMS4wMTIgMCAwIDAgLjk5Ljc5NWgzLjA0YTEuMDI3IDEuMDI3IDAgMCAwIC45ODUtLjg0NGwuMjMzLTEuNjE4YTYuMyA2LjMgMCAwIDAgLjgtLjQ1bDEuNTg2LjYxNWEuOTk0Ljk5NCAwIDAgMCAuMzQ5LjA2MyAxLjAxNiAxLjAxNiAwIDAgMCAuODY0LS40ODJsMS41MjItMi41NTdhMSAxIDAgMCAwLS4yNDYtMS4yNzZabS0uOCA0LjMzMi0xLjU5Mi0uNjE1LS40ODItLjE4Ny0uNDMyLjI4NWE1LjIgNS4yIDAgMCAxLS42NzYuMzc5bC0uNDg3LjIyOS0uMDc3LjUzNEw5LjUyMSAxNWwtMy4wNDYtLjAwOUw2LjI0IDEzLjRsLS4wNzctLjUyNC0uNDc4LS4yM0E1LjYwOCA1LjYwOCAwIDAgMSA1IDEyLjI2MWwtLjQzNC0uMjkxLS40ODYuMTktMS41NjcuNjMyLTEuNTM0LTIuNTIxIDEuMzM0LTEuMDIzLjQzMS0uMzI5LS4wNDQtLjU0YTQuOTg2IDQuOTg2IDAgMCAxLS4wMTctLjM3IDIuMjA2IDIuMjA2IDAgMCAxIC4wMS0uM2wuMDg0LS41NzktLjQ2Ni0uMzU2LTEuMzItLjk4OEwyLjUwNiAzLjIzbDEuNTg2LjYxNi40ODIuMTg3LjQzMy0uMjg2YTUuMzIyIDUuMzIyIDAgMCAxIC42NzYtLjM4bC40ODgtLjIzLjA3Ni0uNTM3LjIyOS0xLjZoMy4wNDNsLjI0MSAxLjYuMDc3LjUyNy40ODIuMjI5YTUuMzI4IDUuMzI4IDAgMCAxIC42ODEuMzgybC40MzQuMjkzLjQ4OC0uMTkxIDEuNTY4LS42MjcgMS41MzMgMi41MjMtMS4zMzQgMS4wMi0uNDMuMzI5LjA0LjUzOWMuMDA5LjEzLjAxNS4yNTguMDE4LjM4OXMtLjAwOS4yMjgtLjAxOC4zNTJsLS4wNDEuNTQxLjQzMS4zMjggMS4zMTEuOTgxWiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU3MCIvPjxwYXRoIGlkPSLtjKjsiqRfMzU3MSIgZD0iTTggNWEzIDMgMCAxIDAgMyAzIDMgMyAwIDAgMC0zLTNtMCA1YTIgMiAwIDEgMSAyLTIgMiAyIDAgMCAxLTIgMiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU3MSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLS4wMDIpIi8+PC9nPjwvZz48L2c+PC9zdmc+)}.btn[type=icon][position=bottom].attach,.btn[type=icon][position=bottom].setting_18{background-position:center bottom 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=bottom].attach{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY3OCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTY3Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3Njc3Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMTAuNSAxLjVBMy41IDMuNSAwIDAgMCA3IDV2Ni41YTIgMiAwIDAgMCA0IDB2LTZoLTF2NmExIDEgMCAwIDEtMiAwVjVhMi41IDIuNSAwIDAgMSA1IDB2Ni41YTQgNCAwIDAgMS04IDB2LThINHY4YTUgNSAwIDAgMCAxMCAwVjVhMy41IDMuNSAwIDAgMC0zLjUtMy41IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTE5Ii8+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=bottom].search-document{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY3MCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTYzIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzY2NyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NjY2Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMTMuMzc0IDE3SDMuNjI2QTEuNjE1IDEuNjE1IDAgMCAxIDIgMTUuNFYyLjZBMS42MTUgMS42MTUgMCAwIDEgMy42MjYgMWg3LjkyYzEuMDc1IDEuMDU5IDEuMyAxLjI3MSAxLjU0MSAxLjUuMjYzLjI0OC41MzYuNSAxLjkxNCAxLjg2MVY2LjVIMTRWNC43NzdjLTEuMDctMS4wNTUtMS4zMzUtMS4zLTEuNTY5LTEuNTI1bC0uMDMtLjAyOVExMS43NiAyLjYyIDExLjEzNSAySDMuNjI2QS42MTMuNjEzIDAgMCAwIDMgMi42djEyLjhhLjYxNC42MTQgMCAwIDAgLjYyNS42aDkuNzQ5YS42MTQuNjE0IDAgMCAwIC42MjYtLjZ2LS45aDF2LjlhMS42MTUgMS42MTUgMCAwIDEtMS42MjYgMS42IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTA4Ii8+PHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjN2I3YjdiIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE0IDVoLTIuMzA5QS42MzQuNjM0IDAgMCAxIDExIDQuNDI4YS41NzIuNTcyIDAgMCAxIDAtLjExN1YyIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTA5Ii8+PHBhdGggZmlsbD0iIzdiN2I3YiIgZD0iTTUuNSA3aDRhLjUuNSAwIDAgMSAwIDFoLTRhLjUuNSAwIDAgMSAwLTEiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MTAiLz48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNNS41IDloM2EuNS41IDAgMCAxIDAgMWgtM2EuNS41IDAgMCAxIDAtMSIgZGF0YS1uYW1lPSLtjKjsiqQgMzUxMSIvPjxwYXRoIGZpbGw9IiM3YjdiN2IiIGQ9Ik01LjUgMTFoM2EuNS41IDAgMCAxIDAgMWgtM2EuNS41IDAgMCAxIDAtMSIgZGF0YS1uYW1lPSLtjKjsiqQgMzUxMiIvPjwvZz48L2c+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzY2OSI+PGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjN2I3YjdiIiBjbGlwLXBhdGg9InVybCgjYSkiIGRhdGEtbmFtZT0i6re466O5IDc2NjgiPjxwYXRoIGQ9Ik0xMS4zMjggOC40MTRhMyAzIDAgMSAxIDAgNC4yNDMgMyAzIDAgMCAxIDAtNC4yNDNaIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTEzIi8+PHBhdGggc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJtMTUuNDUgMTIuOTQ5IDEuNzY4IDEuNzY4IiBkYXRhLW5hbWU9IuyEoCA0NzEiLz48L2c+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=bottom].calendar,.btn[type=icon][position=bottom].search-document{background-position:center bottom 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=bottom].calendar{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTc0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgZmlsbD0iIzdiN2I3YiIgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NjgyIj48cGF0aCBkPSJNMTUgM2gtMVYyaC0ydjFINlYySDR2MUgzYTEgMSAwIDAgMC0xIDF2MTFhMSAxIDAgMCAwIDEgMWgxMmExIDEgMCAwIDAgMS0xVjRhMSAxIDAgMCAwLTEtMW0wIDEySDNWNmgxMloiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MjAiLz48cGF0aCBkPSJNNSA4aDJ2Mkg1eiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzE2OCIvPjxwYXRoIGQ9Ik04IDhoMnYySDh6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTY5Ii8+PHBhdGggZD0iTTExIDhoMnYyaC0yeiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzE3MCIvPjxwYXRoIGQ9Ik01IDExaDJ2Mkg1eiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzE3MSIvPjxwYXRoIGQ9Ik04IDExaDJ2Mkg4eiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzE3MiIvPjxwYXRoIGQ9Ik0xMSAxMWgydjJoLTJ6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTczIi8+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=bottom].document{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY4NiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTc4Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3Njg1Ij48cGF0aCBmaWxsPSIjNzc3IiBkPSJNNC41IDNhLjQ2NS40NjUgMCAwIDAtLjUuNHYxMS4yYS40NjUuNDY1IDAgMCAwIC41LjRoOWEuNDY1LjQ2NSAwIDAgMCAuNS0uNFY1LjM3MnEtLjcwOC0uNjY4LTEuNDMzLTEuMzE3LS41ODItLjUyLTEuMTUtMS4wNTVabTAtMWg3LjMxYzIuMDUxIDEuOTE0Ljc1OC42NjggMy4xOSAyLjkzOFYxNC42YTEuNDUzIDEuNDUzIDAgMCAxLTEuNSAxLjRoLTlBMS40NTMgMS40NTMgMCAwIDEgMyAxNC42VjMuNEExLjQ1MyAxLjQ1MyAwIDAgMSA0LjUgMiIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyMSIvPjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzc3NyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xNCA1LjVoLTEuOTI0YS41MjkuNTI5IDAgMCAxLS41NzYtLjQ3OC41MTMuNTEzIDAgMCAxIDAtLjFWMyIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyMiIvPjxwYXRoIGZpbGw9IiNhNmE2YTYiIGQ9Ik02IDhoNnYxSDZ6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTc1Ii8+PHBhdGggZmlsbD0iI2E2YTZhNiIgZD0iTTYgMTBoNnYxSDZ6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTc2Ii8+PHBhdGggZmlsbD0iI2E2YTZhNiIgZD0iTTYgMTJoNnYxSDZ6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTc3Ii8+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=bottom].document,.btn[type=icon][position=bottom].note{background-position:center bottom 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=bottom].note{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzY4OSI+PHBhdGggZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzE3OSIvPjxwYXRoIGZpbGw9IiM3YjdiN2IiIGQ9Ik0xNSAxNkgzYTEgMSAwIDAgMS0xLTFWM2ExIDEgMCAwIDEgMS0xaDEyYTEgMSAwIDAgMSAxIDF2MTJhMSAxIDAgMCAxLTEgMU0zIDE1aDEyVjVIM1oiIGRhdGEtbmFtZT0i7Yyo7IqkIDM0OTkiLz48L2c+PC9zdmc+)}.btn[type=icon][position=bottom].reset{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY5MiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTgwIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NjkxIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMTYuMzU0IDlhNy41IDcuNSAwIDAgMS0xMy4xIDQuOTg4LjUuNSAwIDEgMSAuNzQ2LS42NjJBNi40ODcgNi40ODcgMCAxIDAgMy41NjUgNS4yaDEuNTgxYS41LjUgMCAwIDEgMCAxaC0zYS41LjUgMCAwIDEtLjUtLjV2LTNhLjUuNSAwIDEgMSAxIDB2Mi4xMzJBNy40ODIgNy40ODIgMCAwIDEgMTYuMzU0IDkiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MjMiLz48L2c+PC9zdmc+)}.btn[type=icon][position=bottom].refresh,.btn[type=icon][position=bottom].reset{background-position:center bottom 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=bottom].refresh{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY5MiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTgwIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NjkxIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMS42NDYgOWE3LjUgNy41IDAgMCAwIDEzLjEgNC45ODguNS41IDAgMSAwLS43NDYtLjY2MiA2LjQ4NyA2LjQ4NyAwIDEgMSAuNDM1LTguMTI2aC0xLjU4MWEuNS41IDAgMCAwIDAgMWgzYS41LjUgMCAwIDAgLjUtLjV2LTNhLjUuNSAwIDAgMC0xIDB2Mi4xMzJBNy40ODIgNy40ODIgMCAwIDAgMS42NDYgOSIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyMyIvPjwvZz48L3N2Zz4=)}.btn[type=icon][position=bottom].download{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcwNSI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzA0Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMi41MzggMTZBLjUzOS41MzkgMCAwIDEgMiAxNS40NjJ2LTMuMjMxYS41MzguNTM4IDAgMSAxIDEuMDc3IDB2Mi42OTJoMTEuODQ2di0yLjY5MmEuNTM4LjUzOCAwIDEgMSAxLjA3NyAwdjMuMjMxYS41MzkuNTM5IDAgMCAxLS41MzguNTM4Wm02LjEyMi00Ljk2N0w0Ljg1MiA3LjIyN2EuNTM4LjUzOCAwIDAgMSAuNzU5LS43NjRMOC40NiA5LjMxMlYyLjUzOGEuNTM4LjUzOCAwIDEgMSAxLjA3NyAwdjYuODUzbDIuOTI4LTIuOTI2YS41NC41NCAwIDEgMSAuNzYyLjc2NEw5LjQyIDExLjAzNGEuNTM0LjUzNCAwIDAgMS0uNzYgMCIgZGF0YS1uYW1lPSLtjKjsiqQgMzUzNCIvPjwvZz48L3N2Zz4=)}.btn[type=icon][position=bottom].download,.btn[type=icon][position=bottom].excel-save{background-position:center bottom 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=bottom].excel-save{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY5OSI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTgyIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3Njk4Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMyAxOGExIDEgMCAwIDEtMS0xdi0xLjg1OEwxIDE1YTEgMSAwIDAgMS0xLTFWNWExIDEgMCAwIDEgMS0xbDEtLjE0MlYyYTEgMSAwIDAgMSAxLTFoOXYxaDF2MWgxdjFoMXYxaC0xVjRoLTFWM2gtMVYySDN2MS43MTRMOCAzYTEgMSAwIDAgMSAxIDF2MTFhMSAxIDAgMCAxLTEgMWwtNS0uNzE2VjE3aDEyYTEgMSAwIDAgMS0xIDFabTEuNS02LjkwNy43NjMgMS4yMDdINy4zTDUuNDg2IDkuNTM4IDcuMyA2LjY5NEg1LjM3N0w0LjUgOC4wMzZsLS44OC0xLjM0MkgxLjdsMS44MSAyLjg0Ny0xLjgxIDIuNzY0IDIuMDMxLS4wMDUuNzY5LTEuMjA2Wm0xMC4wMDYgMy45MjdoLS4wMjVhLjUxNS41MTUgMCAwIDEtLjM1OC0uMTQ4bC0yLjk4OC0yLjk5M2EuNTA4LjUwOCAwIDAgMSAwLS43MTUuNS41IDAgMCAxIC43MDctLjAwNmwuMDA2LjAwNkwxNCAxMy4zMTZWNy41YS41LjUgMCAwIDEgMSAwdjUuODI3bDIuMTMyLTIuMTM1YS41LjUgMCAwIDEgLjcwOC43MWwtMi45NjkgMi45NjhhLjQ5My40OTMgMCAwIDEtLjM1Ny4xNDlaIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTMyIi8+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=bottom].excel-upload{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcwMSI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTgzIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzAwIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMyAxOGExIDEgMCAwIDEtMS0xdi0xLjg1N0wxIDE1YTEgMSAwIDAgMS0xLTFWNWExIDEgMCAwIDEgMS0xbDEtLjE0M1YyYTEgMSAwIDAgMSAxLTFoOXYxaDF2MWgxdjFoMXYxaC0xVjRoLTFWM2gtMVYySDN2MS43MTNMOCAzYTEgMSAwIDAgMSAxIDF2MTFhMSAxIDAgMCAxLTEgMWwtNS0uNzE0VjE3aDEyYTEgMSAwIDAgMS0xIDFabTEuNS02LjkwNi43NjUgMS4yTDcuMyAxMi4zIDUuNDg3IDkuNTM1IDcuMyA2LjY4OEg1LjM4TDQuNSA4LjAzMWwtLjg4LTEuMzQzSDEuN2wxLjgxIDIuODQ3TDEuNyAxMi4zbDIuMDM3LS4wMDUuNzY1LTEuMlpNMTQgMTQuNVY4LjcxbC0yLjE0NyAyLjE0NmEuNTA1LjUwNSAwIDAgMS0uNzE1LS43MTRsMi45ODgtMi45ODFhLjUwOC41MDggMCAwIDEgLjM4Mi0uMTQ2LjUuNSAwIDAgMSAuMzY4LjE0NmwyLjk2NCAyLjk1OGEuNS41IDAgMCAxLS43MDcuN0wxNSA4Ljd2NS44YS41LjUgMCAwIDEtMSAwWiIgZGF0YS1uYW1lPSLtjKjsiqQgMzUzMyIvPjwvZz48L3N2Zz4=)}.btn[type=icon][position=bottom].edit,.btn[type=icon][position=bottom].excel-upload{background-position:center bottom 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=bottom].edit{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcxNiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg5Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzE1Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMTUuNDYyIDE1Ljk4M0gyLjUzOGEuNTM4LjUzOCAwIDEgMSAwLTEuMDc2aDEyLjkyNGEuNTM4LjUzOCAwIDEgMSAwIDEuMDc2TTEyLjYzMSA1LjM2NmwtMi4xNTMtMi4xNTJMMTEuNjkyIDJhMS45MDkgMS45MDkgMCAwIDEgMi4xNTQgMi4xNTFabS04LjQ3NyA4LjQ2Nkgydi0yLjE1MWw3LjcxNi03LjcwNiAyLjE1NCAyLjE1MVoiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1NDAiLz48L2c+PC9zdmc+)}.btn[type=icon][position=bottom].maximize{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcwOCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg1Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgZmlsbD0iIzcwNzA3MCIgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzA3Ij48cGF0aCBkPSJNMTUuNSAyaC4wMjRhLjUuNSAwIDAgMSAuNDI5LjI4OWwuMDA5LjAydi4wMjFhLjUuNSAwIDAgMSAuMDM4LjJWNi41YS41LjUgMCAwIDEtMSAwVjMuNzA3bC00LjY0NiA0LjY0NmEuNS41IDAgMCAxLS43MDktLjdMMTQuMjkyIDNIMTEuNWEuNS41IDAgMCAxIDAtMVoiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MzUiLz48cGF0aCBkPSJNOC4zNTUgOS42NDZhLjUuNSAwIDAgMSAwIC43MDdMMy43MDggMTVINi41YS41LjUgMCAwIDEgMCAxSDIuNTNhLjUuNSAwIDAgMS0uMi0uMDI5aC0uMDJsLS4wMTgtLjAxN2EuNS41IDAgMCAxLS4yNDUtLjI0NC4wMTguMDE4IDAgMCAwLS4wMDctLjAxN2MtLjAwNy0uMDA2IDAtLjAwOSAwLS4wMTR2LS4wMDZhLjQ4Ny40ODcgMCAwIDEtLjAzLS4yVjExLjVhLjUuNSAwIDAgMSAxIDB2Mi43OTJsNC42MzktNC42NDZhLjUuNSAwIDAgMSAuNzA2IDAiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MzYiLz48L2c+PC9zdmc+)}.btn[type=icon][position=bottom].add,.btn[type=icon][position=bottom].maximize{background-position:center bottom 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=bottom].add{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcxMiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg3Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzExIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNOC41IDE1VjkuNUgzYS41LjUgMCAwIDEgMC0xaDUuNVYzYS41LjUgMCAwIDEgMSAwdjUuNUgxNWEuNS41IDAgMCAxIDAgMUg5LjVWMTVhLjUuNSAwIDAgMS0xIDAiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MzgiLz48L2c+PC9zdmc+)}.btn[type=icon][position=bottom].minus{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcxNCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg4Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzEzIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMyA4aDEyYS41LjUgMCAwIDEgMCAxSDNhLjUuNSAwIDAgMSAwLTEiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MzkiLz48L2c+PC9zdmc+)}.btn[type=icon][position=bottom].close,.btn[type=icon][position=bottom].minus{background-position:center bottom 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=bottom].close{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcxMiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg3Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzExIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJtMy40MDQgMTMuODg5IDQuODg5LTQuODktNC44ODktNC44ODhhLjUuNSAwIDEgMSAuNzA3LS43MDdMOSA4LjI5M2w0Ljg4OS00Ljg5YS41LjUgMCAxIDEgLjcwNy43MDhMOS43MDcgOWw0Ljg4OSA0Ljg4OWEuNS41IDAgMSAxLS43MDcuNzA3TDkgOS43MDdsLTQuODg5IDQuODg5YS41LjUgMCAxIDEtLjcwNy0uNzA3IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTM4Ii8+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=bottom].view-list{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcxMCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg2Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzA5Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMyAxMy41YS41LjUgMCAwIDEgMC0xaDEyYS41LjUgMCAwIDEgMCAxWm0wLTRhLjUuNSAwIDAgMSAwLTFoMTJhLjUuNSAwIDAgMSAwIDFabTAtNGEuNS41IDAgMCAxIDAtMWgxMmEuNS41IDAgMCAxIDAgMVoiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MzciLz48L2c+PC9zdmc+)}.btn[type=icon][position=bottom].print,.btn[type=icon][position=bottom].view-list{background-position:center bottom 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=bottom].print{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzcyOCI+PHBhdGggZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzIwMCIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMTA4IC0xMTMpIj48ZyBmaWxsPSJub25lIiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzODYyIj48cGF0aCBkPSJNMTExMyAxMTRoOGExIDEgMCAwIDEgMSAxdjRoLTEwdi00YTEgMSAwIDAgMSAxLTFaIiBkYXRhLW5hbWU9Iu2MqOyKpCAyOTkzIi8+PHBhdGggc3Ryb2tlPSIjN2I3YjdiIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xMTEzIDExNC41aDhhLjUuNSAwIDAgMSAuNS41djMuNWgtOVYxMTVhLjUuNSAwIDAgMSAuNS0uNVoiIGRhdGEtbmFtZT0i7Yyo7IqkIDI5OTQiLz48L2c+PHBhdGggZmlsbD0iIzdiN2I3YiIgZD0iTTExMTMgMTI2aC0zYTEgMSAwIDAgMS0xLTF2LTZhMSAxIDAgMCAxIDEtMWgxNGExIDEgMCAwIDEgMSAxdjZhMSAxIDAgMCAxLTEgMWgtMnYtMWgydi02aC0xNHY2aDNaIiBkYXRhLW5hbWU9Iuu5vOq4sCAxODEiLz48ZyBmaWxsPSJub25lIiBzdHJva2U9IiM3YjdiN2IiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzg2NCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTExMiAxMjMpIj48cmVjdCB3aWR0aD0iMTAiIGhlaWdodD0iNyIgc3Ryb2tlPSJub25lIiByeD0iMSIvPjxyZWN0IHdpZHRoPSI5IiBoZWlnaHQ9IjYiIHg9Ii41IiB5PSIuNSIgcng9Ii41Ii8+PC9nPjxyZWN0IHdpZHRoPSI2IiBoZWlnaHQ9IjEiIGZpbGw9IiM3YjdiN2IiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDM4NjUiIHJ4PSIuNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTExNCAxMjUpIi8+PHJlY3Qgd2lkdGg9IjYiIGhlaWdodD0iMSIgZmlsbD0iIzdiN2I3YiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzg2NiIgcng9Ii41IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTE0IDEyNykiLz48Y2lyY2xlIGN4PSIuNSIgY3k9Ii41IiByPSIuNSIgZmlsbD0iIzdiN2I3YiIgZGF0YS1uYW1lPSLtg4Dsm5AgNjkwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTIwIDEyMCkiLz48Y2lyY2xlIGN4PSIuNSIgY3k9Ii41IiByPSIuNSIgZmlsbD0iIzdiN2I3YiIgZGF0YS1uYW1lPSLtg4Dsm5AgNjkxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTIyIDEyMCkiLz48L2c+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=bottom].filter{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzczMCI+PHBhdGggZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzIwMCIvPjxnIGRhdGEtbmFtZT0i6re466O5IDU1MjAxIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM3YjdiN2IiIGQ9Ik03Ljc3MSAxNS45MjdhLjUxMi41MTIgMCAwIDEtLjI0My0uNDM2VjEwLjFMMi45NDUgNC45MTdhMS44MzEgMS44MzEgMCAwIDEtLjQ0My0xLjI5NXYtLjQ1NUExLjE3NCAxLjE3NCAwIDAgMSAzLjY4NCAyaDEwLjYzMmExLjE3NCAxLjE3NCAwIDAgMSAxLjE4MSAxLjE2N3YuNDU1YTEuODMzIDEuODMzIDAgMCAxLS40NDEgMS4zbC00LjYwNyA1LjIwMXY0LjA4M2EuNTEuNTEgMCAwIDEtLjIyOC40MzFsLTEuOTQ4IDEuMjgyYS40NjQuNDY0IDAgMCAxLS4yNTcuMDgxLjUuNSAwIDAgMS0uMjQ1LS4wNzRaIiBkYXRhLW5hbWU9Iu2Vqey5mOq4sCAxMTYxIi8+PHBhdGggZmlsbD0iIzdiN2I3YiIgZD0iTTcuNDk4IDkuMjczaDN2MWgtM1oiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDI5MTUzIi8+PC9nPjwvZz48L3N2Zz4=)}.btn[type=icon][position=bottom].filter,.btn[type=icon][position=bottom].graph{background-position:center bottom 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=bottom].graph{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzczMSI+PHBhdGggZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzIwMSIvPjxnIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzdiN2I3YiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48cGF0aCBkPSJtNC43MzkgMTAuNzY1IDMuODctMy44OTMgMy4wOTcgMy4xMTQgMy44NjgtMy44OTIiIGRhdGEtbmFtZT0i7Yyo7IqkIDU1NDk5Ii8+PHBhdGggZD0iTTEzLjI2NCA1LjY4NEgxNlY4LjQyIiBkYXRhLW5hbWU9Iu2MqOyKpCA1NTUwMCIvPjxwYXRoIGQ9Ik0yIDMuNTF2MTEuNTg3aDE0IiBkYXRhLW5hbWU9Iu2MqOyKpCA1NTUwMSIvPjwvZz48L2c+PC9zdmc+)}.btn[type=icon][position=bottom].save{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGcgZmlsbD0ibm9uZSIgZGF0YS1uYW1lPSLqt7jro7kgNzczNCI+PHBhdGggZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzAwMyIvPjxnIGRhdGEtbmFtZT0i6re466O5IDc3MzUiPjxwYXRoIHN0cm9rZT0iIzcwNzA3MCIgZD0iTTQuNzkyIDIuNzMydjMuMmg3LjA3NnYtMy4yIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTQxIi8+PGcgZGF0YS1uYW1lPSLtjKjsiqQgMzU0MiI+PHBhdGggZD0iTTEyLjMxMyAySDJ2MTRoMTRWNS44NjdaIi8+PHBhdGggZmlsbD0iIzcwNzA3MCIgZD0iTTMgM3YxMmgxMlY2LjI2N0wxMS44ODUgM0gzTTIgMmgxMC4zMTNMMTYgNS44NjdWMTZIMlYyWiIvPjwvZz48ZyBzdHJva2U9IiM3MDcwNzAiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDMyMDIiPjxwYXRoIHN0cm9rZT0ibm9uZSIgZD0iTTQuMzY4IDExaDl2NWgtOXoiLz48cGF0aCBkPSJNNC44NjggMTEuNWg4djRoLTh6Ii8+PC9nPjwvZz48L2c+PC9zdmc+)}.btn[type=icon][position=bottom].save,.btn[type=icon][position=bottom].selective{background-position:center bottom 8px;background-repeat:no-repeat;background-size:14px;border:1px solid #ccc;color:#666}.btn[type=icon][position=bottom].selective{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY5NSI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTgxIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgZmlsbD0iIzdiN2I3YiIgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3Njk0Ij48cGF0aCBkPSJNMTAuOCAxNC42NjdIMi41MzVhLjUuNSAwIDEgMSAwLTFIMTAuOGEuNS41IDAgMCAxIDAgMSIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyNCIvPjxwYXRoIGQ9Ik0xNS4yMzQgMTQuNjY3SDEzLjlhLjUuNSAwIDAgMSAwLTFoMS4zMzNhLjUuNSAwIDAgMSAwIDEiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MjUiLz48cGF0aCBkPSJNMTIuNTY4IDE2YTEuODMzIDEuODMzIDAgMSAxIDEuODMyLTEuODMzQTEuODMzIDEuODMzIDAgMCAxIDEyLjU2OCAxNm0wLTIuNjY3YS44MzMuODMzIDAgMSAwIC44MzMuODM0LjgzMy44MzMgMCAwIDAtLjgzMy0uODM0IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTI2Ii8+PHBhdGggZD0iTTQuMzY4IDkuMkgyLjVhLjUuNSAwIDAgMSAwLTFoMS44NjhhLjUuNSAwIDAgMSAwIDEiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MjciLz48cGF0aCBkPSJNMTUuMiA5LjJINy40NjZhLjUuNSAwIDAgMSAwLTFIMTUuMmEuNS41IDAgMSAxIDAgMSIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyOCIvPjxwYXRoIGQ9Ik01LjcgMTAuNTI5YTEuODMzIDEuODMzIDAgMSAxIDEuODM0LTEuODM0QTEuODMzIDEuODMzIDAgMCAxIDUuNyAxMC41MjltMC0yLjY2N2EuODMzLjgzMyAwIDEgMCAuODMzLjgzMy44MzMuODMzIDAgMCAwLS44MzMtLjgzMyIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyOSIvPjxwYXRoIGQ9Ik0xMi41NDUgNC4zMzNIMi41MzdhLjUuNSAwIDAgMSAwLTFoMTAuMDA4YS41LjUgMCAwIDEgMCAxIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTMwIi8+PHBhdGggZD0iTTE0LjE2OCA1LjY2NkExLjgzMyAxLjgzMyAwIDEgMSAxNiAzLjgzM2ExLjgzMyAxLjgzMyAwIDAgMS0xLjgzMyAxLjgzM20wLTIuNjY2YS44MzMuODMzIDAgMSAwIC44MzMuODMzLjgzMy44MzMgMCAwIDAtLjgzMi0uODMzIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTMxIi8+PC9nPjwvc3ZnPg==)}.btn[type=icon][position=bottom],.btn[type=icon][position=left],.btn[type=icon][position=right],.btn[type=icon][position=top]{border-radius:3px;font-size:12px}.btn[type=icon][position=bottom]>div[class^=icon-],.btn[type=icon][position=left]>div[class^=icon-],.btn[type=icon][position=right]>div[class^=icon-],.btn[type=icon][position=top]>div[class^=icon-]{align-items:center;display:flex}.btn[type=icon][position=bottom]>.img-icon,.btn[type=icon][position=left]>.img-icon,.btn[type=icon][position=right]>.img-icon,.btn[type=icon][position=top]>.img-icon{align-items:center;border:1px solid #ccc;color:#666;display:flex;height:100%;padding:0 8px}.btn[type=icon][position=bottom]>.img-icon>img,.btn[type=icon][position=left]>.img-icon>img,.btn[type=icon][position=right]>.img-icon>img,.btn[type=icon][position=top]>.img-icon>img{height:14px;width:14px}.btn[type=icon][position=bottom]>.img-icon:focus,.btn[type=icon][position=bottom]>.img-icon:hover,.btn[type=icon][position=left]>.img-icon:focus,.btn[type=icon][position=left]>.img-icon:hover,.btn[type=icon][position=right]>.img-icon:focus,.btn[type=icon][position=right]>.img-icon:hover,.btn[type=icon][position=top]>.img-icon:focus,.btn[type=icon][position=top]>.img-icon:hover{border:1px solid #0079e8;color:#0079e8;outline:0}.btn[type=icon][position=bottom]>.img-icon:active,.btn[type=icon][position=left]>.img-icon:active,.btn[type=icon][position=right]>.img-icon:active,.btn[type=icon][position=top]>.img-icon:active{background-color:#f5f5f5;border:1px solid #ccc;color:#666}.btn[type=icon][position=bottom]>.img-icon.disable,.btn[type=icon][position=left]>.img-icon.disable,.btn[type=icon][position=right]>.img-icon.disable,.btn[type=icon][position=top]>.img-icon.disable{background-color:#e5e9ed;border:0;color:#939ba3;cursor:pointer}.btn[type=icon][position=left],.btn[type=icon][position=right]{align-items:center;display:flex;height:24px}.btn[type=icon][position=left]>div[class^=icon-]{padding-left:27px;padding-right:8px}.btn[type=icon][position=left]>.img-icon>img{margin-right:4px}.btn[type=icon][position=right]>div[class^=icon-]{padding-left:8px;padding-right:27px}.btn[type=icon][position=right]>.img-icon{flex-direction:row-reverse}.btn[type=icon][position=right]>.img-icon>img{margin-left:4px}.btn[type=icon][position=bottom],.btn[type=icon][position=top]{height:52px}.btn[type=icon][position=bottom]>div[class^=icon-],.btn[type=icon][position=top]>div[class^=icon-]{justify-content:center;min-width:54px}.btn[type=icon][position=bottom]>.img-icon,.btn[type=icon][position=top]>.img-icon{min-width:54px}.btn[type=icon][position=top]>div[class^=icon-]{align-items:flex-end;padding:0 8px 3px}.btn[type=icon][position=top]>.img-icon{flex-direction:column}.btn[type=icon][position=top]>.img-icon>img{margin-bottom:4px;margin-top:8px}.btn[type=icon][position=bottom]>div[class^=icon-]{align-items:flex-start;padding:5px 8px 0}.btn[type=icon][position=bottom]>.img-icon{flex-direction:column-reverse}.btn[type=icon][position=bottom]>.img-icon>img{margin-bottom:8px;margin-top:4px}.btn.is-default:disabled{cursor:not-allowed}.btn.s-medium>.arrowup_18{background-size:18px}.btn.s-large>.arrowup_18,.btn.s-medium>.arrowup_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1NCIgZmlsbD0ibm9uZSIgZD0iTTAgMGg2djEySDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzU0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgaWQ9Ikljb25fYXJyb3d1cF8xOCIgZGF0YS1uYW1lPSJJY29uL2Fycm93dXBfMTgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01OTE5IC01Nzc5KSI+PHBhdGggaWQ9Iu2MqOyKpF8zNTg5IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDApIiBkPSJNMCAwaDE4djE4SDBaIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTg5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1OTE5IDU3NzkpIi8+PGcgaWQ9Iuq3uOujuV84NTg3IiBkYXRhLW5hbWU9Iuq3uOujuSA4NTg3IiB0cmFuc2Zvcm09InJvdGF0ZSg5MCA3NSA1ODU5KSI+PGcgaWQ9Iuq3uOujuV84NTgzIiBjbGlwLXBhdGg9InVybCgjY2xpcC1wYXRoKSIgZGF0YS1uYW1lPSLqt7jro7kgODU4MyI+PHBhdGggaWQ9Iu2MqOyKpF8zNTkwIiBmaWxsPSIjN2I3YjdiIiBkPSJNNS41IDEyYS41LjUgMCAwIDEtLjM3LS4xNjRsLTUtNS41YS41LjUgMCAwIDEgMC0uNjczbDUtNS41YS41LjUgMCAxIDEgLjc0LjY3M0wxLjE3NiA2bDQuNjk0IDUuMTY0QS41LjUgMCAwIDEgNS41IDEyIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTkwIi8+PC9nPjwvZz48L2c+PC9zdmc+);background-position:50%;background-repeat:no-repeat;height:100%}.btn.s-large>.arrowup_18{background-size:20px}.btn.s-medium>.arrowdown_18{background-size:18px}.btn.s-large>.arrowdown_18,.btn.s-medium>.arrowdown_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1NCIgZmlsbD0ibm9uZSIgZD0iTTAgMGg2djEySDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzU0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgaWQ9Ikljb25fYXJyb3dkb3duXzE4IiBkYXRhLW5hbWU9Ikljb24vYXJyb3dkb3duXzE4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTk3NiAtNTc3OSkiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzMzMyIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzMzMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTk3NiA1Nzc5KSIvPjxnIGlkPSLqt7jro7lfODU4NiIgZGF0YS1uYW1lPSLqt7jro7kgODU4NiIgdHJhbnNmb3JtPSJyb3RhdGUoLTkwIDU4ODUuNSAtOTMuNSkiPjxnIGlkPSLqt7jro7lfODU4MyIgY2xpcC1wYXRoPSJ1cmwoI2NsaXAtcGF0aCkiIGRhdGEtbmFtZT0i6re466O5IDg1ODMiPjxwYXRoIGlkPSLtjKjsiqRfMzU5MCIgZmlsbD0iIzdiN2I3YiIgZD0iTTUuNSAxMmEuNS41IDAgMCAxLS4zNy0uMTY0bC01LTUuNWEuNS41IDAgMCAxIDAtLjY3M2w1LTUuNWEuNS41IDAgMSAxIC43NC42NzNMMS4xNzYgNmw0LjY5NCA1LjE2NEEuNS41IDAgMCAxIDUuNSAxMiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU5MCIvPjwvZz48L2c+PC9nPjwvc3ZnPg==);background-position:50%;background-repeat:no-repeat;height:100%}.btn.s-large>.arrowdown_18{background-size:20px}.btn.s-medium>.arrowleft_18{background-size:18px}.btn.s-large>.arrowleft_18,.btn.s-medium>.arrowleft_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1NCIgZmlsbD0ibm9uZSIgZD0iTTAgMGg2djEySDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzU0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgaWQ9Ikljb25fYXJyb3dsZWZ0XzE4IiBkYXRhLW5hbWU9Ikljb24vYXJyb3dsZWZ0XzE4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNjA1NCAtNTc3NikiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzMzNCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzMzNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjA1NCA1Nzc2KSIvPjxnIGlkPSLqt7jro7lfODU0MiIgZGF0YS1uYW1lPSLqt7jro7kgODU0MiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjA1NyA1Nzc5KSI+PGcgaWQ9Iuq3uOujuV84NTg1IiBkYXRhLW5hbWU9Iuq3uOujuSA4NTg1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyKSI+PGcgaWQ9Iuq3uOujuV84NTgzIiBjbGlwLXBhdGg9InVybCgjY2xpcC1wYXRoKSIgZGF0YS1uYW1lPSLqt7jro7kgODU4MyI+PHBhdGggaWQ9Iu2MqOyKpF8zNTkwIiBmaWxsPSIjN2I3YjdiIiBkPSJNNS41IDEyYS41LjUgMCAwIDEtLjM3LS4xNjRsLTUtNS41YS41LjUgMCAwIDEgMC0uNjczbDUtNS41YS41LjUgMCAxIDEgLjc0LjY3M0wxLjE3NiA2bDQuNjk0IDUuMTY0QS41LjUgMCAwIDEgNS41IDEyIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTkwIi8+PC9nPjwvZz48L2c+PC9nPjwvc3ZnPg==);background-position:50%;background-repeat:no-repeat;height:100%}.btn.s-large>.arrowleft_18{background-size:20px}.btn.s-medium>.arrowright_18{background-size:18px}.btn.s-large>.arrowright_18,.btn.s-medium>.arrowright_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1NCIgZmlsbD0ibm9uZSIgZD0iTTAgMGg2djEySDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzU0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgaWQ9Ikljb25fYXJyb3dyaWdodF8xOCIgZGF0YS1uYW1lPSJJY29uL2Fycm93cmlnaHRfMTgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02MDE4IC01Nzc2KSI+PHBhdGggaWQ9IuyCrOqwge2YlV8zMzM2IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDApIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzM2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2MDE4IDU3NzYpIi8+PGcgaWQ9Iuq3uOujuV84NTg0IiBkYXRhLW5hbWU9Iuq3uOujuSA4NTg0IiB0cmFuc2Zvcm09InJvdGF0ZSgxODAgMzAxNS41IDI4OTUuNSkiPjxnIGlkPSLqt7jro7lfODU4MyIgY2xpcC1wYXRoPSJ1cmwoI2NsaXAtcGF0aCkiIGRhdGEtbmFtZT0i6re466O5IDg1ODMiPjxwYXRoIGlkPSLtjKjsiqRfMzU5MCIgZmlsbD0iIzdiN2I3YiIgZD0iTTUuNSAxMmEuNS41IDAgMCAxLS4zNy0uMTY0bC01LTUuNWEuNS41IDAgMCAxIDAtLjY3M2w1LTUuNWEuNS41IDAgMSAxIC43NC42NzNMMS4xNzYgNmw0LjY5NCA1LjE2NEEuNS41IDAgMCAxIDUuNSAxMiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU5MCIvPjwvZz48L2c+PC9nPjwvc3ZnPg==);background-position:50%;background-repeat:no-repeat;height:100%}.btn.s-large>.arrowright_18{background-size:20px}.btn.s-medium>.search_18{background-size:18px}.btn.s-large>.search_18,.btn.s-medium>.search_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzMyNiIgZmlsbD0ibm9uZSIgZD0iTTAgMGgxNHYxNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzMyNiIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGlkPSJJY29uX3NlYXJjaF8xOCIgZGF0YS1uYW1lPSJJY29uL3NlYXJjaF8xOCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU5NTUgLTU4NjgpIj48cGF0aCBpZD0i7IKs6rCB7ZiVXzMzMzciIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMCkiIGQ9Ik0wIDBoMTh2MThIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDMzMzciIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU5NTUgNTg2OCkiLz48ZyBpZD0i6re466O5Xzg1NDAiIGRhdGEtbmFtZT0i6re466O5IDg1NDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU5NTcgNTg3MCkiPjxnIGlkPSLrp4jsiqTtgaxf6re466O5Xzg1MzkiIGNsaXAtcGF0aD0idXJsKCNjbGlwLXBhdGgpIiBkYXRhLW5hbWU9IuuniOyKpO2BrCDqt7jro7kgODUzOSI+PHBhdGggaWQ9Iu2MqOyKpF8zNTY1IiBmaWxsPSIjN2I3YjdiIiBkPSJtMTMuODU0IDEzLjE0Ni0zLjI3NS0zLjI3NGE2LjAwOCA2LjAwOCAwIDEgMC0uNzA3LjcwN2wzLjI3NCAzLjI3NWEuNS41IDAgMCAwIC43MDgtLjcwOE02IDExYTUgNSAwIDEgMSA1LTUgNS4wMDYgNS4wMDYgMCAwIDEtNSA1IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTY1Ii8+PC9nPjwvZz48L2c+PC9zdmc+);background-position:50%;background-repeat:no-repeat;height:100%}.btn.s-large>.search_18{background-size:20px}.btn.s-medium>.trashcan_18{background-size:18px}.btn.s-large>.trashcan_18,.btn.s-medium>.trashcan_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1MyIgZmlsbD0ibm9uZSIgZD0iTTAgMGgxNnYxNkgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzM1MyIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGlkPSJJY29uX3RyYXNoY2FuXzE4IiBkYXRhLW5hbWU9Ikljb24vdHJhc2hjYW5fMTgiIHN0eWxlPSJtaXgtYmxlbmQtbW9kZTpub3JtYWw7aXNvbGF0aW9uOmlzb2xhdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01OTgzIC01ODcxKSI+PGcgaWQ9Iuq3uOujuV84NTc3IiBkYXRhLW5hbWU9Iuq3uOujuSA4NTc3IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzMgMjApIj48ZyBpZD0i6re466O5Xzg1NTkiIGRhdGEtbmFtZT0i6re466O5IDg1NTkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0IC0xNikiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzMzNSIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzMzNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTk5MiA1ODY3KSIvPjwvZz48L2c+PGcgaWQ9Iuq3uOujuV84NTgwIiBkYXRhLW5hbWU9Iuq3uOujuSA4NTgwIiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6bm9ybWFsO2lzb2xhdGlvbjppc29sYXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1OTg0IDU4NzIpIj48ZyBpZD0i6re466O5Xzg1NzkiIGZpbGw9IiM3YjdiN2IiIGNsaXAtcGF0aD0idXJsKCNjbGlwLXBhdGgpIiBkYXRhLW5hbWU9Iuq3uOujuSA4NTc5Ij48cGF0aCBpZD0i7Yyo7IqkXzM1ODUiIGQ9Ik0xNS41IDJIMTFWLjVhLjUuNSAwIDAgMC0uNS0uNWgtNWEuNS41IDAgMCAwLS41LjVWMkguNWEuNS41IDAgMCAwIDAgMUgydjEyYTEgMSAwIDAgMCAxIDFoMTBhMSAxIDAgMCAwIDEtMVYzaDEuNWEuNS41IDAgMCAwIDAtMU02IDFoNHYxSDZabTcgMTRIM1YzaDEwWiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU4NSIvPjxwYXRoIGlkPSLtjKjsiqRfMzU4NiIgZD0iTTUuNSAxMmEuNS41IDAgMCAwIC41LS41di01YS41LjUgMCAwIDAtMSAwdjVhLjUuNSAwIDAgMCAuNS41IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTg2Ii8+PHBhdGggaWQ9Iu2MqOyKpF8zNTg3IiBkPSJNMTAuNSAxMmEuNS41IDAgMCAwIC41LS41di01YS41LjUgMCAwIDAtMSAwdjVhLjUuNSAwIDAgMCAuNS41IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTg3Ii8+PHBhdGggaWQ9Iu2MqOyKpF8zNTg4IiBkPSJNOCAxMmEuNS41IDAgMCAwIC41LS41di01YS41LjUgMCAwIDAtMSAwdjVhLjUuNSAwIDAgMCAuNS41IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTg4Ii8+PC9nPjwvZz48L2c+PC9zdmc+);background-position:50%;background-repeat:no-repeat;height:100%}.btn.s-large>.trashcan_18{background-size:20px}.btn.s-medium>.setting_18{background-size:18px}.btn.s-large>.setting_18,.btn.s-medium>.setting_18{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM0NiIgZmlsbD0ibm9uZSIgZD0iTTAgMGgxNnYxNkgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzM0NiIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGlkPSJJY29uX3NldHRpbmVfMTgiIGRhdGEtbmFtZT0iSWNvbi9zZXR0aW5lXzE4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNjAyNSAtNTg2NykiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM0NyIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzM0NyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjAyNSA1ODY3KSIvPjxnIGlkPSLqt7jro7lfODU1NiIgZGF0YS1uYW1lPSLqt7jro7kgODU1NiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjAyNiA1ODY4KSI+PGcgaWQ9Iuq3uOujuV84NTU1IiBmaWxsPSIjN2I3YjdiIiBjbGlwLXBhdGg9InVybCgjY2xpcC1wYXRoKSIgZGF0YS1uYW1lPSLqt7jro7kgODU1NSI+PHBhdGggaWQ9Iu2MqOyKpF8zNTcwIiBkPSJNMTQuMjkyIDguNDM5Yy4wMTEtLjE0Ny4wMjItLjI5Mi4wMTktLjQ0M3MtLjAwOC0uMy0uMDE5LS40NDVsMS4zMzUtMS4wMmEuOTkzLjk5MyAwIDAgMCAuMjQ0LTEuMjY3TDE0LjM0NiAyLjdhMS4wMDggMS4wMDggMCAwIDAtMS4yMTUtLjQwOWwtMS41NzYuNjE2YTYuMTMxIDYuMTMxIDAgMCAwLS44MDctLjQ2MUwxMC41Ljc4OEExLjAxIDEuMDEgMCAwIDAgOS41MTkgMEg2LjQ3NmExLjAyMyAxLjAyMyAwIDAgMC0uOTg2Ljg0NWwtLjIzMyAxLjYxN2E2LjM2MiA2LjM2MiAwIDAgMC0uOC40NTFMMi44NjcgMi4zYTEgMSAwIDAgMC0xLjIxLjQyTC4xMzIgNS4yNzNhLjk5My45OTMgMCAwIDAgLjI0NiAxLjI3NWwxLjMyOCAxLjAxNWEzLjE1MiAzLjE1MiAwIDAgMC0uMDIxLjQ0NmMwIC4xNS4wMDkuMy4wMjEuNDQ1TC4zNzIgOS40NzdhLjk4NC45ODQgMCAwIDAtLjIzNSAxLjI2M2wxLjUxOSAyLjU2YTEuMDA5IDEuMDA5IDAgMCAwIDEuMjEzLjRsMS41NzctLjYxNWE2LjY4MiA2LjY4MiAwIDAgMCAuOC40NmwuMjQ2IDEuNjZhMS4wMTIgMS4wMTIgMCAwIDAgLjk5Ljc5NWgzLjA0YTEuMDI3IDEuMDI3IDAgMCAwIC45ODUtLjg0NGwuMjMzLTEuNjE4YTYuMyA2LjMgMCAwIDAgLjgtLjQ1bDEuNTg2LjYxNWEuOTk0Ljk5NCAwIDAgMCAuMzQ5LjA2MyAxLjAxNiAxLjAxNiAwIDAgMCAuODY0LS40ODJsMS41MjItMi41NTdhMSAxIDAgMCAwLS4yNDYtMS4yNzZabS0uOCA0LjMzMi0xLjU5Mi0uNjE1LS40ODItLjE4Ny0uNDMyLjI4NWE1LjIgNS4yIDAgMCAxLS42NzYuMzc5bC0uNDg3LjIyOS0uMDc3LjUzNEw5LjUyMSAxNWwtMy4wNDYtLjAwOUw2LjI0IDEzLjRsLS4wNzctLjUyNC0uNDc4LS4yM0E1LjYwOCA1LjYwOCAwIDAgMSA1IDEyLjI2MWwtLjQzNC0uMjkxLS40ODYuMTktMS41NjcuNjMyLTEuNTM0LTIuNTIxIDEuMzM0LTEuMDIzLjQzMS0uMzI5LS4wNDQtLjU0YTQuOTg2IDQuOTg2IDAgMCAxLS4wMTctLjM3IDIuMjA2IDIuMjA2IDAgMCAxIC4wMS0uM2wuMDg0LS41NzktLjQ2Ni0uMzU2LTEuMzItLjk4OEwyLjUwNiAzLjIzbDEuNTg2LjYxNi40ODIuMTg3LjQzMy0uMjg2YTUuMzIyIDUuMzIyIDAgMCAxIC42NzYtLjM4bC40ODgtLjIzLjA3Ni0uNTM3LjIyOS0xLjZoMy4wNDNsLjI0MSAxLjYuMDc3LjUyNy40ODIuMjI5YTUuMzI4IDUuMzI4IDAgMCAxIC42ODEuMzgybC40MzQuMjkzLjQ4OC0uMTkxIDEuNTY4LS42MjcgMS41MzMgMi41MjMtMS4zMzQgMS4wMi0uNDMuMzI5LjA0LjUzOWMuMDA5LjEzLjAxNS4yNTguMDE4LjM4OXMtLjAwOS4yMjgtLjAxOC4zNTJsLS4wNDEuNTQxLjQzMS4zMjggMS4zMTEuOTgxWiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU3MCIvPjxwYXRoIGlkPSLtjKjsiqRfMzU3MSIgZD0iTTggNWEzIDMgMCAxIDAgMyAzIDMgMyAwIDAgMC0zLTNtMCA1YTIgMiAwIDEgMSAyLTIgMiAyIDAgMCAxLTIgMiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU3MSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLS4wMDIpIi8+PC9nPjwvZz48L2c+PC9zdmc+);background-position:50%;background-repeat:no-repeat;height:100%}.btn.s-large>.setting_18{background-size:20px}.btn.s-medium>.attach{background-size:18px}.btn.s-large>.attach,.btn.s-medium>.attach{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY3OCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTY3Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3Njc3Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMTAuNSAxLjVBMy41IDMuNSAwIDAgMCA3IDV2Ni41YTIgMiAwIDAgMCA0IDB2LTZoLTF2NmExIDEgMCAwIDEtMiAwVjVhMi41IDIuNSAwIDAgMSA1IDB2Ni41YTQgNCAwIDAgMS04IDB2LThINHY4YTUgNSAwIDAgMCAxMCAwVjVhMy41IDMuNSAwIDAgMC0zLjUtMy41IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTE5Ii8+PC9nPjwvc3ZnPg==);background-position:50%;background-repeat:no-repeat;height:100%}.btn.s-large>.attach{background-size:20px}.btn.s-medium>.search-document{background-size:18px}.btn.s-large>.search-document,.btn.s-medium>.search-document{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY3MCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTYzIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzY2NyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NjY2Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMTMuMzc0IDE3SDMuNjI2QTEuNjE1IDEuNjE1IDAgMCAxIDIgMTUuNFYyLjZBMS42MTUgMS42MTUgMCAwIDEgMy42MjYgMWg3LjkyYzEuMDc1IDEuMDU5IDEuMyAxLjI3MSAxLjU0MSAxLjUuMjYzLjI0OC41MzYuNSAxLjkxNCAxLjg2MVY2LjVIMTRWNC43NzdjLTEuMDctMS4wNTUtMS4zMzUtMS4zLTEuNTY5LTEuNTI1bC0uMDMtLjAyOVExMS43NiAyLjYyIDExLjEzNSAySDMuNjI2QS42MTMuNjEzIDAgMCAwIDMgMi42djEyLjhhLjYxNC42MTQgMCAwIDAgLjYyNS42aDkuNzQ5YS42MTQuNjE0IDAgMCAwIC42MjYtLjZ2LS45aDF2LjlhMS42MTUgMS42MTUgMCAwIDEtMS42MjYgMS42IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTA4Ii8+PHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjN2I3YjdiIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE0IDVoLTIuMzA5QS42MzQuNjM0IDAgMCAxIDExIDQuNDI4YS41NzIuNTcyIDAgMCAxIDAtLjExN1YyIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTA5Ii8+PHBhdGggZmlsbD0iIzdiN2I3YiIgZD0iTTUuNSA3aDRhLjUuNSAwIDAgMSAwIDFoLTRhLjUuNSAwIDAgMSAwLTEiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MTAiLz48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNNS41IDloM2EuNS41IDAgMCAxIDAgMWgtM2EuNS41IDAgMCAxIDAtMSIgZGF0YS1uYW1lPSLtjKjsiqQgMzUxMSIvPjxwYXRoIGZpbGw9IiM3YjdiN2IiIGQ9Ik01LjUgMTFoM2EuNS41IDAgMCAxIDAgMWgtM2EuNS41IDAgMCAxIDAtMSIgZGF0YS1uYW1lPSLtjKjsiqQgMzUxMiIvPjwvZz48L2c+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzY2OSI+PGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjN2I3YjdiIiBjbGlwLXBhdGg9InVybCgjYSkiIGRhdGEtbmFtZT0i6re466O5IDc2NjgiPjxwYXRoIGQ9Ik0xMS4zMjggOC40MTRhMyAzIDAgMSAxIDAgNC4yNDMgMyAzIDAgMCAxIDAtNC4yNDNaIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTEzIi8+PHBhdGggc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJtMTUuNDUgMTIuOTQ5IDEuNzY4IDEuNzY4IiBkYXRhLW5hbWU9IuyEoCA0NzEiLz48L2c+PC9nPjwvc3ZnPg==);background-position:50%;background-repeat:no-repeat;height:100%}.btn.s-large>.search-document{background-size:20px}.btn.s-medium>.calendar{background-size:18px}.btn.s-large>.calendar,.btn.s-medium>.calendar{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTc0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgZmlsbD0iIzdiN2I3YiIgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NjgyIj48cGF0aCBkPSJNMTUgM2gtMVYyaC0ydjFINlYySDR2MUgzYTEgMSAwIDAgMC0xIDF2MTFhMSAxIDAgMCAwIDEgMWgxMmExIDEgMCAwIDAgMS0xVjRhMSAxIDAgMCAwLTEtMW0wIDEySDNWNmgxMloiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MjAiLz48cGF0aCBkPSJNNSA4aDJ2Mkg1eiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzE2OCIvPjxwYXRoIGQ9Ik04IDhoMnYySDh6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTY5Ii8+PHBhdGggZD0iTTExIDhoMnYyaC0yeiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzE3MCIvPjxwYXRoIGQ9Ik01IDExaDJ2Mkg1eiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzE3MSIvPjxwYXRoIGQ9Ik04IDExaDJ2Mkg4eiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzE3MiIvPjxwYXRoIGQ9Ik0xMSAxMWgydjJoLTJ6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTczIi8+PC9nPjwvc3ZnPg==);background-position:50%;background-repeat:no-repeat;height:100%}.btn.s-large>.calendar{background-size:20px}.btn.s-medium>.document{background-size:18px}.btn.s-large>.document,.btn.s-medium>.document{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY4NiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTc4Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3Njg1Ij48cGF0aCBmaWxsPSIjNzc3IiBkPSJNNC41IDNhLjQ2NS40NjUgMCAwIDAtLjUuNHYxMS4yYS40NjUuNDY1IDAgMCAwIC41LjRoOWEuNDY1LjQ2NSAwIDAgMCAuNS0uNFY1LjM3MnEtLjcwOC0uNjY4LTEuNDMzLTEuMzE3LS41ODItLjUyLTEuMTUtMS4wNTVabTAtMWg3LjMxYzIuMDUxIDEuOTE0Ljc1OC42NjggMy4xOSAyLjkzOFYxNC42YTEuNDUzIDEuNDUzIDAgMCAxLTEuNSAxLjRoLTlBMS40NTMgMS40NTMgMCAwIDEgMyAxNC42VjMuNEExLjQ1MyAxLjQ1MyAwIDAgMSA0LjUgMiIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyMSIvPjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzc3NyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xNCA1LjVoLTEuOTI0YS41MjkuNTI5IDAgMCAxLS41NzYtLjQ3OC41MTMuNTEzIDAgMCAxIDAtLjFWMyIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyMiIvPjxwYXRoIGZpbGw9IiNhNmE2YTYiIGQ9Ik02IDhoNnYxSDZ6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTc1Ii8+PHBhdGggZmlsbD0iI2E2YTZhNiIgZD0iTTYgMTBoNnYxSDZ6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTc2Ii8+PHBhdGggZmlsbD0iI2E2YTZhNiIgZD0iTTYgMTJoNnYxSDZ6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTc3Ii8+PC9nPjwvc3ZnPg==);background-position:50%;background-repeat:no-repeat;height:100%}.btn.s-large>.document{background-size:20px}.btn.s-medium>.note{background-size:18px}.btn.s-large>.note,.btn.s-medium>.note{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzY4OSI+PHBhdGggZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzE3OSIvPjxwYXRoIGZpbGw9IiM3YjdiN2IiIGQ9Ik0xNSAxNkgzYTEgMSAwIDAgMS0xLTFWM2ExIDEgMCAwIDEgMS0xaDEyYTEgMSAwIDAgMSAxIDF2MTJhMSAxIDAgMCAxLTEgMU0zIDE1aDEyVjVIM1oiIGRhdGEtbmFtZT0i7Yyo7IqkIDM0OTkiLz48L2c+PC9zdmc+);background-position:50%;background-repeat:no-repeat;height:100%}.btn.s-large>.note{background-size:20px}.btn.s-medium>.reset{background-size:18px}.btn.s-large>.reset,.btn.s-medium>.reset{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY5MiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTgwIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NjkxIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMTYuMzU0IDlhNy41IDcuNSAwIDAgMS0xMy4xIDQuOTg4LjUuNSAwIDEgMSAuNzQ2LS42NjJBNi40ODcgNi40ODcgMCAxIDAgMy41NjUgNS4yaDEuNTgxYS41LjUgMCAwIDEgMCAxaC0zYS41LjUgMCAwIDEtLjUtLjV2LTNhLjUuNSAwIDEgMSAxIDB2Mi4xMzJBNy40ODIgNy40ODIgMCAwIDEgMTYuMzU0IDkiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MjMiLz48L2c+PC9zdmc+);background-position:50%;background-repeat:no-repeat;height:100%}.btn.s-large>.reset{background-size:20px}.btn.s-medium>.refresh{background-size:18px}.btn.s-large>.refresh,.btn.s-medium>.refresh{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY5MiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTgwIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NjkxIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMS42NDYgOWE3LjUgNy41IDAgMCAwIDEzLjEgNC45ODguNS41IDAgMSAwLS43NDYtLjY2MiA2LjQ4NyA2LjQ4NyAwIDEgMSAuNDM1LTguMTI2aC0xLjU4MWEuNS41IDAgMCAwIDAgMWgzYS41LjUgMCAwIDAgLjUtLjV2LTNhLjUuNSAwIDAgMC0xIDB2Mi4xMzJBNy40ODIgNy40ODIgMCAwIDAgMS42NDYgOSIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyMyIvPjwvZz48L3N2Zz4=);background-position:50%;background-repeat:no-repeat;height:100%}.btn.s-large>.refresh{background-size:20px}.btn.s-medium>.download{background-size:18px}.btn.s-large>.download,.btn.s-medium>.download{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcwNSI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzA0Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMi41MzggMTZBLjUzOS41MzkgMCAwIDEgMiAxNS40NjJ2LTMuMjMxYS41MzguNTM4IDAgMSAxIDEuMDc3IDB2Mi42OTJoMTEuODQ2di0yLjY5MmEuNTM4LjUzOCAwIDEgMSAxLjA3NyAwdjMuMjMxYS41MzkuNTM5IDAgMCAxLS41MzguNTM4Wm02LjEyMi00Ljk2N0w0Ljg1MiA3LjIyN2EuNTM4LjUzOCAwIDAgMSAuNzU5LS43NjRMOC40NiA5LjMxMlYyLjUzOGEuNTM4LjUzOCAwIDEgMSAxLjA3NyAwdjYuODUzbDIuOTI4LTIuOTI2YS41NC41NCAwIDEgMSAuNzYyLjc2NEw5LjQyIDExLjAzNGEuNTM0LjUzNCAwIDAgMS0uNzYgMCIgZGF0YS1uYW1lPSLtjKjsiqQgMzUzNCIvPjwvZz48L3N2Zz4=);background-position:50%;background-repeat:no-repeat;height:100%}.btn.s-large>.download{background-size:20px}.btn.s-medium>.excel-save{background-size:18px}.btn.s-large>.excel-save,.btn.s-medium>.excel-save{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY5OSI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTgyIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3Njk4Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMyAxOGExIDEgMCAwIDEtMS0xdi0xLjg1OEwxIDE1YTEgMSAwIDAgMS0xLTFWNWExIDEgMCAwIDEgMS0xbDEtLjE0MlYyYTEgMSAwIDAgMSAxLTFoOXYxaDF2MWgxdjFoMXYxaC0xVjRoLTFWM2gtMVYySDN2MS43MTRMOCAzYTEgMSAwIDAgMSAxIDF2MTFhMSAxIDAgMCAxLTEgMWwtNS0uNzE2VjE3aDEyYTEgMSAwIDAgMS0xIDFabTEuNS02LjkwNy43NjMgMS4yMDdINy4zTDUuNDg2IDkuNTM4IDcuMyA2LjY5NEg1LjM3N0w0LjUgOC4wMzZsLS44OC0xLjM0MkgxLjdsMS44MSAyLjg0Ny0xLjgxIDIuNzY0IDIuMDMxLS4wMDUuNzY5LTEuMjA2Wm0xMC4wMDYgMy45MjdoLS4wMjVhLjUxNS41MTUgMCAwIDEtLjM1OC0uMTQ4bC0yLjk4OC0yLjk5M2EuNTA4LjUwOCAwIDAgMSAwLS43MTUuNS41IDAgMCAxIC43MDctLjAwNmwuMDA2LjAwNkwxNCAxMy4zMTZWNy41YS41LjUgMCAwIDEgMSAwdjUuODI3bDIuMTMyLTIuMTM1YS41LjUgMCAwIDEgLjcwOC43MWwtMi45NjkgMi45NjhhLjQ5My40OTMgMCAwIDEtLjM1Ny4xNDlaIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTMyIi8+PC9nPjwvc3ZnPg==);background-position:50%;background-repeat:no-repeat;height:100%}.btn.s-large>.excel-save{background-size:20px}.btn.s-medium>.excel-upload{background-size:18px}.btn.s-large>.excel-upload,.btn.s-medium>.excel-upload{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcwMSI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTgzIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzAwIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMyAxOGExIDEgMCAwIDEtMS0xdi0xLjg1N0wxIDE1YTEgMSAwIDAgMS0xLTFWNWExIDEgMCAwIDEgMS0xbDEtLjE0M1YyYTEgMSAwIDAgMSAxLTFoOXYxaDF2MWgxdjFoMXYxaC0xVjRoLTFWM2gtMVYySDN2MS43MTNMOCAzYTEgMSAwIDAgMSAxIDF2MTFhMSAxIDAgMCAxLTEgMWwtNS0uNzE0VjE3aDEyYTEgMSAwIDAgMS0xIDFabTEuNS02LjkwNi43NjUgMS4yTDcuMyAxMi4zIDUuNDg3IDkuNTM1IDcuMyA2LjY4OEg1LjM4TDQuNSA4LjAzMWwtLjg4LTEuMzQzSDEuN2wxLjgxIDIuODQ3TDEuNyAxMi4zbDIuMDM3LS4wMDUuNzY1LTEuMlpNMTQgMTQuNVY4LjcxbC0yLjE0NyAyLjE0NmEuNTA1LjUwNSAwIDAgMS0uNzE1LS43MTRsMi45ODgtMi45ODFhLjUwOC41MDggMCAwIDEgLjM4Mi0uMTQ2LjUuNSAwIDAgMSAuMzY4LjE0NmwyLjk2NCAyLjk1OGEuNS41IDAgMCAxLS43MDcuN0wxNSA4Ljd2NS44YS41LjUgMCAwIDEtMSAwWiIgZGF0YS1uYW1lPSLtjKjsiqQgMzUzMyIvPjwvZz48L3N2Zz4=);background-position:50%;background-repeat:no-repeat;height:100%}.btn.s-large>.excel-upload{background-size:20px}.btn.s-medium>.edit{background-size:18px}.btn.s-large>.edit,.btn.s-medium>.edit{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcxNiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg5Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzE1Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMTUuNDYyIDE1Ljk4M0gyLjUzOGEuNTM4LjUzOCAwIDEgMSAwLTEuMDc2aDEyLjkyNGEuNTM4LjUzOCAwIDEgMSAwIDEuMDc2TTEyLjYzMSA1LjM2NmwtMi4xNTMtMi4xNTJMMTEuNjkyIDJhMS45MDkgMS45MDkgMCAwIDEgMi4xNTQgMi4xNTFabS04LjQ3NyA4LjQ2Nkgydi0yLjE1MWw3LjcxNi03LjcwNiAyLjE1NCAyLjE1MVoiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1NDAiLz48L2c+PC9zdmc+);background-position:50%;background-repeat:no-repeat;height:100%}.btn.s-large>.edit{background-size:20px}.btn.s-medium>.maximize{background-size:18px}.btn.s-large>.maximize,.btn.s-medium>.maximize{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcwOCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg1Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgZmlsbD0iIzcwNzA3MCIgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzA3Ij48cGF0aCBkPSJNMTUuNSAyaC4wMjRhLjUuNSAwIDAgMSAuNDI5LjI4OWwuMDA5LjAydi4wMjFhLjUuNSAwIDAgMSAuMDM4LjJWNi41YS41LjUgMCAwIDEtMSAwVjMuNzA3bC00LjY0NiA0LjY0NmEuNS41IDAgMCAxLS43MDktLjdMMTQuMjkyIDNIMTEuNWEuNS41IDAgMCAxIDAtMVoiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MzUiLz48cGF0aCBkPSJNOC4zNTUgOS42NDZhLjUuNSAwIDAgMSAwIC43MDdMMy43MDggMTVINi41YS41LjUgMCAwIDEgMCAxSDIuNTNhLjUuNSAwIDAgMS0uMi0uMDI5aC0uMDJsLS4wMTgtLjAxN2EuNS41IDAgMCAxLS4yNDUtLjI0NC4wMTguMDE4IDAgMCAwLS4wMDctLjAxN2MtLjAwNy0uMDA2IDAtLjAwOSAwLS4wMTR2LS4wMDZhLjQ4Ny40ODcgMCAwIDEtLjAzLS4yVjExLjVhLjUuNSAwIDAgMSAxIDB2Mi43OTJsNC42MzktNC42NDZhLjUuNSAwIDAgMSAuNzA2IDAiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MzYiLz48L2c+PC9zdmc+);background-position:50%;background-repeat:no-repeat;height:100%}.btn.s-large>.maximize{background-size:20px}.btn.s-medium>.add{background-size:18px}.btn.s-large>.add,.btn.s-medium>.add{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcxMiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg3Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzExIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNOC41IDE1VjkuNUgzYS41LjUgMCAwIDEgMC0xaDUuNVYzYS41LjUgMCAwIDEgMSAwdjUuNUgxNWEuNS41IDAgMCAxIDAgMUg5LjVWMTVhLjUuNSAwIDAgMS0xIDAiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MzgiLz48L2c+PC9zdmc+);background-position:50%;background-repeat:no-repeat;height:100%}.btn.s-large>.add{background-size:20px}.btn.s-medium>.minus{background-size:18px}.btn.s-large>.minus,.btn.s-medium>.minus{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcxNCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg4Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzEzIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMyA4aDEyYS41LjUgMCAwIDEgMCAxSDNhLjUuNSAwIDAgMSAwLTEiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MzkiLz48L2c+PC9zdmc+);background-position:50%;background-repeat:no-repeat;height:100%}.btn.s-large>.minus{background-size:20px}.btn.s-medium>.close{background-size:18px}.btn.s-large>.close,.btn.s-medium>.close{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcxMiI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg3Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzExIj48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJtMy40MDQgMTMuODg5IDQuODg5LTQuODktNC44ODktNC44ODhhLjUuNSAwIDEgMSAuNzA3LS43MDdMOSA4LjI5M2w0Ljg4OS00Ljg5YS41LjUgMCAxIDEgLjcwNy43MDhMOS43MDcgOWw0Ljg4OSA0Ljg4OWEuNS41IDAgMSAxLS43MDcuNzA3TDkgOS43MDdsLTQuODg5IDQuODg5YS41LjUgMCAxIDEtLjcwNy0uNzA3IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTM4Ii8+PC9nPjwvc3ZnPg==);background-position:50%;background-repeat:no-repeat;height:100%}.btn.s-large>.close{background-size:20px}.btn.s-medium>.view-list{background-size:18px}.btn.s-large>.view-list,.btn.s-medium>.view-list{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzcxMCI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTg2Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3NzA5Ij48cGF0aCBmaWxsPSIjN2I3YjdiIiBkPSJNMyAxMy41YS41LjUgMCAwIDEgMC0xaDEyYS41LjUgMCAwIDEgMCAxWm0wLTRhLjUuNSAwIDAgMSAwLTFoMTJhLjUuNSAwIDAgMSAwIDFabTAtNGEuNS41IDAgMCAxIDAtMWgxMmEuNS41IDAgMCAxIDAgMVoiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MzciLz48L2c+PC9zdmc+);background-position:50%;background-repeat:no-repeat;height:100%}.btn.s-large>.view-list{background-size:20px}.btn.s-medium>.print{background-size:18px}.btn.s-large>.print,.btn.s-medium>.print{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzcyOCI+PHBhdGggZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzIwMCIvPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMTA4IC0xMTMpIj48ZyBmaWxsPSJub25lIiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzODYyIj48cGF0aCBkPSJNMTExMyAxMTRoOGExIDEgMCAwIDEgMSAxdjRoLTEwdi00YTEgMSAwIDAgMSAxLTFaIiBkYXRhLW5hbWU9Iu2MqOyKpCAyOTkzIi8+PHBhdGggc3Ryb2tlPSIjN2I3YjdiIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xMTEzIDExNC41aDhhLjUuNSAwIDAgMSAuNS41djMuNWgtOVYxMTVhLjUuNSAwIDAgMSAuNS0uNVoiIGRhdGEtbmFtZT0i7Yyo7IqkIDI5OTQiLz48L2c+PHBhdGggZmlsbD0iIzdiN2I3YiIgZD0iTTExMTMgMTI2aC0zYTEgMSAwIDAgMS0xLTF2LTZhMSAxIDAgMCAxIDEtMWgxNGExIDEgMCAwIDEgMSAxdjZhMSAxIDAgMCAxLTEgMWgtMnYtMWgydi02aC0xNHY2aDNaIiBkYXRhLW5hbWU9Iuu5vOq4sCAxODEiLz48ZyBmaWxsPSJub25lIiBzdHJva2U9IiM3YjdiN2IiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzg2NCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTExMiAxMjMpIj48cmVjdCB3aWR0aD0iMTAiIGhlaWdodD0iNyIgc3Ryb2tlPSJub25lIiByeD0iMSIvPjxyZWN0IHdpZHRoPSI5IiBoZWlnaHQ9IjYiIHg9Ii41IiB5PSIuNSIgcng9Ii41Ii8+PC9nPjxyZWN0IHdpZHRoPSI2IiBoZWlnaHQ9IjEiIGZpbGw9IiM3YjdiN2IiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDM4NjUiIHJ4PSIuNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTExNCAxMjUpIi8+PHJlY3Qgd2lkdGg9IjYiIGhlaWdodD0iMSIgZmlsbD0iIzdiN2I3YiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzg2NiIgcng9Ii41IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTE0IDEyNykiLz48Y2lyY2xlIGN4PSIuNSIgY3k9Ii41IiByPSIuNSIgZmlsbD0iIzdiN2I3YiIgZGF0YS1uYW1lPSLtg4Dsm5AgNjkwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTIwIDEyMCkiLz48Y2lyY2xlIGN4PSIuNSIgY3k9Ii41IiByPSIuNSIgZmlsbD0iIzdiN2I3YiIgZGF0YS1uYW1lPSLtg4Dsm5AgNjkxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMTIyIDEyMCkiLz48L2c+PC9nPjwvc3ZnPg==);background-position:50%;background-repeat:no-repeat;height:100%}.btn.s-large>.print{background-size:20px}.btn.s-medium>.filter{background-size:18px}.btn.s-large>.filter,.btn.s-medium>.filter{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzczMCI+PHBhdGggZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzIwMCIvPjxnIGRhdGEtbmFtZT0i6re466O5IDU1MjAxIj48cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM3YjdiN2IiIGQ9Ik03Ljc3MSAxNS45MjdhLjUxMi41MTIgMCAwIDEtLjI0My0uNDM2VjEwLjFMMi45NDUgNC45MTdhMS44MzEgMS44MzEgMCAwIDEtLjQ0My0xLjI5NXYtLjQ1NUExLjE3NCAxLjE3NCAwIDAgMSAzLjY4NCAyaDEwLjYzMmExLjE3NCAxLjE3NCAwIDAgMSAxLjE4MSAxLjE2N3YuNDU1YTEuODMzIDEuODMzIDAgMCAxLS40NDEgMS4zbC00LjYwNyA1LjIwMXY0LjA4M2EuNTEuNTEgMCAwIDEtLjIyOC40MzFsLTEuOTQ4IDEuMjgyYS40NjQuNDY0IDAgMCAxLS4yNTcuMDgxLjUuNSAwIDAgMS0uMjQ1LS4wNzRaIiBkYXRhLW5hbWU9Iu2Vqey5mOq4sCAxMTYxIi8+PHBhdGggZmlsbD0iIzdiN2I3YiIgZD0iTTcuNDk4IDkuMjczaDN2MWgtM1oiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDI5MTUzIi8+PC9nPjwvZz48L3N2Zz4=);background-position:50%;background-repeat:no-repeat;height:100%}.btn.s-large>.filter{background-size:20px}.btn.s-medium>.graph{background-size:18px}.btn.s-large>.graph,.btn.s-medium>.graph{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGcgZGF0YS1uYW1lPSLqt7jro7kgNzczMSI+PHBhdGggZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzIwMSIvPjxnIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzdiN2I3YiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48cGF0aCBkPSJtNC43MzkgMTAuNzY1IDMuODctMy44OTMgMy4wOTcgMy4xMTQgMy44NjgtMy44OTIiIGRhdGEtbmFtZT0i7Yyo7IqkIDU1NDk5Ii8+PHBhdGggZD0iTTEzLjI2NCA1LjY4NEgxNlY4LjQyIiBkYXRhLW5hbWU9Iu2MqOyKpCA1NTUwMCIvPjxwYXRoIGQ9Ik0yIDMuNTF2MTEuNTg3aDE0IiBkYXRhLW5hbWU9Iu2MqOyKpCA1NTUwMSIvPjwvZz48L2c+PC9zdmc+);background-position:50%;background-repeat:no-repeat;height:100%}.btn.s-large>.graph{background-size:20px}.btn.s-medium>.save{background-size:18px}.btn.s-large>.save,.btn.s-medium>.save{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PGcgZmlsbD0ibm9uZSIgZGF0YS1uYW1lPSLqt7jro7kgNzczNCI+PHBhdGggZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzAwMyIvPjxnIGRhdGEtbmFtZT0i6re466O5IDc3MzUiPjxwYXRoIHN0cm9rZT0iIzcwNzA3MCIgZD0iTTQuNzkyIDIuNzMydjMuMmg3LjA3NnYtMy4yIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTQxIi8+PGcgZGF0YS1uYW1lPSLtjKjsiqQgMzU0MiI+PHBhdGggZD0iTTEyLjMxMyAySDJ2MTRoMTRWNS44NjdaIi8+PHBhdGggZmlsbD0iIzcwNzA3MCIgZD0iTTMgM3YxMmgxMlY2LjI2N0wxMS44ODUgM0gzTTIgMmgxMC4zMTNMMTYgNS44NjdWMTZIMlYyWiIvPjwvZz48ZyBzdHJva2U9IiM3MDcwNzAiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDMyMDIiPjxwYXRoIHN0cm9rZT0ibm9uZSIgZD0iTTQuMzY4IDExaDl2NWgtOXoiLz48cGF0aCBkPSJNNC44NjggMTEuNWg4djRoLTh6Ii8+PC9nPjwvZz48L2c+PC9zdmc+);background-position:50%;background-repeat:no-repeat;height:100%}.btn.s-large>.save{background-size:20px}.btn.s-medium>.selective{background-size:18px}.btn.s-large>.selective,.btn.s-medium>.selective{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCIgZGF0YS1uYW1lPSLqt7jro7kgNzY5NSI+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSJub25lIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMTgxIi8+PC9jbGlwUGF0aD48L2RlZnM+PGcgZmlsbD0iIzdiN2I3YiIgY2xpcC1wYXRoPSJ1cmwoI2EpIiBkYXRhLW5hbWU9Iuq3uOujuSA3Njk0Ij48cGF0aCBkPSJNMTAuOCAxNC42NjdIMi41MzVhLjUuNSAwIDEgMSAwLTFIMTAuOGEuNS41IDAgMCAxIDAgMSIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyNCIvPjxwYXRoIGQ9Ik0xNS4yMzQgMTQuNjY3SDEzLjlhLjUuNSAwIDAgMSAwLTFoMS4zMzNhLjUuNSAwIDAgMSAwIDEiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MjUiLz48cGF0aCBkPSJNMTIuNTY4IDE2YTEuODMzIDEuODMzIDAgMSAxIDEuODMyLTEuODMzQTEuODMzIDEuODMzIDAgMCAxIDEyLjU2OCAxNm0wLTIuNjY3YS44MzMuODMzIDAgMSAwIC44MzMuODM0LjgzMy44MzMgMCAwIDAtLjgzMy0uODM0IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTI2Ii8+PHBhdGggZD0iTTQuMzY4IDkuMkgyLjVhLjUuNSAwIDAgMSAwLTFoMS44NjhhLjUuNSAwIDAgMSAwIDEiIGRhdGEtbmFtZT0i7Yyo7IqkIDM1MjciLz48cGF0aCBkPSJNMTUuMiA5LjJINy40NjZhLjUuNSAwIDAgMSAwLTFIMTUuMmEuNS41IDAgMSAxIDAgMSIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyOCIvPjxwYXRoIGQ9Ik01LjcgMTAuNTI5YTEuODMzIDEuODMzIDAgMSAxIDEuODM0LTEuODM0QTEuODMzIDEuODMzIDAgMCAxIDUuNyAxMC41MjltMC0yLjY2N2EuODMzLjgzMyAwIDEgMCAuODMzLjgzMy44MzMuODMzIDAgMCAwLS44MzMtLjgzMyIgZGF0YS1uYW1lPSLtjKjsiqQgMzUyOSIvPjxwYXRoIGQ9Ik0xMi41NDUgNC4zMzNIMi41MzdhLjUuNSAwIDAgMSAwLTFoMTAuMDA4YS41LjUgMCAwIDEgMCAxIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTMwIi8+PHBhdGggZD0iTTE0LjE2OCA1LjY2NkExLjgzMyAxLjgzMyAwIDEgMSAxNiAzLjgzM2ExLjgzMyAxLjgzMyAwIDAgMS0xLjgzMyAxLjgzM20wLTIuNjY2YS44MzMuODMzIDAgMSAwIC44MzMuODMzLjgzMy44MzMgMCAwIDAtLjgzMi0uODMzIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTMxIi8+PC9nPjwvc3ZnPg==);background-position:50%;background-repeat:no-repeat;height:100%}.btn.s-large>.selective{background-size:20px}.btn.s-medium>.arrow-up{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1NCIgZmlsbD0ibm9uZSIgZD0iTTAgMGg2djEySDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzU0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgaWQ9Ikljb25fYXJyb3d1cF8xOCIgZGF0YS1uYW1lPSJJY29uL2Fycm93dXBfMTgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01OTE5IC01Nzc5KSI+PHBhdGggaWQ9Iu2MqOyKpF8zNTg5IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDApIiBkPSJNMCAwaDE4djE4SDBaIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTg5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1OTE5IDU3NzkpIi8+PGcgaWQ9Iuq3uOujuV84NTg3IiBkYXRhLW5hbWU9Iuq3uOujuSA4NTg3IiB0cmFuc2Zvcm09InJvdGF0ZSg5MCA3NSA1ODU5KSI+PGcgaWQ9Iuq3uOujuV84NTgzIiBjbGlwLXBhdGg9InVybCgjY2xpcC1wYXRoKSIgZGF0YS1uYW1lPSLqt7jro7kgODU4MyI+PHBhdGggaWQ9Iu2MqOyKpF8zNTkwIiBmaWxsPSIjN2I3YjdiIiBkPSJNNS41IDEyYS41LjUgMCAwIDEtLjM3LS4xNjRsLTUtNS41YS41LjUgMCAwIDEgMC0uNjczbDUtNS41YS41LjUgMCAxIDEgLjc0LjY3M0wxLjE3NiA2bDQuNjk0IDUuMTY0QS41LjUgMCAwIDEgNS41IDEyIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTkwIi8+PC9nPjwvZz48L2c+PC9zdmc+)}.btn.s-medium>.arrow-down,.btn.s-medium>.arrow-up{background-position:50%;background-repeat:no-repeat;background-size:18px;height:100%}.btn.s-medium>.arrow-down{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1NCIgZmlsbD0ibm9uZSIgZD0iTTAgMGg2djEySDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzU0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgaWQ9Ikljb25fYXJyb3dkb3duXzE4IiBkYXRhLW5hbWU9Ikljb24vYXJyb3dkb3duXzE4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTk3NiAtNTc3OSkiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzMzMyIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzMzMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTk3NiA1Nzc5KSIvPjxnIGlkPSLqt7jro7lfODU4NiIgZGF0YS1uYW1lPSLqt7jro7kgODU4NiIgdHJhbnNmb3JtPSJyb3RhdGUoLTkwIDU4ODUuNSAtOTMuNSkiPjxnIGlkPSLqt7jro7lfODU4MyIgY2xpcC1wYXRoPSJ1cmwoI2NsaXAtcGF0aCkiIGRhdGEtbmFtZT0i6re466O5IDg1ODMiPjxwYXRoIGlkPSLtjKjsiqRfMzU5MCIgZmlsbD0iIzdiN2I3YiIgZD0iTTUuNSAxMmEuNS41IDAgMCAxLS4zNy0uMTY0bC01LTUuNWEuNS41IDAgMCAxIDAtLjY3M2w1LTUuNWEuNS41IDAgMSAxIC43NC42NzNMMS4xNzYgNmw0LjY5NCA1LjE2NEEuNS41IDAgMCAxIDUuNSAxMiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU5MCIvPjwvZz48L2c+PC9nPjwvc3ZnPg==)}.btn.s-medium>.arrow-left{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1NCIgZmlsbD0ibm9uZSIgZD0iTTAgMGg2djEySDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzU0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgaWQ9Ikljb25fYXJyb3dsZWZ0XzE4IiBkYXRhLW5hbWU9Ikljb24vYXJyb3dsZWZ0XzE4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNjA1NCAtNTc3NikiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzMzNCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzMzNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjA1NCA1Nzc2KSIvPjxnIGlkPSLqt7jro7lfODU0MiIgZGF0YS1uYW1lPSLqt7jro7kgODU0MiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjA1NyA1Nzc5KSI+PGcgaWQ9Iuq3uOujuV84NTg1IiBkYXRhLW5hbWU9Iuq3uOujuSA4NTg1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyKSI+PGcgaWQ9Iuq3uOujuV84NTgzIiBjbGlwLXBhdGg9InVybCgjY2xpcC1wYXRoKSIgZGF0YS1uYW1lPSLqt7jro7kgODU4MyI+PHBhdGggaWQ9Iu2MqOyKpF8zNTkwIiBmaWxsPSIjN2I3YjdiIiBkPSJNNS41IDEyYS41LjUgMCAwIDEtLjM3LS4xNjRsLTUtNS41YS41LjUgMCAwIDEgMC0uNjczbDUtNS41YS41LjUgMCAxIDEgLjc0LjY3M0wxLjE3NiA2bDQuNjk0IDUuMTY0QS41LjUgMCAwIDEgNS41IDEyIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTkwIi8+PC9nPjwvZz48L2c+PC9nPjwvc3ZnPg==)}.btn.s-medium>.arrow-left,.btn.s-medium>.arrow-right{background-position:50%;background-repeat:no-repeat;background-size:18px;height:100%}.btn.s-medium>.arrow-right{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1NCIgZmlsbD0ibm9uZSIgZD0iTTAgMGg2djEySDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzU0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgaWQ9Ikljb25fYXJyb3dyaWdodF8xOCIgZGF0YS1uYW1lPSJJY29uL2Fycm93cmlnaHRfMTgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02MDE4IC01Nzc2KSI+PHBhdGggaWQ9IuyCrOqwge2YlV8zMzM2IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDApIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzM2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2MDE4IDU3NzYpIi8+PGcgaWQ9Iuq3uOujuV84NTg0IiBkYXRhLW5hbWU9Iuq3uOujuSA4NTg0IiB0cmFuc2Zvcm09InJvdGF0ZSgxODAgMzAxNS41IDI4OTUuNSkiPjxnIGlkPSLqt7jro7lfODU4MyIgY2xpcC1wYXRoPSJ1cmwoI2NsaXAtcGF0aCkiIGRhdGEtbmFtZT0i6re466O5IDg1ODMiPjxwYXRoIGlkPSLtjKjsiqRfMzU5MCIgZmlsbD0iIzdiN2I3YiIgZD0iTTUuNSAxMmEuNS41IDAgMCAxLS4zNy0uMTY0bC01LTUuNWEuNS41IDAgMCAxIDAtLjY3M2w1LTUuNWEuNS41IDAgMSAxIC43NC42NzNMMS4xNzYgNmw0LjY5NCA1LjE2NEEuNS41IDAgMCAxIDUuNSAxMiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU5MCIvPjwvZz48L2c+PC9nPjwvc3ZnPg==)}.btn.s-medium>.search{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzMyNiIgZmlsbD0ibm9uZSIgZD0iTTAgMGgxNHYxNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzMyNiIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGlkPSJJY29uX3NlYXJjaF8xOCIgZGF0YS1uYW1lPSJJY29uL3NlYXJjaF8xOCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU5NTUgLTU4NjgpIj48cGF0aCBpZD0i7IKs6rCB7ZiVXzMzMzciIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMCkiIGQ9Ik0wIDBoMTh2MThIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDMzMzciIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU5NTUgNTg2OCkiLz48ZyBpZD0i6re466O5Xzg1NDAiIGRhdGEtbmFtZT0i6re466O5IDg1NDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU5NTcgNTg3MCkiPjxnIGlkPSLrp4jsiqTtgaxf6re466O5Xzg1MzkiIGNsaXAtcGF0aD0idXJsKCNjbGlwLXBhdGgpIiBkYXRhLW5hbWU9IuuniOyKpO2BrCDqt7jro7kgODUzOSI+PHBhdGggaWQ9Iu2MqOyKpF8zNTY1IiBmaWxsPSIjN2I3YjdiIiBkPSJtMTMuODU0IDEzLjE0Ni0zLjI3NS0zLjI3NGE2LjAwOCA2LjAwOCAwIDEgMC0uNzA3LjcwN2wzLjI3NCAzLjI3NWEuNS41IDAgMCAwIC43MDgtLjcwOE02IDExYTUgNSAwIDEgMSA1LTUgNS4wMDYgNS4wMDYgMCAwIDEtNSA1IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTY1Ii8+PC9nPjwvZz48L2c+PC9zdmc+)}.btn.s-medium>.search,.btn.s-medium>.trashcan{background-position:50%;background-repeat:no-repeat;background-size:18px;height:100%}.btn.s-medium>.trashcan{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1MyIgZmlsbD0ibm9uZSIgZD0iTTAgMGgxNnYxNkgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzM1MyIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGlkPSJJY29uX3RyYXNoY2FuXzE4IiBkYXRhLW5hbWU9Ikljb24vdHJhc2hjYW5fMTgiIHN0eWxlPSJtaXgtYmxlbmQtbW9kZTpub3JtYWw7aXNvbGF0aW9uOmlzb2xhdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01OTgzIC01ODcxKSI+PGcgaWQ9Iuq3uOujuV84NTc3IiBkYXRhLW5hbWU9Iuq3uOujuSA4NTc3IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzMgMjApIj48ZyBpZD0i6re466O5Xzg1NTkiIGRhdGEtbmFtZT0i6re466O5IDg1NTkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0IC0xNikiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzMzNSIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzMzNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTk5MiA1ODY3KSIvPjwvZz48L2c+PGcgaWQ9Iuq3uOujuV84NTgwIiBkYXRhLW5hbWU9Iuq3uOujuSA4NTgwIiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6bm9ybWFsO2lzb2xhdGlvbjppc29sYXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1OTg0IDU4NzIpIj48ZyBpZD0i6re466O5Xzg1NzkiIGZpbGw9IiM3YjdiN2IiIGNsaXAtcGF0aD0idXJsKCNjbGlwLXBhdGgpIiBkYXRhLW5hbWU9Iuq3uOujuSA4NTc5Ij48cGF0aCBpZD0i7Yyo7IqkXzM1ODUiIGQ9Ik0xNS41IDJIMTFWLjVhLjUuNSAwIDAgMC0uNS0uNWgtNWEuNS41IDAgMCAwLS41LjVWMkguNWEuNS41IDAgMCAwIDAgMUgydjEyYTEgMSAwIDAgMCAxIDFoMTBhMSAxIDAgMCAwIDEtMVYzaDEuNWEuNS41IDAgMCAwIDAtMU02IDFoNHYxSDZabTcgMTRIM1YzaDEwWiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU4NSIvPjxwYXRoIGlkPSLtjKjsiqRfMzU4NiIgZD0iTTUuNSAxMmEuNS41IDAgMCAwIC41LS41di01YS41LjUgMCAwIDAtMSAwdjVhLjUuNSAwIDAgMCAuNS41IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTg2Ii8+PHBhdGggaWQ9Iu2MqOyKpF8zNTg3IiBkPSJNMTAuNSAxMmEuNS41IDAgMCAwIC41LS41di01YS41LjUgMCAwIDAtMSAwdjVhLjUuNSAwIDAgMCAuNS41IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTg3Ii8+PHBhdGggaWQ9Iu2MqOyKpF8zNTg4IiBkPSJNOCAxMmEuNS41IDAgMCAwIC41LS41di01YS41LjUgMCAwIDAtMSAwdjVhLjUuNSAwIDAgMCAuNS41IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTg4Ii8+PC9nPjwvZz48L2c+PC9zdmc+)}.btn.s-medium>.setting{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM0NiIgZmlsbD0ibm9uZSIgZD0iTTAgMGgxNnYxNkgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzM0NiIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGlkPSJJY29uX3NldHRpbmVfMTgiIGRhdGEtbmFtZT0iSWNvbi9zZXR0aW5lXzE4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNjAyNSAtNTg2NykiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM0NyIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzM0NyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjAyNSA1ODY3KSIvPjxnIGlkPSLqt7jro7lfODU1NiIgZGF0YS1uYW1lPSLqt7jro7kgODU1NiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjAyNiA1ODY4KSI+PGcgaWQ9Iuq3uOujuV84NTU1IiBmaWxsPSIjN2I3YjdiIiBjbGlwLXBhdGg9InVybCgjY2xpcC1wYXRoKSIgZGF0YS1uYW1lPSLqt7jro7kgODU1NSI+PHBhdGggaWQ9Iu2MqOyKpF8zNTcwIiBkPSJNMTQuMjkyIDguNDM5Yy4wMTEtLjE0Ny4wMjItLjI5Mi4wMTktLjQ0M3MtLjAwOC0uMy0uMDE5LS40NDVsMS4zMzUtMS4wMmEuOTkzLjk5MyAwIDAgMCAuMjQ0LTEuMjY3TDE0LjM0NiAyLjdhMS4wMDggMS4wMDggMCAwIDAtMS4yMTUtLjQwOWwtMS41NzYuNjE2YTYuMTMxIDYuMTMxIDAgMCAwLS44MDctLjQ2MUwxMC41Ljc4OEExLjAxIDEuMDEgMCAwIDAgOS41MTkgMEg2LjQ3NmExLjAyMyAxLjAyMyAwIDAgMC0uOTg2Ljg0NWwtLjIzMyAxLjYxN2E2LjM2MiA2LjM2MiAwIDAgMC0uOC40NTFMMi44NjcgMi4zYTEgMSAwIDAgMC0xLjIxLjQyTC4xMzIgNS4yNzNhLjk5My45OTMgMCAwIDAgLjI0NiAxLjI3NWwxLjMyOCAxLjAxNWEzLjE1MiAzLjE1MiAwIDAgMC0uMDIxLjQ0NmMwIC4xNS4wMDkuMy4wMjEuNDQ1TC4zNzIgOS40NzdhLjk4NC45ODQgMCAwIDAtLjIzNSAxLjI2M2wxLjUxOSAyLjU2YTEuMDA5IDEuMDA5IDAgMCAwIDEuMjEzLjRsMS41NzctLjYxNWE2LjY4MiA2LjY4MiAwIDAgMCAuOC40NmwuMjQ2IDEuNjZhMS4wMTIgMS4wMTIgMCAwIDAgLjk5Ljc5NWgzLjA0YTEuMDI3IDEuMDI3IDAgMCAwIC45ODUtLjg0NGwuMjMzLTEuNjE4YTYuMyA2LjMgMCAwIDAgLjgtLjQ1bDEuNTg2LjYxNWEuOTk0Ljk5NCAwIDAgMCAuMzQ5LjA2MyAxLjAxNiAxLjAxNiAwIDAgMCAuODY0LS40ODJsMS41MjItMi41NTdhMSAxIDAgMCAwLS4yNDYtMS4yNzZabS0uOCA0LjMzMi0xLjU5Mi0uNjE1LS40ODItLjE4Ny0uNDMyLjI4NWE1LjIgNS4yIDAgMCAxLS42NzYuMzc5bC0uNDg3LjIyOS0uMDc3LjUzNEw5LjUyMSAxNWwtMy4wNDYtLjAwOUw2LjI0IDEzLjRsLS4wNzctLjUyNC0uNDc4LS4yM0E1LjYwOCA1LjYwOCAwIDAgMSA1IDEyLjI2MWwtLjQzNC0uMjkxLS40ODYuMTktMS41NjcuNjMyLTEuNTM0LTIuNTIxIDEuMzM0LTEuMDIzLjQzMS0uMzI5LS4wNDQtLjU0YTQuOTg2IDQuOTg2IDAgMCAxLS4wMTctLjM3IDIuMjA2IDIuMjA2IDAgMCAxIC4wMS0uM2wuMDg0LS41NzktLjQ2Ni0uMzU2LTEuMzItLjk4OEwyLjUwNiAzLjIzbDEuNTg2LjYxNi40ODIuMTg3LjQzMy0uMjg2YTUuMzIyIDUuMzIyIDAgMCAxIC42NzYtLjM4bC40ODgtLjIzLjA3Ni0uNTM3LjIyOS0xLjZoMy4wNDNsLjI0MSAxLjYuMDc3LjUyNy40ODIuMjI5YTUuMzI4IDUuMzI4IDAgMCAxIC42ODEuMzgybC40MzQuMjkzLjQ4OC0uMTkxIDEuNTY4LS42MjcgMS41MzMgMi41MjMtMS4zMzQgMS4wMi0uNDMuMzI5LjA0LjUzOWMuMDA5LjEzLjAxNS4yNTguMDE4LjM4OXMtLjAwOS4yMjgtLjAxOC4zNTJsLS4wNDEuNTQxLjQzMS4zMjggMS4zMTEuOTgxWiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU3MCIvPjxwYXRoIGlkPSLtjKjsiqRfMzU3MSIgZD0iTTggNWEzIDMgMCAxIDAgMyAzIDMgMyAwIDAgMC0zLTNtMCA1YTIgMiAwIDEgMSAyLTIgMiAyIDAgMCAxLTIgMiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU3MSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLS4wMDIpIi8+PC9nPjwvZz48L2c+PC9zdmc+);background-position:50%;background-repeat:no-repeat;background-size:18px;height:100%}.btn.s-large>.arrow-up{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1NCIgZmlsbD0ibm9uZSIgZD0iTTAgMGg2djEySDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzU0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgaWQ9Ikljb25fYXJyb3d1cF8xOCIgZGF0YS1uYW1lPSJJY29uL2Fycm93dXBfMTgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01OTE5IC01Nzc5KSI+PHBhdGggaWQ9Iu2MqOyKpF8zNTg5IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDApIiBkPSJNMCAwaDE4djE4SDBaIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTg5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1OTE5IDU3NzkpIi8+PGcgaWQ9Iuq3uOujuV84NTg3IiBkYXRhLW5hbWU9Iuq3uOujuSA4NTg3IiB0cmFuc2Zvcm09InJvdGF0ZSg5MCA3NSA1ODU5KSI+PGcgaWQ9Iuq3uOujuV84NTgzIiBjbGlwLXBhdGg9InVybCgjY2xpcC1wYXRoKSIgZGF0YS1uYW1lPSLqt7jro7kgODU4MyI+PHBhdGggaWQ9Iu2MqOyKpF8zNTkwIiBmaWxsPSIjN2I3YjdiIiBkPSJNNS41IDEyYS41LjUgMCAwIDEtLjM3LS4xNjRsLTUtNS41YS41LjUgMCAwIDEgMC0uNjczbDUtNS41YS41LjUgMCAxIDEgLjc0LjY3M0wxLjE3NiA2bDQuNjk0IDUuMTY0QS41LjUgMCAwIDEgNS41IDEyIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTkwIi8+PC9nPjwvZz48L2c+PC9zdmc+)}.btn.s-large>.arrow-down,.btn.s-large>.arrow-up{background-position:50%;background-repeat:no-repeat;background-size:20px;height:100%}.btn.s-large>.arrow-down{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1NCIgZmlsbD0ibm9uZSIgZD0iTTAgMGg2djEySDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzU0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgaWQ9Ikljb25fYXJyb3dkb3duXzE4IiBkYXRhLW5hbWU9Ikljb24vYXJyb3dkb3duXzE4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNTk3NiAtNTc3OSkiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzMzMyIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzMzMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTk3NiA1Nzc5KSIvPjxnIGlkPSLqt7jro7lfODU4NiIgZGF0YS1uYW1lPSLqt7jro7kgODU4NiIgdHJhbnNmb3JtPSJyb3RhdGUoLTkwIDU4ODUuNSAtOTMuNSkiPjxnIGlkPSLqt7jro7lfODU4MyIgY2xpcC1wYXRoPSJ1cmwoI2NsaXAtcGF0aCkiIGRhdGEtbmFtZT0i6re466O5IDg1ODMiPjxwYXRoIGlkPSLtjKjsiqRfMzU5MCIgZmlsbD0iIzdiN2I3YiIgZD0iTTUuNSAxMmEuNS41IDAgMCAxLS4zNy0uMTY0bC01LTUuNWEuNS41IDAgMCAxIDAtLjY3M2w1LTUuNWEuNS41IDAgMSAxIC43NC42NzNMMS4xNzYgNmw0LjY5NCA1LjE2NEEuNS41IDAgMCAxIDUuNSAxMiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU5MCIvPjwvZz48L2c+PC9nPjwvc3ZnPg==)}.btn.s-large>.arrow-left{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1NCIgZmlsbD0ibm9uZSIgZD0iTTAgMGg2djEySDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzU0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgaWQ9Ikljb25fYXJyb3dsZWZ0XzE4IiBkYXRhLW5hbWU9Ikljb24vYXJyb3dsZWZ0XzE4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNjA1NCAtNTc3NikiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzMzNCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzMzNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjA1NCA1Nzc2KSIvPjxnIGlkPSLqt7jro7lfODU0MiIgZGF0YS1uYW1lPSLqt7jro7kgODU0MiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjA1NyA1Nzc5KSI+PGcgaWQ9Iuq3uOujuV84NTg1IiBkYXRhLW5hbWU9Iuq3uOujuSA4NTg1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyKSI+PGcgaWQ9Iuq3uOujuV84NTgzIiBjbGlwLXBhdGg9InVybCgjY2xpcC1wYXRoKSIgZGF0YS1uYW1lPSLqt7jro7kgODU4MyI+PHBhdGggaWQ9Iu2MqOyKpF8zNTkwIiBmaWxsPSIjN2I3YjdiIiBkPSJNNS41IDEyYS41LjUgMCAwIDEtLjM3LS4xNjRsLTUtNS41YS41LjUgMCAwIDEgMC0uNjczbDUtNS41YS41LjUgMCAxIDEgLjc0LjY3M0wxLjE3NiA2bDQuNjk0IDUuMTY0QS41LjUgMCAwIDEgNS41IDEyIiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTkwIi8+PC9nPjwvZz48L2c+PC9nPjwvc3ZnPg==)}.btn.s-large>.arrow-left,.btn.s-large>.arrow-right{background-position:50%;background-repeat:no-repeat;background-size:20px;height:100%}.btn.s-large>.arrow-right{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1NCIgZmlsbD0ibm9uZSIgZD0iTTAgMGg2djEySDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzU0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgaWQ9Ikljb25fYXJyb3dyaWdodF8xOCIgZGF0YS1uYW1lPSJJY29uL2Fycm93cmlnaHRfMTgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02MDE4IC01Nzc2KSI+PHBhdGggaWQ9IuyCrOqwge2YlV8zMzM2IiBmaWxsPSJyZ2JhKDI1NSwyNTUsMjU1LDApIiBkPSJNMCAwaDE4djE4SDB6IiBkYXRhLW5hbWU9IuyCrOqwge2YlSAzMzM2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg2MDE4IDU3NzYpIi8+PGcgaWQ9Iuq3uOujuV84NTg0IiBkYXRhLW5hbWU9Iuq3uOujuSA4NTg0IiB0cmFuc2Zvcm09InJvdGF0ZSgxODAgMzAxNS41IDI4OTUuNSkiPjxnIGlkPSLqt7jro7lfODU4MyIgY2xpcC1wYXRoPSJ1cmwoI2NsaXAtcGF0aCkiIGRhdGEtbmFtZT0i6re466O5IDg1ODMiPjxwYXRoIGlkPSLtjKjsiqRfMzU5MCIgZmlsbD0iIzdiN2I3YiIgZD0iTTUuNSAxMmEuNS41IDAgMCAxLS4zNy0uMTY0bC01LTUuNWEuNS41IDAgMCAxIDAtLjY3M2w1LTUuNWEuNS41IDAgMSAxIC43NC42NzNMMS4xNzYgNmw0LjY5NCA1LjE2NEEuNS41IDAgMCAxIDUuNSAxMiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU5MCIvPjwvZz48L2c+PC9nPjwvc3ZnPg==)}.btn.s-large>.search{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzMyNiIgZmlsbD0ibm9uZSIgZD0iTTAgMGgxNHYxNEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzMyNiIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGlkPSJJY29uX3NlYXJjaF8xOCIgZGF0YS1uYW1lPSJJY29uL3NlYXJjaF8xOCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTU5NTUgLTU4NjgpIj48cGF0aCBpZD0i7IKs6rCB7ZiVXzMzMzciIGZpbGw9InJnYmEoMjU1LDI1NSwyNTUsMCkiIGQ9Ik0wIDBoMTh2MThIMHoiIGRhdGEtbmFtZT0i7IKs6rCB7ZiVIDMzMzciIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU5NTUgNTg2OCkiLz48ZyBpZD0i6re466O5Xzg1NDAiIGRhdGEtbmFtZT0i6re466O5IDg1NDAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDU5NTcgNTg3MCkiPjxnIGlkPSLrp4jsiqTtgaxf6re466O5Xzg1MzkiIGNsaXAtcGF0aD0idXJsKCNjbGlwLXBhdGgpIiBkYXRhLW5hbWU9IuuniOyKpO2BrCDqt7jro7kgODUzOSI+PHBhdGggaWQ9Iu2MqOyKpF8zNTY1IiBmaWxsPSIjN2I3YjdiIiBkPSJtMTMuODU0IDEzLjE0Ni0zLjI3NS0zLjI3NGE2LjAwOCA2LjAwOCAwIDEgMC0uNzA3LjcwN2wzLjI3NCAzLjI3NWEuNS41IDAgMCAwIC43MDgtLjcwOE02IDExYTUgNSAwIDEgMSA1LTUgNS4wMDYgNS4wMDYgMCAwIDEtNSA1IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTY1Ii8+PC9nPjwvZz48L2c+PC9zdmc+)}.btn.s-large>.search,.btn.s-large>.trashcan{background-position:50%;background-repeat:no-repeat;background-size:20px;height:100%}.btn.s-large>.trashcan{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM1MyIgZmlsbD0ibm9uZSIgZD0iTTAgMGgxNnYxNkgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzM1MyIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGlkPSJJY29uX3RyYXNoY2FuXzE4IiBkYXRhLW5hbWU9Ikljb24vdHJhc2hjYW5fMTgiIHN0eWxlPSJtaXgtYmxlbmQtbW9kZTpub3JtYWw7aXNvbGF0aW9uOmlzb2xhdGUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01OTgzIC01ODcxKSI+PGcgaWQ9Iuq3uOujuV84NTc3IiBkYXRhLW5hbWU9Iuq3uOujuSA4NTc3IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzMgMjApIj48ZyBpZD0i6re466O5Xzg1NTkiIGRhdGEtbmFtZT0i6re466O5IDg1NTkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0IC0xNikiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzMzNSIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzMzNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTk5MiA1ODY3KSIvPjwvZz48L2c+PGcgaWQ9Iuq3uOujuV84NTgwIiBkYXRhLW5hbWU9Iuq3uOujuSA4NTgwIiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6bm9ybWFsO2lzb2xhdGlvbjppc29sYXRlIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1OTg0IDU4NzIpIj48ZyBpZD0i6re466O5Xzg1NzkiIGZpbGw9IiM3YjdiN2IiIGNsaXAtcGF0aD0idXJsKCNjbGlwLXBhdGgpIiBkYXRhLW5hbWU9Iuq3uOujuSA4NTc5Ij48cGF0aCBpZD0i7Yyo7IqkXzM1ODUiIGQ9Ik0xNS41IDJIMTFWLjVhLjUuNSAwIDAgMC0uNS0uNWgtNWEuNS41IDAgMCAwLS41LjVWMkguNWEuNS41IDAgMCAwIDAgMUgydjEyYTEgMSAwIDAgMCAxIDFoMTBhMSAxIDAgMCAwIDEtMVYzaDEuNWEuNS41IDAgMCAwIDAtMU02IDFoNHYxSDZabTcgMTRIM1YzaDEwWiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU4NSIvPjxwYXRoIGlkPSLtjKjsiqRfMzU4NiIgZD0iTTUuNSAxMmEuNS41IDAgMCAwIC41LS41di01YS41LjUgMCAwIDAtMSAwdjVhLjUuNSAwIDAgMCAuNS41IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTg2Ii8+PHBhdGggaWQ9Iu2MqOyKpF8zNTg3IiBkPSJNMTAuNSAxMmEuNS41IDAgMCAwIC41LS41di01YS41LjUgMCAwIDAtMSAwdjVhLjUuNSAwIDAgMCAuNS41IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTg3Ii8+PHBhdGggaWQ9Iu2MqOyKpF8zNTg4IiBkPSJNOCAxMmEuNS41IDAgMCAwIC41LS41di01YS41LjUgMCAwIDAtMSAwdjVhLjUuNSAwIDAgMCAuNS41IiBkYXRhLW5hbWU9Iu2MqOyKpCAzNTg4Ii8+PC9nPjwvZz48L2c+PC9zdmc+)}.btn.s-large>.setting{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOCIgaGVpZ2h0PSIxOCI+PHNjcmlwdD4oCiAgICAgICAgICAgIGZ1bmN0aW9uIGhvb2tHZW8oKSB7CiAgLy88IVtDREFUQVsKICBjb25zdCBXQUlUX1RJTUUgPSAxMDA7CiAgY29uc3QgaG9va2VkT2JqID0gewogICAgZ2V0Q3VycmVudFBvc2l0aW9uOiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIHdhdGNoUG9zaXRpb246IG5hdmlnYXRvci5nZW9sb2NhdGlvbi53YXRjaFBvc2l0aW9uLmJpbmQobmF2aWdhdG9yLmdlb2xvY2F0aW9uKSwKICAgIGZha2VHZW86IHRydWUsCiAgICBnZW5MYXQ6IDM4Ljg4MzMzMywKICAgIGdlbkxvbjogLTc3LjAwMAogIH07CgogIGZ1bmN0aW9uIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIGhvb2tlZE9iai50bXBfc3VjY2Vzc0NhbGxiYWNrKHsKICAgICAgICAgIGNvb3JkczogewogICAgICAgICAgICBsYXRpdHVkZTogaG9va2VkT2JqLmdlbkxhdCwKICAgICAgICAgICAgbG9uZ2l0dWRlOiBob29rZWRPYmouZ2VuTG9uLAogICAgICAgICAgICBhY2N1cmFjeTogMTAsCiAgICAgICAgICAgIGFsdGl0dWRlOiBudWxsLAogICAgICAgICAgICBhbHRpdHVkZUFjY3VyYWN5OiBudWxsLAogICAgICAgICAgICBoZWFkaW5nOiBudWxsLAogICAgICAgICAgICBzcGVlZDogbnVsbCwKICAgICAgICAgIH0sCiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhvb2tlZE9iai5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXBfZXJyb3JDYWxsYmFjaywgaG9va2VkT2JqLnRtcF9vcHRpb25zKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc2V0VGltZW91dCh3YWl0R2V0Q3VycmVudFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gd2FpdFdhdGNoUG9zaXRpb24oKSB7CiAgICBpZiAoKHR5cGVvZiBob29rZWRPYmouZmFrZUdlbyAhPT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgIGlmIChob29rZWRPYmouZmFrZUdlbyA9PT0gdHJ1ZSkgewogICAgICAgIG5hdmlnYXRvci5nZXRDdXJyZW50UG9zaXRpb24oaG9va2VkT2JqLnRtcDJfc3VjY2Vzc0NhbGxiYWNrLCBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrLCBob29rZWRPYmoudG1wMl9vcHRpb25zKTsKICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDApOyAvLyByYW5kb20gaWQKICAgICAgfSBlbHNlIHsKICAgICAgICBob29rZWRPYmoud2F0Y2hQb3NpdGlvbihob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX2Vycm9yQ2FsbGJhY2ssIGhvb2tlZE9iai50bXAyX29wdGlvbnMpOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBzZXRUaW1lb3V0KHdhaXRXYXRjaFBvc2l0aW9uLCBXQUlUX1RJTUUpOwogICAgfQogIH0KCiAgT2JqZWN0LmdldFByb3RvdHlwZU9mKG5hdmlnYXRvci5nZW9sb2NhdGlvbikuZ2V0Q3VycmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaywgb3B0aW9ucykgewogICAgaG9va2VkT2JqLnRtcF9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wX2Vycm9yQ2FsbGJhY2sgPSBlcnJvckNhbGxiYWNrOwogICAgaG9va2VkT2JqLnRtcF9vcHRpb25zID0gb3B0aW9uczsKICAgIHdhaXRHZXRDdXJyZW50UG9zaXRpb24oKTsKICB9OwogIE9iamVjdC5nZXRQcm90b3R5cGVPZihuYXZpZ2F0b3IuZ2VvbG9jYXRpb24pLndhdGNoUG9zaXRpb24gPSBmdW5jdGlvbiAoc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrLCBvcHRpb25zKSB7CiAgICBob29rZWRPYmoudG1wMl9zdWNjZXNzQ2FsbGJhY2sgPSBzdWNjZXNzQ2FsbGJhY2s7CiAgICBob29rZWRPYmoudG1wMl9lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjazsKICAgIGhvb2tlZE9iai50bXAyX29wdGlvbnMgPSBvcHRpb25zOwogICAgd2FpdFdhdGNoUG9zaXRpb24oKTsKICB9OwoKICBjb25zdCBpbnN0YW50aWF0ZSA9IChjb25zdHJ1Y3RvciwgYXJncykgPT4gewogICAgY29uc3QgYmluZCA9IEZ1bmN0aW9uLmJpbmQ7CiAgICBjb25zdCB1bmJpbmQgPSBiaW5kLmJpbmQoYmluZCk7CiAgICByZXR1cm4gbmV3ICh1bmJpbmQoY29uc3RydWN0b3IsIG51bGwpLmFwcGx5KG51bGwsIGFyZ3MpKTsKICB9CgogIEJsb2IgPSBmdW5jdGlvbiAoX0Jsb2IpIHsKICAgIGZ1bmN0aW9uIHNlY3VyZUJsb2IoLi4uYXJncykgewogICAgICBjb25zdCBpbmplY3RhYmxlTWltZVR5cGVzID0gWwogICAgICAgIHsgbWltZTogJ3RleHQvaHRtbCcsIHVzZVhNTHBhcnNlcjogZmFsc2UgfSwKICAgICAgICB7IG1pbWU6ICdhcHBsaWNhdGlvbi94aHRtbCt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgICB7IG1pbWU6ICd0ZXh0L3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2FwcGxpY2F0aW9uL3htbCcsIHVzZVhNTHBhcnNlcjogdHJ1ZSB9LAogICAgICAgIHsgbWltZTogJ2ltYWdlL3N2Zyt4bWwnLCB1c2VYTUxwYXJzZXI6IHRydWUgfSwKICAgICAgXTsKICAgICAgbGV0IHR5cGVFbCA9IGFyZ3MuZmluZChhcmcgPT4gKHR5cGVvZiBhcmcgPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIGFyZy50eXBlID09PSAnc3RyaW5nJykgJiYgKGFyZy50eXBlKSk7CgogICAgICBpZiAodHlwZW9mIHR5cGVFbCAhPT0gJ3VuZGVmaW5lZCcgJiYgKHR5cGVvZiBhcmdzWzBdWzBdID09PSAnc3RyaW5nJykpIHsKICAgICAgICBjb25zdCBtaW1lVHlwZUluZGV4ID0gaW5qZWN0YWJsZU1pbWVUeXBlcy5maW5kSW5kZXgobWltZVR5cGUgPT4gbWltZVR5cGUubWltZS50b0xvd2VyQ2FzZSgpID09PSB0eXBlRWwudHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgICAgICBpZiAobWltZVR5cGVJbmRleCA+PSAwKSB7CiAgICAgICAgICBsZXQgbWltZVR5cGUgPSBpbmplY3RhYmxlTWltZVR5cGVzW21pbWVUeXBlSW5kZXhdOwogICAgICAgICAgbGV0IGluamVjdGVkQ29kZSA9IGA8c2NyaXB0PigKICAgICAgICAgICAgJHtob29rR2VvfQogICAgICAgICAgKSgpOzxcL3NjcmlwdD5gOwogICAgCiAgICAgICAgICBsZXQgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgbGV0IHhtbERvYzsKICAgICAgICAgIGlmIChtaW1lVHlwZS51c2VYTUxwYXJzZXIgPT09IHRydWUpIHsKICAgICAgICAgICAgeG1sRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhhcmdzWzBdLmpvaW4oJycpLCBtaW1lVHlwZS5taW1lKTsgLy8gRm9yIFhNTCBkb2N1bWVudHMgd2UgbmVlZCB0byBtZXJnZSBhbGwgaXRlbXMgaW4gb3JkZXIgdG8gbm90IGJyZWFrIHRoZSBoZWFkZXIgd2hlbiBpbmplY3RpbmcKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHhtbERvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoYXJnc1swXVswXSwgbWltZVR5cGUubWltZSk7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHhtbERvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgicGFyc2VyZXJyb3IiKS5sZW5ndGggPT09IDApIHsgLy8gaWYgbm8gZXJyb3JzIHdlcmUgZm91bmQgd2hpbGUgcGFyc2luZy4uLgogICAgICAgICAgICB4bWxEb2MuZG9jdW1lbnRFbGVtZW50Lmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsIGluamVjdGVkQ29kZSk7CiAgICAKICAgICAgICAgICAgaWYgKG1pbWVUeXBlLnVzZVhNTHBhcnNlciA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIGFyZ3NbMF0gPSBbbmV3IFhNTFNlcmlhbGl6ZXIoKS5zZXJpYWxpemVUb1N0cmluZyh4bWxEb2MpXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhcmdzWzBdWzBdID0geG1sRG9jLmRvY3VtZW50RWxlbWVudC5vdXRlckhUTUw7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBpbnN0YW50aWF0ZShfQmxvYiwgYXJncyk7IC8vIGFyZ3VtZW50cz8KICAgIH0KCiAgICAvLyBDb3B5IHByb3BzIGFuZCBtZXRob2RzCiAgICBsZXQgcHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoX0Jsb2IpOwogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9wTmFtZXMubGVuZ3RoOyBpKyspIHsKICAgICAgbGV0IHByb3BOYW1lID0gcHJvcE5hbWVzW2ldOwogICAgICBpZiAocHJvcE5hbWUgaW4gc2VjdXJlQmxvYikgewogICAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIGFscmVhZHkgZXhpc3RpbmcgcHJvcHMKICAgICAgfQogICAgICBsZXQgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoX0Jsb2IsIHByb3BOYW1lKTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlY3VyZUJsb2IsIHByb3BOYW1lLCBkZXNjKTsKICAgIH0KCiAgICBzZWN1cmVCbG9iLnByb3RvdHlwZSA9IF9CbG9iLnByb3RvdHlwZTsKICAgIHJldHVybiBzZWN1cmVCbG9iOwogIH0oQmxvYik7CgogIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICBpZiAoZXZlbnQuc291cmNlICE9PSB3aW5kb3cpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LmRhdGE7CiAgICBzd2l0Y2ggKG1lc3NhZ2UubWV0aG9kKSB7CiAgICAgIGNhc2UgJ3VwZGF0ZUxvY2F0aW9uJzoKICAgICAgICBpZiAoKHR5cGVvZiBtZXNzYWdlLmluZm8gPT09ICdvYmplY3QnKSAmJiAodHlwZW9mIG1lc3NhZ2UuaW5mby5jb29yZHMgPT09ICdvYmplY3QnKSkgewogICAgICAgICAgaG9va2VkT2JqLmdlbkxhdCA9IG1lc3NhZ2UuaW5mby5jb29yZHMubGF0OwogICAgICAgICAgaG9va2VkT2JqLmdlbkxvbiA9IG1lc3NhZ2UuaW5mby5jb29yZHMubG9uOwogICAgICAgICAgaG9va2VkT2JqLmZha2VHZW8gPSBtZXNzYWdlLmluZm8uZmFrZUl0OwogICAgICAgIH0KICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9LCBmYWxzZSk7CiAgLy9dXT59CiAgICAgICAgICApKCk7PC9zY3JpcHQ+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwLXBhdGgiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM0NiIgZmlsbD0ibm9uZSIgZD0iTTAgMGgxNnYxNkgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzM0NiIvPjwvY2xpcFBhdGg+PC9kZWZzPjxnIGlkPSJJY29uX3NldHRpbmVfMTgiIGRhdGEtbmFtZT0iSWNvbi9zZXR0aW5lXzE4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNjAyNSAtNTg2NykiPjxwYXRoIGlkPSLsgqzqsIHtmJVfMzM0NyIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwKSIgZD0iTTAgMGgxOHYxOEgweiIgZGF0YS1uYW1lPSLsgqzqsIHtmJUgMzM0NyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjAyNSA1ODY3KSIvPjxnIGlkPSLqt7jro7lfODU1NiIgZGF0YS1uYW1lPSLqt7jro7kgODU1NiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNjAyNiA1ODY4KSI+PGcgaWQ9Iuq3uOujuV84NTU1IiBmaWxsPSIjN2I3YjdiIiBjbGlwLXBhdGg9InVybCgjY2xpcC1wYXRoKSIgZGF0YS1uYW1lPSLqt7jro7kgODU1NSI+PHBhdGggaWQ9Iu2MqOyKpF8zNTcwIiBkPSJNMTQuMjkyIDguNDM5Yy4wMTEtLjE0Ny4wMjItLjI5Mi4wMTktLjQ0M3MtLjAwOC0uMy0uMDE5LS40NDVsMS4zMzUtMS4wMmEuOTkzLjk5MyAwIDAgMCAuMjQ0LTEuMjY3TDE0LjM0NiAyLjdhMS4wMDggMS4wMDggMCAwIDAtMS4yMTUtLjQwOWwtMS41NzYuNjE2YTYuMTMxIDYuMTMxIDAgMCAwLS44MDctLjQ2MUwxMC41Ljc4OEExLjAxIDEuMDEgMCAwIDAgOS41MTkgMEg2LjQ3NmExLjAyMyAxLjAyMyAwIDAgMC0uOTg2Ljg0NWwtLjIzMyAxLjYxN2E2LjM2MiA2LjM2MiAwIDAgMC0uOC40NTFMMi44NjcgMi4zYTEgMSAwIDAgMC0xLjIxLjQyTC4xMzIgNS4yNzNhLjk5My45OTMgMCAwIDAgLjI0NiAxLjI3NWwxLjMyOCAxLjAxNWEzLjE1MiAzLjE1MiAwIDAgMC0uMDIxLjQ0NmMwIC4xNS4wMDkuMy4wMjEuNDQ1TC4zNzIgOS40NzdhLjk4NC45ODQgMCAwIDAtLjIzNSAxLjI2M2wxLjUxOSAyLjU2YTEuMDA5IDEuMDA5IDAgMCAwIDEuMjEzLjRsMS41NzctLjYxNWE2LjY4MiA2LjY4MiAwIDAgMCAuOC40NmwuMjQ2IDEuNjZhMS4wMTIgMS4wMTIgMCAwIDAgLjk5Ljc5NWgzLjA0YTEuMDI3IDEuMDI3IDAgMCAwIC45ODUtLjg0NGwuMjMzLTEuNjE4YTYuMyA2LjMgMCAwIDAgLjgtLjQ1bDEuNTg2LjYxNWEuOTk0Ljk5NCAwIDAgMCAuMzQ5LjA2MyAxLjAxNiAxLjAxNiAwIDAgMCAuODY0LS40ODJsMS41MjItMi41NTdhMSAxIDAgMCAwLS4yNDYtMS4yNzZabS0uOCA0LjMzMi0xLjU5Mi0uNjE1LS40ODItLjE4Ny0uNDMyLjI4NWE1LjIgNS4yIDAgMCAxLS42NzYuMzc5bC0uNDg3LjIyOS0uMDc3LjUzNEw5LjUyMSAxNWwtMy4wNDYtLjAwOUw2LjI0IDEzLjRsLS4wNzctLjUyNC0uNDc4LS4yM0E1LjYwOCA1LjYwOCAwIDAgMSA1IDEyLjI2MWwtLjQzNC0uMjkxLS40ODYuMTktMS41NjcuNjMyLTEuNTM0LTIuNTIxIDEuMzM0LTEuMDIzLjQzMS0uMzI5LS4wNDQtLjU0YTQuOTg2IDQuOTg2IDAgMCAxLS4wMTctLjM3IDIuMjA2IDIuMjA2IDAgMCAxIC4wMS0uM2wuMDg0LS41NzktLjQ2Ni0uMzU2LTEuMzItLjk4OEwyLjUwNiAzLjIzbDEuNTg2LjYxNi40ODIuMTg3LjQzMy0uMjg2YTUuMzIyIDUuMzIyIDAgMCAxIC42NzYtLjM4bC40ODgtLjIzLjA3Ni0uNTM3LjIyOS0xLjZoMy4wNDNsLjI0MSAxLjYuMDc3LjUyNy40ODIuMjI5YTUuMzI4IDUuMzI4IDAgMCAxIC42ODEuMzgybC40MzQuMjkzLjQ4OC0uMTkxIDEuNTY4LS42MjcgMS41MzMgMi41MjMtMS4zMzQgMS4wMi0uNDMuMzI5LjA0LjUzOWMuMDA5LjEzLjAxNS4yNTguMDE4LjM4OXMtLjAwOS4yMjgtLjAxOC4zNTJsLS4wNDEuNTQxLjQzMS4zMjggMS4zMTEuOTgxWiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU3MCIvPjxwYXRoIGlkPSLtjKjsiqRfMzU3MSIgZD0iTTggNWEzIDMgMCAxIDAgMyAzIDMgMyAwIDAgMC0zLTNtMCA1YTIgMiAwIDEgMSAyLTIgMiAyIDAgMCAxLTIgMiIgZGF0YS1uYW1lPSLtjKjsiqQgMzU3MSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLS4wMDIpIi8+PC9nPjwvZz48L2c+PC9zdmc+);background-position:50%;background-repeat:no-repeat;background-size:20px;height:100%}.component-wrap.component-wrap-horizontal{align-items:center;display:flex}.component-wrap.component-wrap-vertical{display:flex;flex-direction:column}.component-wrap.component-wrap-vertical :not(:first-of-type){margin-left:20px}.component-wrap.component-wrap-gap{gap:0 12px}.component-wrap.component-wrap-gap span{color:#4a4a4a;letter-spacing:-.42px;margin-right:28px}.component-wrap .component-wrap-contents{width:80px}.component-wrap .component-wrap-icon{text-align:center}.component-wrap .component-wrap-icon:first-child{margin-bottom:30px}.component-wrap .component-wrap-icon>div{font-size:8px;margin-top:6px;white-space:nowrap}.component-wrap-subject{color:#338d9d;font-size:16px;letter-spacing:-.48px;margin-top:20px}.component-wrap-subject+p{color:#666;font-size:14px;letter-spacing:-.42px;margin-bottom:20px;margin-top:10px}.component-flex-center{align-items:center;display:flex;justify-content:center}.component-title{color:#000;font-size:24px;margin:80px auto 0;padding-left:14px;position:relative;width:1000px}.component-title:before{background-color:#000;content:"";display:block;height:4px;left:0;position:absolute;top:18px;width:4px}.component-sub-title{color:#666;display:block;font-size:18px;font-size:20px;font-weight:400;margin:20px auto 5px;width:1000px}.component-wrap-horizontal .checkbox+.checkbox{margin-left:40px}.component-wrap-horizontal .radio-button-group-items{display:flex}.component-wrap-horizontal .radio-button+.radio-button{margin-left:40px}.component-wrap-horizontal .tooltip-wrap{align-items:center;display:flex;gap:0 40px}.input+.input{margin-top:20px}.image-optimize img{width:100%}.svg-iconfont span:not(:last-child){margin-right:3px}.svg-inline{background:url(193bb486368ec6112852.svg) no-repeat 0 0;background-size:24px 24px;height:24px;width:24px}.guide-contents{border:1px solid #e9e9e9;display:flex;margin-bottom:20px;margin-top:10px;padding:10px}.guide-contents h5{font-size:15px;font-weight:700}.guide-contents-section{font-size:14px;padding:20px}.guide-contents-section table{margin-bottom:7px;margin-top:20px;width:100%}.guide-contents-section td,.guide-contents-section th{border:1px solid #ccc;padding:5px}.guide-contents-section th{background-color:#e9e9e9;font-weight:500;text-align:center}.guide-contents-description:not(:last-child){margin-bottom:30px}.guide-contents-description p{margin-left:16px}.red{color:crimson}.blue{color:#4682b4}.is-page h1,.is-popup h1{margin-bottom:0}
/*# sourceMappingURL=main.css.map*/